function NRQuickStart(){let e=this;if(e.capsule=null,e.shadow=null,e.container=null,e.dragHandle=null,e.isInit=!1,e.docType=docType,e.injectQuickStart=function(){if(!e.isInit)try{return new Promise((c=>{fetch(chrome.runtime.getURL("injected/nr-ext-quick-start/nr-ext-quick-start.html")).then((e=>e.text())).then((async c=>{await async function(t){try{e.capsule=document.createElement("DIV"),e.capsule.id="nr-ext-quick-start-capsule",e.capsule.style.width=0,e.capsule.style.height=0,e.capsule.style.left=0,e.capsule.style.bottom=0,e.capsule.style.display="none",e.shadow=e.capsule.attachShadow({mode:"open"}),await async function(){try{await i(null,"injected/nr-ext-quick-start/nr-ext-quick-start.css")}catch(e){}}();const n=document.createElement("DIV");n.innerHTML=t;const s=[];for(;n.children.length>0;)s.push(n.children[0]),e.shadow.appendChild(n.children[0]);document.body.appendChild(e.capsule)}catch(e){}}(c),await async function(){try{await i(null,chrome.runtime.getURL("injected/nr-ext-reading-bar/nr-ext-reading-bar.css")),e.container=e.shadow.getElementById("nr-ext-quick-bar");const c=e.shadow.getElementById("nr-ext-quick-subTrigger"),r=e.shadow.getElementById("nr-ext-quick-exit"),o=e.shadow.getElementById("nr-ext-quick-play"),l=e.shadow.getElementById("nr-ext-quick-bar"),d=e.shadow.getElementById("nr-ext-quick-start-option-checkbox");e.dragHandle=e.shadow.getElementById("nr-ext-quick-drag");const u={constrain:!1,handle:e.dragHandle,onMouseDown:t,onMouseUp:n,customMove:s};displace(e.container,u),e.container.style.position="fixed",l.addEventListener("mouseenter",(function(){l.classList.remove("nr-ext-mouseleave")})),l.addEventListener("mouseleave",(function(){l.querySelector(".nr-ext-max").classList.contains("show-sub")?l.classList.remove("nr-ext-mouseleave"):l.classList.add("nr-ext-mouseleave")})),o.onclick=()=>{chrome.runtime.sendMessage({message:"injectReadingBarAndRead"})},c.onclick=()=>{e.isExpanded=!0,chrome.runtime.sendMessage({message:"injectReadingBar",docType:utils.docType})};const h=e.shadow.getElementById("nr-ext-qcuik-start-exit-options");r.onclick=()=>{chrome.runtime.sendMessage({fn:"getReadingBarSettings"},(t=>{l.style.display="none",t.isShowQuickStartExitOptions?(e.capsule.style.width="100%",e.capsule.style.height="100%",e.capsule.style.top=0,e.capsule.style.right=0,h.style.display="flex"):(a(),chrome.runtime.sendMessage({fn:"addQuickStartBlackList"},(()=>{chrome.runtime.lastError})))}))};e.shadow.getElementById("nr-ext-quick-exit-cancel").onclick=()=>{l.style.display="flex",e.capsule.style.width="70px",e.capsule.style.height="186px",e.capsule.style.top="70px",e.capsule.style.right="34px",h.style.display="none"};e.shadow.getElementById("nr-quick-start-exit-this-page").onclick=()=>{a(),chrome.runtime.sendMessage({fn:"addQuickStartBlackList"},(()=>{chrome.runtime.lastError})),d.checked&&chrome.runtime.sendMessage({fn:"setReadingBarSetting",key:"isShowQuickStartExitOptions",value:!1},(()=>{chrome.runtime.lastError}))};e.shadow.getElementById("nr-quick-start-exit-all").onclick=()=>{a(),chrome.runtime.sendMessage({fn:"setReadingBarSetting",key:"isQuickStartWebpage",value:!1},(()=>{chrome.runtime.lastError})),chrome.runtime.sendMessage({fn:"setReadingBarSetting",key:"isQuickStartGoogleDocs",value:!1},(()=>{chrome.runtime.lastError})),d.checked&&chrome.runtime.sendMessage({fn:"setReadingBarSetting",key:"isShowQuickStartExitOptions",value:!1},(()=>{chrome.runtime.lastError}))}}catch(e){}}()})).catch((e=>{})),c()}))}catch(e){}},displace=window.displacejs,e.getHasQuickStart=function(t,n,s){s(e.isInit)},e.asyncFunctions=["getHasQuickStart"],e.showTimer=null,e.hideTimer=null,e.isExpanded=!1,"complete"===document.readyState){if("undefined"!=typeof readingBar)return void(nrQuickStart=null);e.injectQuickStart()}else document.onreadystatechange=function(){if("complete"===document.readyState){if("undefined"!=typeof readingBar)return void(nrQuickStart=null);e.injectQuickStart()}};function t(){document.body.style.pointerEvents="none"}function n(){document.body.style.pointerEvents="unset"}function s(e,t,n){try{const s=window.innerHeight,i=window.innerWidth;let a=e.getBoundingClientRect(),c=a.right-a.left,r=a.bottom-a.top;e.style.right=t>=0&&t+c<=i?i-(t+c)+"px":t<0?i-c+"px":"0px",e.style.top=n>=0&&n+r<=s?n+"px":n<0?"0px":s-r+"px"}catch(e){}}function i(t,n){return new Promise(((s,i)=>{let a;if(!t){let e=n.match(/\.([^.]+)$/);e&&(t=e[1])}t||(t="js");const c="nr-ext-"+n;n=chrome.runtime.getURL(n),"css"===t?(a=document.createElement("link"),a.id=c,a.type="text/css",a.rel="stylesheet",a.href=n,a.onload=()=>{n.includes("nr-ext-quick-start.css")&&(e.capsule.style.display="block")},e.shadow.appendChild(a),s()):"js"===t?(a=document.createElement("script"),a.id=c,fetch(n).then((e=>e.text())).then((t=>{a.textContent=t,e.shadow.appendChild(a),s()})).catch((e=>{s()}))):s()})).catch((e=>{}))}function a(){document.getElementById("nr-ext-quick-start-capsule").remove()}}var nrQuickStart=nrQuickStart||new NRQuickStart;