import{e as Jr,f as Xr,g as Qr}from"./chunk-5EAK3AW7.js";Qr();Xr();var cr=Object.defineProperty,Oa=Object.getOwnPropertyDescriptor,_a=Object.getOwnPropertyNames,Ea=Object.prototype.hasOwnProperty,W=(t,n)=>()=>(t&&(n=t(t=0)),n),lt=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),St=(t,n)=>{for(var u in n)cr(t,u,{get:n[u],enumerable:!0})},Ta=(t,n,u,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of _a(n))!Ea.call(t,f)&&f!==u&&cr(t,f,{get:()=>n[f],enumerable:!(l=Oa(n,f))||l.enumerable});return t},ot=t=>Ta(cr({},"__esModule",{value:!0}),t),vt,He,At,dr,pr=W(()=>{"use strict";vt=new Map,He=[],At=(t,n,u)=>{if(n&&typeof n.init=="function"&&typeof n.createInferenceSessionHandler=="function"){let l=vt.get(t);if(l===void 0)vt.set(t,{backend:n,priority:u});else{if(l.priority>u)return;if(l.priority===u&&l.backend!==n)throw new Error(`cannot register backend "${t}" using priority ${u}`)}if(u>=0){let f=He.indexOf(t);f!==-1&&He.splice(f,1);for(let o=0;o<He.length;o++)if(vt.get(He[o]).priority<=u){He.splice(o,0,t);return}He.push(t)}return}throw new TypeError("not a valid backend")},dr=async t=>{let n=t.length===0?He:t,u=[];for(let l of n){let f=vt.get(l);if(f){if(f.initialized)return f.backend;if(f.aborted)continue;let o=!!f.initPromise;try{return o||(f.initPromise=f.backend.init(l)),await f.initPromise,f.initialized=!0,f.backend}catch(d){o||u.push({name:l,err:d}),f.aborted=!0}finally{delete f.initPromise}}}throw new Error(`no available backend found. ERR: ${u.map(l=>`[${l.name}] ${l.err}`).join(", ")}`)}}),Aa=W(()=>{"use strict";pr()}),hn,Ma=W(()=>{"use strict";hn="1.17.1"}),Zt,it,gn=W(()=>{"use strict";Ma(),Zt="warning",it={wasm:{},webgl:{},webgpu:{},versions:{common:hn},set logLevel(t){if(t!==void 0){if(typeof t!="string"||["verbose","info","warning","error","fatal"].indexOf(t)===-1)throw new Error(`Unsupported logging level: ${t}`);Zt=t}},get logLevel(){return Zt}},Object.defineProperty(it,"logLevel",{enumerable:!0})}),V,Sa=W(()=>{"use strict";gn(),V=it}),mn,yn,Ra=W(()=>{"use strict";mn=(t,n)=>{let u=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);u.width=t.dims[3],u.height=t.dims[2];let l=u.getContext("2d");if(l!=null){let f,o;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(f=t.dims[2],o=t.dims[3]):(f=t.dims[3],o=t.dims[2]);let d=n?.format!==void 0?n.format:"RGB",h=n?.norm,m,v;h===void 0||h.mean===void 0?m=[255,255,255,255]:typeof h.mean=="number"?m=[h.mean,h.mean,h.mean,h.mean]:(m=[h.mean[0],h.mean[1],h.mean[2],0],h.mean[3]!==void 0&&(m[3]=h.mean[3])),h===void 0||h.bias===void 0?v=[0,0,0,0]:typeof h.bias=="number"?v=[h.bias,h.bias,h.bias,h.bias]:(v=[h.bias[0],h.bias[1],h.bias[2],0],h.bias[3]!==void 0&&(v[3]=h.bias[3]));let s=o*f,O=0,_=s,A=s*2,D=-1;d==="RGBA"?(O=0,_=s,A=s*2,D=s*3):d==="RGB"?(O=0,_=s,A=s*2):d==="RBG"&&(O=0,A=s,_=s*2);for(let B=0;B<o;B++)for(let N=0;N<f;N++){let L=(t.data[O++]-v[0])*m[0],x=(t.data[_++]-v[1])*m[1],R=(t.data[A++]-v[2])*m[2],$=D===-1?255:(t.data[D++]-v[3])*m[3];l.fillStyle="rgba("+L+","+x+","+R+","+$+")",l.fillRect(N,B,1,1)}if("toDataURL"in u)return u.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},yn=(t,n)=>{let u=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),l;if(u!=null){let f,o,d;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(f=t.dims[2],o=t.dims[1],d=t.dims[3]):(f=t.dims[3],o=t.dims[2],d=t.dims[1]);let h=n!==void 0&&n.format!==void 0?n.format:"RGB",m=n?.norm,v,s;m===void 0||m.mean===void 0?v=[255,255,255,255]:typeof m.mean=="number"?v=[m.mean,m.mean,m.mean,m.mean]:(v=[m.mean[0],m.mean[1],m.mean[2],255],m.mean[3]!==void 0&&(v[3]=m.mean[3])),m===void 0||m.bias===void 0?s=[0,0,0,0]:typeof m.bias=="number"?s=[m.bias,m.bias,m.bias,m.bias]:(s=[m.bias[0],m.bias[1],m.bias[2],0],m.bias[3]!==void 0&&(s[3]=m.bias[3]));let O=o*f;if(n!==void 0&&(n.format!==void 0&&d===4&&n.format!=="RGBA"||d===3&&n.format!=="RGB"&&n.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let _=4,A=0,D=1,B=2,N=3,L=0,x=O,R=O*2,$=-1;h==="RGBA"?(L=0,x=O,R=O*2,$=O*3):h==="RGB"?(L=0,x=O,R=O*2):h==="RBG"&&(L=0,R=O,x=O*2),l=u.createImageData(f,o);for(let he=0;he<o*f;A+=_,D+=_,B+=_,N+=_,he++)l.data[A]=(t.data[L++]-s[0])*v[0],l.data[D]=(t.data[x++]-s[1])*v[1],l.data[B]=(t.data[R++]-s[2])*v[2],l.data[N]=$===-1?255:(t.data[$++]-s[3])*v[3]}else throw new Error("Can not access image data");return l}}),Lt,wn,bn,vn,On,Ca=W(()=>{"use strict";hr(),Lt=(t,n)=>{if(t===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");if(n.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:u,width:l}=n,f=n.norm??{mean:255,bias:0},o,d;typeof f.mean=="number"?o=[f.mean,f.mean,f.mean,f.mean]:o=[f.mean[0],f.mean[1],f.mean[2],f.mean[3]??255],typeof f.bias=="number"?d=[f.bias,f.bias,f.bias,f.bias]:d=[f.bias[0],f.bias[1],f.bias[2],f.bias[3]??0];let h=n.format!==void 0?n.format:"RGBA",m=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",v=u*l,s=m==="RGBA"?new Float32Array(v*4):new Float32Array(v*3),O=4,_=0,A=1,D=2,B=3,N=0,L=v,x=v*2,R=-1;h==="RGB"&&(O=3,_=0,A=1,D=2,B=-1),m==="RGBA"?R=v*3:m==="RBG"?(N=0,x=v,L=v*2):m==="BGR"&&(x=0,L=v,N=v*2);for(let $=0;$<v;$++,_+=O,D+=O,A+=O,B+=O)s[N++]=(t[_]+d[0])/o[0],s[L++]=(t[A]+d[1])/o[1],s[x++]=(t[D]+d[2])/o[2],R!==-1&&B!==-1&&(s[R++]=(t[B]+d[3])/o[3]);return m==="RGBA"?new Te("float32",s,[1,4,u,l]):new Te("float32",s,[1,3,u,l])},wn=async(t,n)=>{let u=typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement,l=typeof ImageData<"u"&&t instanceof ImageData,f=typeof ImageBitmap<"u"&&t instanceof ImageBitmap,o=typeof t=="string",d,h=n??{},m=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},v=s=>s instanceof HTMLCanvasElement||s instanceof OffscreenCanvas?s.getContext("2d"):null;if(u){let s=m();s.width=t.width,s.height=t.height;let O=v(s);if(O!=null){let _=t.height,A=t.width;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(_=n.resizedHeight,A=n.resizedWidth),n!==void 0){if(h=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");h.tensorFormat="RGBA",h.height=_,h.width=A}else h.tensorFormat="RGBA",h.height=_,h.width=A;O.drawImage(t,0,0),d=O.getImageData(0,0,A,_).data}else throw new Error("Can not access image data")}else if(l){let s,O;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(s=n.resizedHeight,O=n.resizedWidth):(s=t.height,O=t.width),n!==void 0&&(h=n),h.format="RGBA",h.height=s,h.width=O,n!==void 0){let _=m();_.width=O,_.height=s;let A=v(_);if(A!=null)A.putImageData(t,0,0),d=A.getImageData(0,0,O,s).data;else throw new Error("Can not access image data")}else d=t.data}else if(f){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");let s=m();s.width=t.width,s.height=t.height;let O=v(s);if(O!=null){let _=t.height,A=t.width;return O.drawImage(t,0,0,A,_),d=O.getImageData(0,0,A,_).data,h.height=_,h.width=A,Lt(d,h)}else throw new Error("Can not access image data")}else{if(o)return new Promise((s,O)=>{let _=m(),A=v(_);if(!t||!A)return O();let D=new Image;D.crossOrigin="Anonymous",D.src=t,D.onload=()=>{_.width=D.width,_.height=D.height,A.drawImage(D,0,0,_.width,_.height);let B=A.getImageData(0,0,_.width,_.height);h.height=_.height,h.width=_.width,s(Lt(B.data,h))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return Lt(d,h);throw new Error("Input data provided is not supported - aborted tensor creation")},bn=(t,n)=>{let{width:u,height:l,download:f,dispose:o}=n,d=[1,l,u,4];return new Te({location:"texture",type:"float32",texture:t,dims:d,download:f,dispose:o})},vn=(t,n)=>{let{dataType:u,dims:l,download:f,dispose:o}=n;return new Te({location:"gpu-buffer",type:u??"float32",gpuBuffer:t,dims:l,download:f,dispose:o})},On=(t,n,u)=>new Te({location:"cpu-pinned",type:t,data:n,dims:u??[n.length]})}),Mt,$t,er,_n,Pa=W(()=>{"use strict";Mt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),$t=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),er=!1,_n=()=>{if(!er){er=!0;let t=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",n=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";t&&(Mt.set("int64",BigInt64Array),$t.set(BigInt64Array,"int64")),n&&(Mt.set("uint64",BigUint64Array),$t.set(BigUint64Array,"uint64"))}}}),En,Tn,Da=W(()=>{"use strict";hr(),En=t=>{let n=1;for(let u=0;u<t.length;u++){let l=t[u];if(typeof l!="number"||!Number.isSafeInteger(l))throw new TypeError(`dims[${u}] must be an integer, got: ${l}`);if(l<0)throw new RangeError(`dims[${u}] must be a non-negative integer, got: ${l}`);n*=l}return n},Tn=(t,n)=>{switch(t.location){case"cpu":return new Te(t.type,t.data,n);case"cpu-pinned":return new Te({location:"cpu-pinned",data:t.data,type:t.type,dims:n});case"texture":return new Te({location:"texture",texture:t.texture,type:t.type,dims:n});case"gpu-buffer":return new Te({location:"gpu-buffer",gpuBuffer:t.gpuBuffer,type:t.type,dims:n});default:throw new Error(`tensorReshape: tensor location ${t.location} is not supported`)}}}),Te,hr=W(()=>{"use strict";Ra(),Ca(),Pa(),Da(),Te=class{constructor(t,n,u){_n();let l,f;if(typeof t=="object"&&"location"in t)switch(this.dataLocation=t.location,l=t.type,f=t.dims,t.location){case"cpu-pinned":{let d=Mt.get(l);if(!d)throw new TypeError(`unsupported type "${l}" to create tensor from pinned buffer`);if(!(t.data instanceof d))throw new TypeError(`buffer should be of type ${d.name}`);this.cpuData=t.data;break}case"texture":{if(l!=="float32")throw new TypeError(`unsupported type "${l}" to create tensor from texture`);this.gpuTextureData=t.texture,this.downloader=t.download,this.disposer=t.dispose;break}case"gpu-buffer":{if(l!=="float32"&&l!=="float16"&&l!=="int32"&&l!=="int64"&&l!=="uint32"&&l!=="bool")throw new TypeError(`unsupported type "${l}" to create tensor from gpu buffer`);this.gpuBufferData=t.gpuBuffer,this.downloader=t.download,this.disposer=t.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let d,h;if(typeof t=="string")if(l=t,h=u,t==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");d=n}else{let m=Mt.get(t);if(m===void 0)throw new TypeError(`Unsupported tensor type: ${t}.`);if(Array.isArray(n)){if(t==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");t==="uint64"||t==="int64"?d=m.from(n,BigInt):d=m.from(n)}else if(n instanceof m)d=n;else throw new TypeError(`A ${l} tensor's data must be type of ${m}`)}else if(h=n,Array.isArray(t)){if(t.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let m=typeof t[0];if(m==="string")l="string",d=t;else if(m==="boolean")l="bool",d=Uint8Array.from(t);else throw new TypeError(`Invalid element type of data array: ${m}.`)}else{let m=$t.get(t.constructor);if(m===void 0)throw new TypeError(`Unsupported type for tensor data: ${t.constructor}.`);l=m,d=t}if(h===void 0)h=[d.length];else if(!Array.isArray(h))throw new TypeError("A tensor's dims must be a number array");f=h,this.cpuData=d,this.dataLocation="cpu"}let o=En(f);if(this.cpuData&&o!==this.cpuData.length)throw new Error(`Tensor's size(${o}) does not match data length(${this.cpuData.length}).`);this.type=l,this.dims=f,this.size=o}static async fromImage(t,n){return wn(t,n)}static fromTexture(t,n){return bn(t,n)}static fromGpuBuffer(t,n){return vn(t,n)}static fromPinnedBuffer(t,n,u){return On(t,n,u)}toDataURL(t){return mn(this,t)}toImageData(t){return yn(this,t)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(t){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let n=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=n,t&&this.disposer&&(this.disposer(),this.disposer=void 0),n}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(t){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Tn(this,t)}}}),pe,gr=W(()=>{"use strict";hr(),pe=Te}),sr,tr,st,ut,An=W(()=>{"use strict";gn(),sr=(t,n)=>{it.wasm.trace&&console.timeStamp(`${t}::ORT::${n}`)},tr=(t,n)=>{let u=new Error().stack?.split(/\r\n|\r|\n/g)||[],l=!1;for(let f=0;f<u.length;f++){if(l&&!u[f].includes("TRACE_FUNC")){let o=`FUNC_${t}::${u[f].trim().split(" ")[1]}`;n&&(o+=`::${n}`),sr("CPU",o);return}u[f].includes("TRACE_FUNC")&&(l=!0)}},st=t=>{it.wasm.trace&&tr("BEGIN",t)},ut=t=>{it.wasm.trace&&tr("END",t)}}),Mn,Ua=W(()=>{"use strict";pr(),gr(),An(),Mn=class Sn{constructor(n){this.handler=n}async run(n,u,l){st();let f={},o={};if(typeof n!="object"||n===null||n instanceof pe||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof u=="object"){if(u===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(u instanceof pe)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(u)){if(u.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let v of u){if(typeof v!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(v)===-1)throw new RangeError(`'fetches' contains invalid output name: ${v}.`);f[v]=null}if(typeof l=="object"&&l!==null)o=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else{let v=!1,s=Object.getOwnPropertyNames(u);for(let O of this.outputNames)if(s.indexOf(O)!==-1){let _=u[O];(_===null||_ instanceof pe)&&(v=!0,d=!1,f[O]=_)}if(v){if(typeof l=="object"&&l!==null)o=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else o=u}}else if(typeof u<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let v of this.inputNames)if(typeof n[v]>"u")throw new Error(`input '${v}' is missing in 'feeds'.`);if(d)for(let v of this.outputNames)f[v]=null;let h=await this.handler.run(n,f,o),m={};for(let v in h)if(Object.hasOwnProperty.call(h,v)){let s=h[v];s instanceof pe?m[v]=s:m[v]=new pe(s.type,s.data,s.dims)}return ut(),m}async release(){return this.handler.dispose()}static async create(n,u,l,f){st();let o,d={};if(typeof n=="string"){if(o=n,typeof u=="object"&&u!==null)d=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(o=n,typeof u=="object"&&u!==null)d=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){let v=n,s=0,O=n.byteLength;if(typeof u=="object"&&u!==null)d=u;else if(typeof u=="number"){if(s=u,!Number.isSafeInteger(s))throw new RangeError("'byteOffset' must be an integer.");if(s<0||s>=v.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${v.byteLength}).`);if(O=n.byteLength-s,typeof l=="number"){if(O=l,!Number.isSafeInteger(O))throw new RangeError("'byteLength' must be an integer.");if(O<=0||s+O>v.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${v.byteLength-s}].`);if(typeof f=="object"&&f!==null)d=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else if(typeof l<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof u<"u")throw new TypeError("'options' must be an object.");o=new Uint8Array(v,s,O)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let h=(d.executionProviders||[]).map(v=>typeof v=="string"?v:v.name),m=await(await dr(h)).createInferenceSessionHandler(o,d);return ut(),new Sn(m)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}}),Rn,Fa=W(()=>{"use strict";Ua(),Rn=Mn}),xa=W(()=>{"use strict"}),Kr,Cn,Ia=W(()=>{"use strict";pr(),gr(),Kr="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Cn=class Pn{constructor(n,u,l){this.handler=n,this.hasOptimizerModel=u,this.hasEvalModel=l}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(n,u){let l=n.evalModel||"",f=n.optimizerModel||"",o=u||{},d=(o.executionProviders||[]).map(m=>typeof m=="string"?m:m.name),h=await dr(d);if(h.createTrainingSessionHandler){let m=await h.createTrainingSessionHandler(n.checkpointState,n.trainModel,l,f,o);return new Pn(m,!!n.optimizerModel,!!n.evalModel)}else throw new Error(Kr)}typeNarrowingForRunStep(n,u,l,f,o){let d={},h={};if(typeof l!="object"||l===null||l instanceof pe||Array.isArray(l))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let m=!0;if(typeof f=="object"){if(f===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(f instanceof pe)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(f)){if(f.length===0)throw new TypeError("'fetches' cannot be an empty array.");m=!1;for(let v of f){if(typeof v!="string")throw new TypeError("'fetches' must be a string array or an object.");if(u.indexOf(v)===-1)throw new RangeError(`'fetches' contains invalid output name: ${v}.`);d[v]=null}if(typeof o=="object"&&o!==null)h=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else{let v=!1,s=Object.getOwnPropertyNames(f);for(let O of u)if(s.indexOf(O)!==-1){let _=f[O];(_===null||_ instanceof pe)&&(v=!0,m=!1,d[O]=_)}if(v){if(typeof o=="object"&&o!==null)h=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else h=f}}else if(typeof f<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let v of n)if(typeof l[v]>"u")throw new Error(`input '${v}' is missing in 'feeds'.`);if(m)for(let v of u)d[v]=null;return[d,h]}convertHandlerReturnTypeToMapOfTensors(n){let u={};for(let l in n)if(Object.hasOwnProperty.call(n,l)){let f=n[l];f instanceof pe?u[l]=f:u[l]=new pe(f.type,f.data,f.dims)}return u}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(n,u,l){let[f,o]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,n,u,l),d=await this.handler.runTrainStep(n,f,o);return this.convertHandlerReturnTypeToMapOfTensors(d)}async runOptimizerStep(n){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(n||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(n,u,l){if(this.hasEvalModel){let[f,o]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,n,u,l),d=await this.handler.runEvalStep(n,f,o);return this.convertHandlerReturnTypeToMapOfTensors(d)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(n=!0){return this.handler.getParametersSize(n)}async loadParametersBuffer(n,u=!0){let l=await this.getParametersSize(u);if(n.length!==4*l)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(n,u)}async getContiguousParameters(n=!0){return this.handler.getContiguousParameters(n)}async release(){return this.handler.dispose()}}}),Dn,ka=W(()=>{"use strict";Ia(),Dn=Cn}),Un={};St(Un,{InferenceSession:()=>Rn,TRACE:()=>sr,TRACE_FUNC_BEGIN:()=>st,TRACE_FUNC_END:()=>ut,Tensor:()=>pe,TrainingSession:()=>Dn,env:()=>V,registerBackend:()=>At});var ft=W(()=>{"use strict";Aa(),Sa(),Fa(),gr(),An(),xa(),ka()}),mr={};St(mr,{createReadStream:()=>In,readFile:()=>Fn,readFileSync:()=>xn});var Fn,xn,In,kn=W(()=>{Fn=void 0,xn=void 0,In=void 0}),yr={};St(yr,{join:()=>Bn});var Bn,Ln=W(()=>{Bn=void 0}),Ba=lt((t,n)=>{"use strict";var u=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(f={}){var o=f,d,h;o.ready=new Promise((a,c)=>{d=a,h=c});var m=Object.assign({},o),v="./this.program",s=typeof window=="object",O=typeof importScripts=="function",_=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A="",D,B,N;if(_){var L=(kn(),ot(mr)),x=(Ln(),ot(yr));A=O?x.dirname(A)+"/":__dirname+"/",D=(a,c)=>(a=ye(a)?new URL(a):x.normalize(a),L.readFileSync(a,c?void 0:"utf8")),N=a=>(a=D(a,!0),a.buffer||(a=new Uint8Array(a)),a),B=(a,c,p,b=!0)=>{a=ye(a)?new URL(a):x.normalize(a),L.readFile(a,b?void 0:"utf8",(M,P)=>{M?p(M):c(b?P.buffer:P)})},!o.thisProgram&&1<process.argv.length&&(v=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(s||O)&&(O?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),l&&(A=l),A.indexOf("blob:")!==0?A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):A="",D=a=>{var c=new XMLHttpRequest;return c.open("GET",a,!1),c.send(null),c.responseText},O&&(N=a=>{var c=new XMLHttpRequest;return c.open("GET",a,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),B=(a,c,p)=>{var b=new XMLHttpRequest;b.open("GET",a,!0),b.responseType="arraybuffer",b.onload=()=>{b.status==200||b.status==0&&b.response?c(b.response):p()},b.onerror=p,b.send(null)});var R=console.log.bind(console),$=console.error.bind(console);Object.assign(o,m),m=null,typeof WebAssembly!="object"&&Q("no native wasm support detected");var he,Ae=!1,me,q,C,X,We;function Ie(){var a=he.buffer;o.HEAP8=me=new Int8Array(a),o.HEAP16=new Int16Array(a),o.HEAPU8=q=new Uint8Array(a),o.HEAPU16=new Uint16Array(a),o.HEAP32=C=new Int32Array(a),o.HEAPU32=X=new Uint32Array(a),o.HEAPF32=new Float32Array(a),o.HEAPF64=We=new Float64Array(a)}var Oe=[],I=[],J=[],Me=0,ce=null,le=null;function Q(a){throw a="Aborted("+a+")",$(a),Ae=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),h(a),a}var ge=a=>a.startsWith("data:application/octet-stream;base64,"),ye=a=>a.startsWith("file://"),_e;if(_e="ort-wasm.wasm",!ge(_e)){var ke=_e;_e=o.locateFile?o.locateFile(ke,A):A+ke}function we(a){if(N)return N(a);throw"both async and sync fetching of the wasm failed"}function Se(a){if(s||O){if(typeof fetch=="function"&&!ye(a))return fetch(a,{credentials:"same-origin"}).then(c=>{if(!c.ok)throw"failed to load wasm binary file at '"+a+"'";return c.arrayBuffer()}).catch(()=>we(a));if(B)return new Promise((c,p)=>{B(a,b=>c(new Uint8Array(b)),p)})}return Promise.resolve().then(()=>we(a))}function be(a,c,p){return Se(a).then(b=>WebAssembly.instantiate(b,c)).then(b=>b).then(p,b=>{$(`failed to asynchronously prepare wasm: ${b}`),Q(b)})}function Be(a,c){var p=_e;return typeof WebAssembly.instantiateStreaming!="function"||ge(p)||ye(p)||_||typeof fetch!="function"?be(p,a,c):fetch(p,{credentials:"same-origin"}).then(b=>WebAssembly.instantiateStreaming(b,a).then(c,function(M){return $(`wasm streaming compile failed: ${M}`),$("falling back to ArrayBuffer instantiation"),be(p,a,c)}))}var K,Z={919888:(a,c,p,b)=>{if(typeof o>"u"||!o.za)return 1;if(a=De(a>>>0),a.startsWith("./")&&(a=a.substring(2)),a=o.za.get(a),!a)return 2;if(c>>>=0,p>>>=0,c+p>a.byteLength)return 3;try{return q.set(a.subarray(c,c+p),b>>>0>>>0),0}catch{return 4}}};function Pe(a){this.xa=a-24,this.Ha=function(c){X[this.xa+4>>>2>>>0]=c},this.Ga=function(c){X[this.xa+8>>>2>>>0]=c},this.Aa=function(c,p){this.Fa(),this.Ha(c),this.Ga(p)},this.Fa=function(){X[this.xa+16>>>2>>>0]=0}}var Ee=0,qe=0,Je=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ct=(a,c,p)=>{c>>>=0;var b=c+p;for(p=c;a[p]&&!(p>=b);)++p;if(16<p-c&&a.buffer&&Je)return Je.decode(a.subarray(c,p));for(b="";c<p;){var M=a[c++];if(M&128){var P=a[c++]&63;if((M&224)==192)b+=String.fromCharCode((M&31)<<6|P);else{var H=a[c++]&63;M=(M&240)==224?(M&15)<<12|P<<6|H:(M&7)<<18|P<<12|H<<6|a[c++]&63,65536>M?b+=String.fromCharCode(M):(M-=65536,b+=String.fromCharCode(55296|M>>10,56320|M&1023))}}else b+=String.fromCharCode(M)}return b},De=(a,c)=>(a>>>=0)?ct(q,a,c):"",Ue=a=>{for(var c=0,p=0;p<a.length;++p){var b=a.charCodeAt(p);127>=b?c++:2047>=b?c+=2:55296<=b&&57343>=b?(c+=4,++p):c+=3}return c},Xe=(a,c,p,b)=>{if(p>>>=0,!(0<b))return 0;var M=p;b=p+b-1;for(var P=0;P<a.length;++P){var H=a.charCodeAt(P);if(55296<=H&&57343>=H){var ne=a.charCodeAt(++P);H=65536+((H&1023)<<10)|ne&1023}if(127>=H){if(p>=b)break;c[p++>>>0]=H}else{if(2047>=H){if(p+1>=b)break;c[p++>>>0]=192|H>>6}else{if(65535>=H){if(p+2>=b)break;c[p++>>>0]=224|H>>12}else{if(p+3>=b)break;c[p++>>>0]=240|H>>18,c[p++>>>0]=128|H>>12&63}c[p++>>>0]=128|H>>6&63}c[p++>>>0]=128|H&63}}return c[p>>>0]=0,p-M},Le=a=>a%4===0&&(a%100!==0||a%400===0),dt=[0,31,60,91,121,152,182,213,244,274,305,335],Ct=[0,31,59,90,120,151,181,212,243,273,304,334],Fe=a=>{var c=Ue(a)+1,p=Dt(c);return p&&Xe(a,q,p,c),p},Qe=[],Ne={},Ke=()=>{if(!Ze){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"},c;for(c in Ne)Ne[c]===void 0?delete a[c]:a[c]=Ne[c];var p=[];for(c in a)p.push(`${c}=${a[c]}`);Ze=p}return Ze},Ze,je=[null,[],[]],pt=[31,29,31,30,31,30,31,31,30,31,30,31],ht=[31,28,31,30,31,30,31,31,30,31,30,31];function et(a){var c=Array(Ue(a)+1);return Xe(a,c,0,c.length),c}function Pt(a,c,p,b){function M(y,j,z){for(y=typeof y=="number"?y.toString():y||"";y.length<j;)y=z[0]+y;return y}function P(y,j){return M(y,j,"0")}function H(y,j){function z(bt){return 0>bt?-1:0<bt?1:0}var Re;return(Re=z(y.getFullYear()-j.getFullYear()))===0&&(Re=z(y.getMonth()-j.getMonth()))===0&&(Re=z(y.getDate()-j.getDate())),Re}function ne(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function fe(y){var j=y.ta;for(y=new Date(new Date(y.ua+1900,0,1).getTime());0<j;){var z=y.getMonth(),Re=(Le(y.getFullYear())?pt:ht)[z];if(j>Re-y.getDate())j-=Re-y.getDate()+1,y.setDate(1),11>z?y.setMonth(z+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+j);break}}return z=new Date(y.getFullYear()+1,0,4),j=ne(new Date(y.getFullYear(),0,4)),z=ne(z),0>=H(j,y)?0>=H(z,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}a>>>=0,c>>>=0,p>>>=0,b>>>=0;var se=X[b+40>>>2>>>0];b={Da:C[b>>>2>>>0],Ca:C[b+4>>>2>>>0],va:C[b+8>>>2>>>0],ya:C[b+12>>>2>>>0],wa:C[b+16>>>2>>>0],ua:C[b+20>>>2>>>0],oa:C[b+24>>>2>>>0],ta:C[b+28>>>2>>>0],Ia:C[b+32>>>2>>>0],Ba:C[b+36>>>2>>>0],Ea:se?De(se):""},p=De(p),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ue in se)p=p.replace(new RegExp(ue,"g"),se[ue]);var yt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),wt="January February March April May June July August September October November December".split(" ");se={"%a":y=>yt[y.oa].substring(0,3),"%A":y=>yt[y.oa],"%b":y=>wt[y.wa].substring(0,3),"%B":y=>wt[y.wa],"%C":y=>P((y.ua+1900)/100|0,2),"%d":y=>P(y.ya,2),"%e":y=>M(y.ya,2," "),"%g":y=>fe(y).toString().substring(2),"%G":y=>fe(y),"%H":y=>P(y.va,2),"%I":y=>(y=y.va,y==0?y=12:12<y&&(y-=12),P(y,2)),"%j":y=>{for(var j=0,z=0;z<=y.wa-1;j+=(Le(y.ua+1900)?pt:ht)[z++]);return P(y.ya+j,3)},"%m":y=>P(y.wa+1,2),"%M":y=>P(y.Ca,2),"%n":()=>`
`,"%p":y=>0<=y.va&&12>y.va?"AM":"PM","%S":y=>P(y.Da,2),"%t":()=>"	","%u":y=>y.oa||7,"%U":y=>P(Math.floor((y.ta+7-y.oa)/7),2),"%V":y=>{var j=Math.floor((y.ta+7-(y.oa+6)%7)/7);if(2>=(y.oa+371-y.ta-2)%7&&j++,j)j==53&&(z=(y.oa+371-y.ta)%7,z==4||z==3&&Le(y.ua)||(j=1));else{j=52;var z=(y.oa+7-y.ta-1)%7;(z==4||z==5&&Le(y.ua%400-1))&&j++}return P(j,2)},"%w":y=>y.oa,"%W":y=>P(Math.floor((y.ta+7-(y.oa+6)%7)/7),2),"%y":y=>(y.ua+1900).toString().substring(2),"%Y":y=>y.ua+1900,"%z":y=>{y=y.Ba;var j=0<=y;return y=Math.abs(y)/60,(j?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Ea,"%%":()=>"%"},p=p.replace(/%%/g,"\0\0");for(ue in se)p.includes(ue)&&(p=p.replace(new RegExp(ue,"g"),se[ue](b)));return p=p.replace(/\0\0/g,"%"),ue=et(p),ue.length>c?0:(me.set(ue,a>>>0),ue.length-1)}var Y={a:function(a,c,p){throw a>>>=0,new Pe(a).Aa(c>>>0,p>>>0),Ee=a,qe++,Ee},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(a,c,p){a=c+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*c:NaN,p>>>=0,a=new Date(1e3*a),C[p>>>2>>>0]=a.getUTCSeconds(),C[p+4>>>2>>>0]=a.getUTCMinutes(),C[p+8>>>2>>>0]=a.getUTCHours(),C[p+12>>>2>>>0]=a.getUTCDate(),C[p+16>>>2>>>0]=a.getUTCMonth(),C[p+20>>>2>>>0]=a.getUTCFullYear()-1900,C[p+24>>>2>>>0]=a.getUTCDay(),C[p+28>>>2>>>0]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(a,c,p){a=c+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*c:NaN,p>>>=0,a=new Date(1e3*a),C[p>>>2>>>0]=a.getSeconds(),C[p+4>>>2>>>0]=a.getMinutes(),C[p+8>>>2>>>0]=a.getHours(),C[p+12>>>2>>>0]=a.getDate(),C[p+16>>>2>>>0]=a.getMonth(),C[p+20>>>2>>>0]=a.getFullYear()-1900,C[p+24>>>2>>>0]=a.getDay(),C[p+28>>>2>>>0]=(Le(a.getFullYear())?dt:Ct)[a.getMonth()]+a.getDate()-1|0,C[p+36>>>2>>>0]=-(60*a.getTimezoneOffset()),c=new Date(a.getFullYear(),6,1).getTimezoneOffset();var b=new Date(a.getFullYear(),0,1).getTimezoneOffset();C[p+32>>>2>>>0]=(c!=b&&a.getTimezoneOffset()==Math.min(b,c))|0},p:function(a){a>>>=0;var c=new Date(C[a+20>>>2>>>0]+1900,C[a+16>>>2>>>0],C[a+12>>>2>>>0],C[a+8>>>2>>>0],C[a+4>>>2>>>0],C[a>>>2>>>0],0),p=C[a+32>>>2>>>0],b=c.getTimezoneOffset(),M=new Date(c.getFullYear(),6,1).getTimezoneOffset(),P=new Date(c.getFullYear(),0,1).getTimezoneOffset(),H=Math.min(P,M);return 0>p?C[a+32>>>2>>>0]=+(M!=P&&H==b):0<p!=(H==b)&&(M=Math.max(P,M),c.setTime(c.getTime()+6e4*((0<p?H:M)-b))),C[a+24>>>2>>>0]=c.getDay(),C[a+28>>>2>>>0]=(Le(c.getFullYear())?dt:Ct)[c.getMonth()]+c.getDate()-1|0,C[a>>>2>>>0]=c.getSeconds(),C[a+4>>>2>>>0]=c.getMinutes(),C[a+8>>>2>>>0]=c.getHours(),C[a+12>>>2>>>0]=c.getDate(),C[a+16>>>2>>>0]=c.getMonth(),C[a+20>>>2>>>0]=c.getYear(),a=c.getTime(),isNaN(a)?(C[tt()>>>2>>>0]=61,a=-1):a/=1e3,gt((K=a,1<=+Math.abs(K)?0<K?+Math.floor(K/4294967296)>>>0:~~+Math.ceil((K-+(~~K>>>0))/4294967296)>>>0:0)),a>>>0},l:function(){return-52},m:function(){},t:function(a,c,p){function b(fe){return(fe=fe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?fe[1]:"GMT"}p>>>=0;var M=new Date().getFullYear(),P=new Date(M,0,1),H=new Date(M,6,1);M=P.getTimezoneOffset();var ne=H.getTimezoneOffset();X[a>>>0>>>2>>>0]=60*Math.max(M,ne),C[c>>>0>>>2>>>0]=+(M!=ne),a=b(P),c=b(H),a=Fe(a),c=Fe(c),ne<M?(X[p>>>2>>>0]=a,X[p+4>>>2>>>0]=c):(X[p>>>2>>>0]=c,X[p+4>>>2>>>0]=a)},d:()=>{Q("")},B:function(a,c,p){a>>>=0,c>>>=0,p>>>=0,Qe.length=0;for(var b;b=q[c++>>>0];){var M=b!=105;M&=b!=112,p+=M&&p%8?4:0,Qe.push(b==112?X[p>>>2>>>0]:b==105?C[p>>>2>>>0]:We[p>>>3>>>0]),p+=M?8:4}return Z[a].apply(null,Qe)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(a,c,p){return c>>>=0,q.copyWithin(a>>>0>>>0,c>>>0,c+(p>>>0)>>>0)},s:function(a){a>>>=0;var c=q.length;if(4294901760<a)return!1;for(var p=1;4>=p;p*=2){var b=c*(1+.2/p);b=Math.min(b,a+100663296);var M=Math;b=Math.max(a,b);e:{M=(M.min.call(M,4294901760,b+(65536-b%65536)%65536)-he.buffer.byteLength+65535)/65536;try{he.grow(M),Ie();var P=1;break e}catch{}P=void 0}if(P)return!0}return!1},C:function(a,c){a>>>=0,c>>>=0;var p=0;return Ke().forEach((b,M)=>{var P=c+p;for(M=X[a+4*M>>>2>>>0]=P,P=0;P<b.length;++P)me[M++>>>0>>>0]=b.charCodeAt(P);me[M>>>0>>>0]=0,p+=b.length+1}),0},D:function(a,c){a>>>=0,c>>>=0;var p=Ke();X[a>>>2>>>0]=p.length;var b=0;return p.forEach(M=>b+=M.length+1),X[c>>>2>>>0]=b,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(a,c,p,b){c>>>=0,p>>>=0,b>>>=0;for(var M=0,P=0;P<p;P++){var H=X[c>>>2>>>0],ne=X[c+4>>>2>>>0];c+=8;for(var fe=0;fe<ne;fe++){var se=q[H+fe>>>0],ue=je[a];se===0||se===10?((a===1?R:$)(ct(ue,0)),ue.length=0):ue.push(se)}M+=ne}return X[b>>>2>>>0]=M,0},r:Pt,c:function(a,c,p,b){return Pt(a>>>0,c>>>0,p>>>0,b>>>0)}},k=function(){function a(p){return k=p.exports,k=Ft(),he=k.K,Ie(),I.unshift(k.L),Me--,Me==0&&(ce!==null&&(clearInterval(ce),ce=null),le&&(p=le,le=null,p())),k}var c={a:Y};if(Me++,o.instantiateWasm)try{return o.instantiateWasm(c,a)}catch(p){$(`Module.instantiateWasm callback failed with error: ${p}`),h(p)}return Be(c,function(p){a(p.instance)}).catch(h),{}}();o._OrtInit=(a,c)=>(o._OrtInit=k.M)(a,c),o._OrtGetLastError=(a,c)=>(o._OrtGetLastError=k.N)(a,c),o._OrtCreateSessionOptions=(a,c,p,b,M,P,H,ne,fe,se)=>(o._OrtCreateSessionOptions=k.O)(a,c,p,b,M,P,H,ne,fe,se),o._OrtAppendExecutionProvider=(a,c)=>(o._OrtAppendExecutionProvider=k.P)(a,c),o._OrtAddFreeDimensionOverride=(a,c,p)=>(o._OrtAddFreeDimensionOverride=k.Q)(a,c,p),o._OrtAddSessionConfigEntry=(a,c,p)=>(o._OrtAddSessionConfigEntry=k.R)(a,c,p),o._OrtReleaseSessionOptions=a=>(o._OrtReleaseSessionOptions=k.S)(a),o._OrtCreateSession=(a,c,p)=>(o._OrtCreateSession=k.T)(a,c,p),o._OrtReleaseSession=a=>(o._OrtReleaseSession=k.U)(a),o._OrtGetInputOutputCount=(a,c,p)=>(o._OrtGetInputOutputCount=k.V)(a,c,p),o._OrtGetInputName=(a,c)=>(o._OrtGetInputName=k.W)(a,c),o._OrtGetOutputName=(a,c)=>(o._OrtGetOutputName=k.X)(a,c),o._OrtFree=a=>(o._OrtFree=k.Y)(a),o._OrtCreateTensor=(a,c,p,b,M,P)=>(o._OrtCreateTensor=k.Z)(a,c,p,b,M,P),o._OrtGetTensorData=(a,c,p,b,M)=>(o._OrtGetTensorData=k._)(a,c,p,b,M),o._OrtReleaseTensor=a=>(o._OrtReleaseTensor=k.$)(a),o._OrtCreateRunOptions=(a,c,p,b)=>(o._OrtCreateRunOptions=k.aa)(a,c,p,b),o._OrtAddRunConfigEntry=(a,c,p)=>(o._OrtAddRunConfigEntry=k.ba)(a,c,p),o._OrtReleaseRunOptions=a=>(o._OrtReleaseRunOptions=k.ca)(a),o._OrtCreateBinding=a=>(o._OrtCreateBinding=k.da)(a),o._OrtBindInput=(a,c,p)=>(o._OrtBindInput=k.ea)(a,c,p),o._OrtBindOutput=(a,c,p,b)=>(o._OrtBindOutput=k.fa)(a,c,p,b),o._OrtClearBoundOutputs=a=>(o._OrtClearBoundOutputs=k.ga)(a),o._OrtReleaseBinding=a=>(o._OrtReleaseBinding=k.ha)(a),o._OrtRunWithBinding=(a,c,p,b,M)=>(o._OrtRunWithBinding=k.ia)(a,c,p,b,M),o._OrtRun=(a,c,p,b,M,P,H,ne)=>(o._OrtRun=k.ja)(a,c,p,b,M,P,H,ne),o._OrtEndProfiling=a=>(o._OrtEndProfiling=k.ka)(a);var tt=()=>(tt=k.la)(),Dt=o._malloc=a=>(Dt=o._malloc=k.ma)(a);o._free=a=>(o._free=k.na)(a);var gt=a=>(gt=k.pa)(a),Ut=()=>(Ut=k.qa)(),F=a=>(F=k.ra)(a),Ge=a=>(Ge=k.sa)(a);function Ft(){var a=k;a=Object.assign({},a);var c=b=>()=>b()>>>0,p=b=>M=>b(M)>>>0;return a.la=c(a.la),a.ma=p(a.ma),a.qa=c(a.qa),a.sa=p(a.sa),a}o.stackAlloc=Ge,o.stackSave=Ut,o.stackRestore=F,o.UTF8ToString=De,o.stringToUTF8=(a,c,p)=>Xe(a,q,c,p),o.lengthBytesUTF8=Ue;var xe;le=function a(){xe||mt(),xe||(le=a)};function mt(){if(!(0<Me)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;){var a=o.preRun.shift();Oe.unshift(a)}for(;0<Oe.length;)Oe.shift()(o);if(!(0<Me||xe||(xe=!0,o.calledRun=!0,Ae))){for(;0<I.length;)I.shift()(o);for(d(o);0<J.length;)J.shift()(o)}}}return mt(),f.ready}})();typeof t=="object"&&typeof n=="object"?n.exports=u:typeof define=="function"&&define.amd&&define([],()=>u)}),La=lt(()=>{}),Na=lt(()=>{}),Nn={};St(Nn,{cpus:()=>Hn});var Hn,Ha=W(()=>{Hn=void 0}),$a=lt((t,n)=>{"use strict";var u=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(f={}){function o(){return J.buffer!=Q.buffer&&we(),Q}function d(){return J.buffer!=Q.buffer&&we(),ge}function h(){return J.buffer!=Q.buffer&&we(),ye}function m(){return J.buffer!=Q.buffer&&we(),_e}function v(){return J.buffer!=Q.buffer&&we(),ke}var s=f,O,_;s.ready=new Promise((e,r)=>{O=e,_=r});var A=Object.assign({},s),D="./this.program",B=(e,r)=>{throw r},N=typeof window=="object",L=typeof importScripts=="function",x=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R=s.ENVIRONMENT_IS_PTHREAD||!1,$="";function he(e){return s.locateFile?s.locateFile(e,$):$+e}var Ae,me,q;if(x){var C=(kn(),ot(mr)),X=(Ln(),ot(yr));$=L?X.dirname($)+"/":__dirname+"/",Ae=(r,i)=>(r=De(r)?new URL(r):X.normalize(r),C.readFileSync(r,i?void 0:"utf8")),q=r=>(r=Ae(r,!0),r.buffer||(r=new Uint8Array(r)),r),me=(r,i,g,E=!0)=>{r=De(r)?new URL(r):X.normalize(r),C.readFile(r,E?void 0:"utf8",(T,S)=>{T?g(T):i(E?S.buffer:S)})},!s.thisProgram&&1<process.argv.length&&(D=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),B=(r,i)=>{throw process.exitCode=r,i},s.inspect=()=>"[Emscripten Module object]";let e;try{e=La()}catch(r){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),r}global.Worker=e.Worker}else(N||L)&&(L?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),typeof l<"u"&&l&&($=l),$.indexOf("blob:")!==0?$=$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):$="",x||(Ae=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},L&&(q=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),me=(e,r,i)=>{var g=new XMLHttpRequest;g.open("GET",e,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?r(g.response):i()},g.onerror=i,g.send(null)}));x&&typeof performance>"u"&&(global.performance=Na().performance);var We=console.log.bind(console),Ie=console.error.bind(console);x&&(We=(...e)=>C.writeSync(1,e.join(" ")+`
`),Ie=(...e)=>C.writeSync(2,e.join(" ")+`
`));var Oe=We,I=Ie;Object.assign(s,A),A=null,typeof WebAssembly!="object"&&Je("no native wasm support detected");var J,Me,ce=!1,le,Q,ge,ye,_e,ke;function we(){var e=J.buffer;s.HEAP8=Q=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=ge=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=ye=new Int32Array(e),s.HEAPU32=_e=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=ke=new Float64Array(e)}var Se=16777216;if(R)J=s.wasmMemory;else if(s.wasmMemory)J=s.wasmMemory;else if(J=new WebAssembly.Memory({initial:Se/65536,maximum:65536,shared:!0}),!(J.buffer instanceof SharedArrayBuffer))throw I("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&I("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");we(),Se=J.buffer.byteLength;var be=[],Be=[],K=[],Z=0,Pe=null,Ee=null;function qe(){if(Z--,Z==0&&(Pe!==null&&(clearInterval(Pe),Pe=null),Ee)){var e=Ee;Ee=null,e()}}function Je(e){throw e="Aborted("+e+")",I(e),ce=!0,le=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),_(e),e}var ct=e=>e.startsWith("data:application/octet-stream;base64,"),De=e=>e.startsWith("file://"),Ue;Ue="ort-wasm-threaded.wasm",ct(Ue)||(Ue=he(Ue));function Xe(e){if(q)return q(e);throw"both async and sync fetching of the wasm failed"}function Le(e){if(N||L){if(typeof fetch=="function"&&!De(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Xe(e));if(me)return new Promise((r,i)=>{me(e,g=>r(new Uint8Array(g)),i)})}return Promise.resolve().then(()=>Xe(e))}function dt(e,r,i){return Le(e).then(g=>WebAssembly.instantiate(g,r)).then(g=>g).then(i,g=>{I(`failed to asynchronously prepare wasm: ${g}`),Je(g)})}function Ct(e,r){var i=Ue;return typeof WebAssembly.instantiateStreaming!="function"||ct(i)||De(i)||x||typeof fetch!="function"?dt(i,e,r):fetch(i,{credentials:"same-origin"}).then(g=>WebAssembly.instantiateStreaming(g,e).then(r,function(E){return I(`wasm streaming compile failed: ${E}`),I("falling back to ArrayBuffer instantiation"),dt(i,e,r)}))}var Fe,Qe={921276:(e,r,i,g)=>{if(typeof s>"u"||!s.cb)return 1;if(e=et(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.cb.get(e),!e)return 2;if(r>>>=0,i>>>=0,g>>>=0,r+i>e.byteLength)return 3;try{return d().set(e.subarray(r,r+i),g>>>0),0}catch{return 4}}};function Ne(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ke=e=>{e.terminate(),e.onmessage=()=>{}},Ze=e=>{F.Pa.length==0&&(gt(),F.Ya(F.Pa[0]));var r=F.Pa.pop();if(!r)return 6;F.Qa.push(r),F.Ma[e.Oa]=r,r.Oa=e.Oa;var i={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return x&&r.unref(),r.postMessage(i,e.qb),0},je=0,pt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ht=(e,r,i)=>{r>>>=0;var g=r+i;for(i=r;e[i]&&!(i>=g);)++i;if(16<i-r&&e.buffer&&pt)return pt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,i):e.subarray(r,i));for(g="";r<i;){var E=e[r++];if(E&128){var T=e[r++]&63;if((E&224)==192)g+=String.fromCharCode((E&31)<<6|T);else{var S=e[r++]&63;E=(E&240)==224?(E&15)<<12|T<<6|S:(E&7)<<18|T<<12|S<<6|e[r++]&63,65536>E?g+=String.fromCharCode(E):(E-=65536,g+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else g+=String.fromCharCode(E)}return g},et=(e,r)=>(e>>>=0)?ht(d(),e,r):"",Pt=e=>{var r=Qt();return e=e(),kt(r),e};function Y(e,r){var i=arguments.length-2,g=arguments;return Pt(()=>{for(var E=Kt(8*i),T=E>>>3,S=0;S<i;S++){var ee=g[2+S];v()[T+S>>>0]=ee}return $r(e,i,E,r)})}function k(e){if(R)return Y(0,1,e);le=e,0<je||(F.lb(),s.onExit?.(e),ce=!0),B(e,new Ne(e))}var tt=e=>{if(le=e,R)throw Ft(e),"unwind";k(e)};function Dt(){for(var e=s.numThreads;e--;)gt();be.unshift(()=>{Z++,Ut(()=>qe())})}function gt(){var e=he("ort-wasm-threaded.worker.js");e=new Worker(e),F.Pa.push(e)}function Ut(e){R?e():Promise.all(F.Pa.map(F.Ya)).then(e)}var F={Pa:[],Qa:[],bb:[],Ma:{},Wa(){R?(F.receiveObjectTransfer=F.jb,F.threadInitTLS=F.ab,F.setExitStatus=F.$a):Dt()},$a:e=>le=e,tb:["$terminateWorker"],lb:()=>{for(var e of F.Qa)Ke(e);for(e of F.Pa)Ke(e);F.Pa=[],F.Qa=[],F.Ma=[]},Za:e=>{var r=e.Oa;delete F.Ma[r],F.Pa.push(e),F.Qa.splice(F.Qa.indexOf(e),1),e.Oa=0,Jt(r)},jb(){},ab(){F.bb.forEach(e=>e())},Ya:e=>new Promise(r=>{e.onmessage=T=>{T=T.data;var S=T.cmd;if(T.targetThread&&T.targetThread!=It()){var ee=F.Ma[T.targetThread];ee?ee.postMessage(T,T.transferList):I(`Internal error! Worker sent a message "${S}" to target pthread ${T.targetThread}, but that thread no longer exists!`)}else S==="checkMailbox"?xt():S==="spawnThread"?Ze(T):S==="cleanupThread"?F.Za(F.Ma[T.thread]):S==="killThread"?(T=T.thread,S=F.Ma[T],delete F.Ma[T],Ke(S),Jt(T),F.Qa.splice(F.Qa.indexOf(S),1),S.Oa=0):S==="cancelThread"?F.Ma[T.thread].postMessage({cmd:"cancel"}):S==="loaded"?(e.loaded=!0,x&&!e.Oa&&e.unref(),r(e)):S==="alert"?alert(`Thread ${T.threadId}: ${T.text}`):T.target==="setimmediate"?e.postMessage(T):S==="callHandler"?s[T.handler](...T.args):S&&I(`worker sent an unknown command ${S}`)},e.onerror=T=>{throw I(`worker sent an error! ${T.filename}:${T.lineno}: ${T.message}`),T},x&&(e.on("message",T=>e.onmessage({data:T})),e.on("error",T=>e.onerror(T)));var i=[],g=["onExit"],E;for(E of g)s.hasOwnProperty(E)&&i.push(E);e.postMessage({cmd:"load",handlers:i,urlOrBlob:s.mainScriptUrlOrBlob||l,wasmMemory:J,wasmModule:Me})})};s.PThread=F;var Ge=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=It(),r=m()[e+52>>>2>>>0];e=m()[e+56>>>2>>>0],Gr(r,r-e),kt(r)};function Ft(e){if(R)return Y(1,0,e);tt(e)}var xe=[],mt;s.invokeEntryPoint=(e,r)=>{var i=xe[e];i||(e>=xe.length&&(xe.length=e+1),xe[e]=i=mt.get(e)),e=i(r),0<je?F.$a(e):Xt(e)};function a(e){this.Va=e-24,this.gb=function(r){m()[this.Va+4>>>2>>>0]=r},this.fb=function(r){m()[this.Va+8>>>2>>>0]=r},this.Wa=function(r,i){this.eb(),this.gb(r),this.fb(i)},this.eb=function(){m()[this.Va+16>>>2>>>0]=0}}var c=0,p=0;function b(e,r,i,g){return R?Y(2,1,e,r,i,g):M(e,r,i,g)}function M(e,r,i,g){if(e>>>=0,r>>>=0,i>>>=0,g>>>=0,typeof SharedArrayBuffer>"u")return I("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var E=[];return R&&E.length===0?b(e,r,i,g):(e={kb:i,Oa:e,hb:g,qb:E},R?(e.sb="spawnThread",postMessage(e,E),0):Ze(e))}function P(e,r,i){return R?Y(3,1,e,r,i):0}function H(e,r){if(R)return Y(4,1,e,r)}var ne=e=>{for(var r=0,i=0;i<e.length;++i){var g=e.charCodeAt(i);127>=g?r++:2047>=g?r+=2:55296<=g&&57343>=g?(r+=4,++i):r+=3}return r},fe=(e,r,i,g)=>{if(i>>>=0,!(0<g))return 0;var E=i;g=i+g-1;for(var T=0;T<e.length;++T){var S=e.charCodeAt(T);if(55296<=S&&57343>=S){var ee=e.charCodeAt(++T);S=65536+((S&1023)<<10)|ee&1023}if(127>=S){if(i>=g)break;r[i++>>>0]=S}else{if(2047>=S){if(i+1>=g)break;r[i++>>>0]=192|S>>6}else{if(65535>=S){if(i+2>=g)break;r[i++>>>0]=224|S>>12}else{if(i+3>=g)break;r[i++>>>0]=240|S>>18,r[i++>>>0]=128|S>>12&63}r[i++>>>0]=128|S>>6&63}r[i++>>>0]=128|S&63}}return r[i>>>0]=0,i-E},se=(e,r,i)=>fe(e,d(),r,i);function ue(e,r){if(R)return Y(5,1,e,r)}function yt(e,r,i){if(R)return Y(6,1,e,r,i)}function wt(e,r,i){return R?Y(7,1,e,r,i):0}function y(e,r){if(R)return Y(8,1,e,r)}function j(e,r,i){if(R)return Y(9,1,e,r,i)}function z(e,r,i,g){if(R)return Y(10,1,e,r,i,g)}function Re(e,r,i,g){if(R)return Y(11,1,e,r,i,g)}function bt(e,r,i,g){if(R)return Y(12,1,e,r,i,g)}function vr(e){if(R)return Y(13,1,e)}function Or(e,r){if(R)return Y(14,1,e,r)}function _r(e,r,i){if(R)return Y(15,1,e,r,i)}function Gt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(h(),e>>>2,e).value.then(xt),e+=128,Atomics.store(h(),e>>>2,1))}s.__emscripten_thread_mailbox_await=Gt;var xt=()=>{var e=It();if(e&&(Gt(e),e=Wr,!ce))try{if(e(),!(0<je))try{R?Xt(le):tt(le)}catch(r){r instanceof Ne||r=="unwind"||B(1,r)}}catch(r){r instanceof Ne||r=="unwind"||B(1,r)}};s.checkMailbox=xt;var Yt=[],rt=e=>e%4===0&&(e%100!==0||e%400===0),Er=[0,31,60,91,121,152,182,213,244,274,305,335],Tr=[0,31,59,90,120,151,181,212,243,273,304,334];function Ar(e,r,i,g,E,T,S,ee){return R?Y(16,1,e,r,i,g,E,T,S,ee):-52}function Mr(e,r,i,g,E,T,S){if(R)return Y(17,1,e,r,i,g,E,T,S)}var Sr=e=>{var r=ne(e)+1,i=Nr(r);return i&&se(e,i,r),i},zt=[],Vt={},Rr=()=>{if(!qt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},r;for(r in Vt)Vt[r]===void 0?delete e[r]:e[r]=Vt[r];var i=[];for(r in e)i.push(`${r}=${e[r]}`);qt=i}return qt},qt;function Cr(e,r){if(R)return Y(18,1,e,r);e>>>=0,r>>>=0;var i=0;return Rr().forEach((g,E)=>{var T=r+i;for(E=m()[e+4*E>>>2>>>0]=T,T=0;T<g.length;++T)o()[E++>>>0>>>0]=g.charCodeAt(T);o()[E>>>0>>>0]=0,i+=g.length+1}),0}function Pr(e,r){if(R)return Y(19,1,e,r);e>>>=0,r>>>=0;var i=Rr();m()[e>>>2>>>0]=i.length;var g=0;return i.forEach(E=>g+=E.length+1),m()[r>>>2>>>0]=g,0}function Dr(e){return R?Y(20,1,e):52}function Ur(e,r,i,g){return R?Y(21,1,e,r,i,g):52}function Fr(e,r,i,g,E){return R?Y(22,1,e,r,i,g,E):70}var ga=[null,[],[]];function xr(e,r,i,g){if(R)return Y(23,1,e,r,i,g);r>>>=0,i>>>=0,g>>>=0;for(var E=0,T=0;T<i;T++){var S=m()[r>>>2>>>0],ee=m()[r+4>>>2>>>0];r+=8;for(var Ce=0;Ce<ee;Ce++){var oe=d()[S+Ce>>>0],de=ga[e];oe===0||oe===10?((e===1?Oe:I)(ht(de,0)),de.length=0):de.push(oe)}E+=ee}return m()[g>>>2>>>0]=E,0}var Ir=[31,29,31,30,31,30,31,31,30,31,30,31],kr=[31,28,31,30,31,30,31,31,30,31,30,31];function ma(e){var r=Array(ne(e)+1);return fe(e,r,0,r.length),r}var ya=(e,r)=>{o().set(e,r>>>0)};function Br(e,r,i,g){function E(w,G,te){for(w=typeof w=="number"?w.toString():w||"";w.length<G;)w=te[0]+w;return w}function T(w,G){return E(w,G,"0")}function S(w,G){function te(qr){return 0>qr?-1:0<qr?1:0}var Ye;return(Ye=te(w.getFullYear()-G.getFullYear()))===0&&(Ye=te(w.getMonth()-G.getMonth()))===0&&(Ye=te(w.getDate()-G.getDate())),Ye}function ee(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function Ce(w){var G=w.Ra;for(w=new Date(new Date(w.Sa+1900,0,1).getTime());0<G;){var te=w.getMonth(),Ye=(rt(w.getFullYear())?Ir:kr)[te];if(G>Ye-w.getDate())G-=Ye-w.getDate()+1,w.setDate(1),11>te?w.setMonth(te+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+G);break}}return te=new Date(w.getFullYear()+1,0,4),G=ee(new Date(w.getFullYear(),0,4)),te=ee(te),0>=S(G,w)?0>=S(te,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}e>>>=0,r>>>=0,i>>>=0,g>>>=0;var oe=m()[g+40>>>2>>>0];g={ob:h()[g>>>2>>>0],nb:h()[g+4>>>2>>>0],Ta:h()[g+8>>>2>>>0],Xa:h()[g+12>>>2>>>0],Ua:h()[g+16>>>2>>>0],Sa:h()[g+20>>>2>>>0],Na:h()[g+24>>>2>>>0],Ra:h()[g+28>>>2>>>0],ub:h()[g+32>>>2>>>0],mb:h()[g+36>>>2>>>0],pb:oe?et(oe):""},i=et(i),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var de in oe)i=i.replace(new RegExp(de,"g"),oe[de]);var zr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Vr="January February March April May June July August September October November December".split(" ");oe={"%a":w=>zr[w.Na].substring(0,3),"%A":w=>zr[w.Na],"%b":w=>Vr[w.Ua].substring(0,3),"%B":w=>Vr[w.Ua],"%C":w=>T((w.Sa+1900)/100|0,2),"%d":w=>T(w.Xa,2),"%e":w=>E(w.Xa,2," "),"%g":w=>Ce(w).toString().substring(2),"%G":w=>Ce(w),"%H":w=>T(w.Ta,2),"%I":w=>(w=w.Ta,w==0?w=12:12<w&&(w-=12),T(w,2)),"%j":w=>{for(var G=0,te=0;te<=w.Ua-1;G+=(rt(w.Sa+1900)?Ir:kr)[te++]);return T(w.Xa+G,3)},"%m":w=>T(w.Ua+1,2),"%M":w=>T(w.nb,2),"%n":()=>`
`,"%p":w=>0<=w.Ta&&12>w.Ta?"AM":"PM","%S":w=>T(w.ob,2),"%t":()=>"	","%u":w=>w.Na||7,"%U":w=>T(Math.floor((w.Ra+7-w.Na)/7),2),"%V":w=>{var G=Math.floor((w.Ra+7-(w.Na+6)%7)/7);if(2>=(w.Na+371-w.Ra-2)%7&&G++,G)G==53&&(te=(w.Na+371-w.Ra)%7,te==4||te==3&&rt(w.Sa)||(G=1));else{G=52;var te=(w.Na+7-w.Ra-1)%7;(te==4||te==5&&rt(w.Sa%400-1))&&G++}return T(G,2)},"%w":w=>w.Na,"%W":w=>T(Math.floor((w.Ra+7-(w.Na+6)%7)/7),2),"%y":w=>(w.Sa+1900).toString().substring(2),"%Y":w=>w.Sa+1900,"%z":w=>{w=w.mb;var G=0<=w;return w=Math.abs(w)/60,(G?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.pb,"%%":()=>"%"},i=i.replace(/%%/g,"\0\0");for(de in oe)i.includes(de)&&(i=i.replace(new RegExp(de,"g"),oe[de](g)));return i=i.replace(/\0\0/g,"%"),de=ma(i),de.length>r?0:(ya(de,e),de.length-1)}F.Wa();var wa=[k,Ft,b,P,H,ue,yt,wt,y,j,z,Re,bt,vr,Or,_r,Ar,Mr,Cr,Pr,Dr,Ur,Fr,xr],ba={b:function(e,r,i){throw e>>>=0,new a(e).Wa(r>>>0,i>>>0),c=e,p++,c},L:function(e){Hr(e>>>0,!L,1,!N,131072,!1),F.ab()},j:function(e){e>>>=0,R?postMessage({cmd:"cleanupThread",thread:e}):F.Za(F.Ma[e])},H:M,h:P,S:H,D:ue,F:yt,T:wt,Q:y,J:j,P:z,n:Re,E:bt,B:vr,R:Or,C:_r,p:()=>1,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>xt()):R?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,r,i,g){r>>>=0,Yt.length=i,g=g>>>0>>>3;for(var E=0;E<i;E++)Yt[E]=v()[g+E>>>0];return e=0>e?Qe[-e-1]:wa[e],F.ib=r,r=e.apply(null,Yt),F.ib=0,r},K:Gt,o:function(e){x&&F.Ma[e>>>0].ref()},s:function(e,r,i){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,i>>>=0,e=new Date(1e3*e),h()[i>>>2>>>0]=e.getUTCSeconds(),h()[i+4>>>2>>>0]=e.getUTCMinutes(),h()[i+8>>>2>>>0]=e.getUTCHours(),h()[i+12>>>2>>>0]=e.getUTCDate(),h()[i+16>>>2>>>0]=e.getUTCMonth(),h()[i+20>>>2>>>0]=e.getUTCFullYear()-1900,h()[i+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,h()[i+28>>>2>>>0]=e},t:function(e,r,i){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,i>>>=0,e=new Date(1e3*e),h()[i>>>2>>>0]=e.getSeconds(),h()[i+4>>>2>>>0]=e.getMinutes(),h()[i+8>>>2>>>0]=e.getHours(),h()[i+12>>>2>>>0]=e.getDate(),h()[i+16>>>2>>>0]=e.getMonth(),h()[i+20>>>2>>>0]=e.getFullYear()-1900,h()[i+24>>>2>>>0]=e.getDay(),r=(rt(e.getFullYear())?Er:Tr)[e.getMonth()]+e.getDate()-1|0,h()[i+28>>>2>>>0]=r,h()[i+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var g=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=g&&e.getTimezoneOffset()==Math.min(g,r))|0,h()[i+32>>>2>>>0]=e},u:function(e){e>>>=0;var r=new Date(h()[e+20>>>2>>>0]+1900,h()[e+16>>>2>>>0],h()[e+12>>>2>>>0],h()[e+8>>>2>>>0],h()[e+4>>>2>>>0],h()[e>>>2>>>0],0),i=h()[e+32>>>2>>>0],g=r.getTimezoneOffset(),E=new Date(r.getFullYear(),6,1).getTimezoneOffset(),T=new Date(r.getFullYear(),0,1).getTimezoneOffset(),S=Math.min(T,E);return 0>i?h()[e+32>>>2>>>0]=+(E!=T&&S==g):0<i!=(S==g)&&(E=Math.max(T,E),r.setTime(r.getTime()+6e4*((0<i?S:E)-g))),h()[e+24>>>2>>>0]=r.getDay(),i=(rt(r.getFullYear())?Er:Tr)[r.getMonth()]+r.getDate()-1|0,h()[e+28>>>2>>>0]=i,h()[e>>>2>>>0]=r.getSeconds(),h()[e+4>>>2>>>0]=r.getMinutes(),h()[e+8>>>2>>>0]=r.getHours(),h()[e+12>>>2>>>0]=r.getDate(),h()[e+16>>>2>>>0]=r.getMonth(),h()[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),isNaN(e)?(h()[Lr()>>>2>>>0]=61,e=-1):e/=1e3,jr((Fe=e,1<=+Math.abs(Fe)?0<Fe?+Math.floor(Fe/4294967296)>>>0:~~+Math.ceil((Fe-+(~~Fe>>>0))/4294967296)>>>0:0)),e>>>0},q:Ar,r:Mr,y:function(e,r,i){function g(oe){return(oe=oe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?oe[1]:"GMT"}e>>>=0,r>>>=0,i>>>=0;var E=new Date().getFullYear(),T=new Date(E,0,1),S=new Date(E,6,1);E=T.getTimezoneOffset();var ee=S.getTimezoneOffset(),Ce=Math.max(E,ee);m()[e>>>2>>>0]=60*Ce,h()[r>>>2>>>0]=+(E!=ee),e=g(T),r=g(S),e=Sr(e),r=Sr(r),ee<E?(m()[i>>>2>>>0]=e,m()[i+4>>>2>>>0]=r):(m()[i>>>2>>>0]=r,m()[i+4>>>2>>>0]=e)},c:()=>{Je("")},O:function(e,r,i){e>>>=0,r>>>=0,i>>>=0,zt.length=0;for(var g;g=d()[r++>>>0];){var E=g!=105;E&=g!=112,i+=E&&i%8?4:0,zt.push(g==112?m()[i>>>2>>>0]:g==105?h()[i>>>2>>>0]:v()[i>>>3>>>0]),i+=E?8:4}return Qe[e].apply(null,zt)},k:()=>{},i:()=>Date.now(),U:()=>{throw je+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>x?(Ha(),ot(Nn)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var r=d().length;if(e<=r||4294901760<e)return!1;for(var i=1;4>=i;i*=2){var g=r*(1+.2/i);g=Math.min(g,e+100663296);var E=Math;g=Math.max(e,g);e:{E=(E.min.call(E,4294901760,g+(65536-g%65536)%65536)-J.buffer.byteLength+65535)/65536;try{J.grow(E),we();var T=1;break e}catch{}T=void 0}if(T)return!0}return!1},M:Cr,N:Pr,G:tt,g:Dr,m:Ur,v:Fr,l:xr,a:J||s.wasmMemory,w:Br,d:function(e,r,i,g){return Br(e>>>0,r>>>0,i>>>0,g>>>0)}},U=function(){function e(i,g){return U=i.exports,U=va(),F.bb.push(U.za),mt=U.Aa,Be.unshift(U.V),Me=g,qe(),U}var r={a:ba};if(Z++,s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(i){I(`Module.instantiateWasm callback failed with error: ${i}`),_(i)}return Ct(r,function(i){e(i.instance,i.module)}).catch(_),{}}();s._OrtInit=(e,r)=>(s._OrtInit=U.W)(e,r),s._OrtGetLastError=(e,r)=>(s._OrtGetLastError=U.X)(e,r),s._OrtCreateSessionOptions=(e,r,i,g,E,T,S,ee,Ce,oe)=>(s._OrtCreateSessionOptions=U.Y)(e,r,i,g,E,T,S,ee,Ce,oe),s._OrtAppendExecutionProvider=(e,r)=>(s._OrtAppendExecutionProvider=U.Z)(e,r),s._OrtAddFreeDimensionOverride=(e,r,i)=>(s._OrtAddFreeDimensionOverride=U._)(e,r,i),s._OrtAddSessionConfigEntry=(e,r,i)=>(s._OrtAddSessionConfigEntry=U.$)(e,r,i),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=U.aa)(e),s._OrtCreateSession=(e,r,i)=>(s._OrtCreateSession=U.ba)(e,r,i),s._OrtReleaseSession=e=>(s._OrtReleaseSession=U.ca)(e),s._OrtGetInputOutputCount=(e,r,i)=>(s._OrtGetInputOutputCount=U.da)(e,r,i),s._OrtGetInputName=(e,r)=>(s._OrtGetInputName=U.ea)(e,r),s._OrtGetOutputName=(e,r)=>(s._OrtGetOutputName=U.fa)(e,r),s._OrtFree=e=>(s._OrtFree=U.ga)(e),s._OrtCreateTensor=(e,r,i,g,E,T)=>(s._OrtCreateTensor=U.ha)(e,r,i,g,E,T),s._OrtGetTensorData=(e,r,i,g,E)=>(s._OrtGetTensorData=U.ia)(e,r,i,g,E),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=U.ja)(e),s._OrtCreateRunOptions=(e,r,i,g)=>(s._OrtCreateRunOptions=U.ka)(e,r,i,g),s._OrtAddRunConfigEntry=(e,r,i)=>(s._OrtAddRunConfigEntry=U.la)(e,r,i),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=U.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=U.na)(e),s._OrtBindInput=(e,r,i)=>(s._OrtBindInput=U.oa)(e,r,i),s._OrtBindOutput=(e,r,i,g)=>(s._OrtBindOutput=U.pa)(e,r,i,g),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=U.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=U.ra)(e),s._OrtRunWithBinding=(e,r,i,g,E)=>(s._OrtRunWithBinding=U.sa)(e,r,i,g,E),s._OrtRun=(e,r,i,g,E,T,S,ee)=>(s._OrtRun=U.ta)(e,r,i,g,E,T,S,ee),s._OrtEndProfiling=e=>(s._OrtEndProfiling=U.ua)(e);var Lr=()=>(Lr=U.va)(),It=s._pthread_self=()=>(It=s._pthread_self=U.wa)(),Nr=s._malloc=e=>(Nr=s._malloc=U.xa)(e);s._free=e=>(s._free=U.ya)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=U.za)();var Hr=s.__emscripten_thread_init=(e,r,i,g,E,T)=>(Hr=s.__emscripten_thread_init=U.Ba)(e,r,i,g,E,T);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=U.Ca)();var $r=(e,r,i,g)=>($r=U.Da)(e,r,i,g),Jt=e=>(Jt=U.Ea)(e),Xt=s.__emscripten_thread_exit=e=>(Xt=s.__emscripten_thread_exit=U.Fa)(e),Wr=()=>(Wr=U.Ga)(),jr=e=>(jr=U.Ha)(e),Gr=(e,r)=>(Gr=U.Ia)(e,r),Qt=()=>(Qt=U.Ja)(),kt=e=>(kt=U.Ka)(e),Kt=e=>(Kt=U.La)(e);function va(){var e=U;e=Object.assign({},e);var r=g=>()=>g()>>>0,i=g=>E=>g(E)>>>0;return e.va=r(e.va),e.wa=r(e.wa),e.xa=i(e.xa),e.emscripten_main_runtime_thread_id=r(e.emscripten_main_runtime_thread_id),e.Ja=r(e.Ja),e.La=i(e.La),e}s.wasmMemory=J,s.stackAlloc=Kt,s.stackSave=Qt,s.stackRestore=kt,s.keepRuntimeAlive=()=>0<je,s.UTF8ToString=et,s.stringToUTF8=se,s.lengthBytesUTF8=ne,s.ExitStatus=Ne,s.PThread=F;var Bt;Ee=function e(){Bt||Yr(),Bt||(Ee=e)};function Yr(){if(!(0<Z))if(R)O(s),R||Ge(Be),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)be.unshift(s.preRun.shift());Ge(be),0<Z||Bt||(Bt=!0,s.calledRun=!0,ce||(R||Ge(Be),O(s),R||Ge(K)))}}return Yr(),f.ready}})();typeof t=="object"&&typeof n=="object"?n.exports=u:typeof define=="function"&&define.amd&&define([],()=>u)}),Wa=lt((t,n)=>{n.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'}),Zr,en,rr,Nt,Ot,nr,tn,rn,nn,$n,ie,Rt=W(()=>{"use strict";Zr=Ba(),en=$a(),Nt=!1,Ot=!1,nr=!1,tn=t=>{if(t===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+t+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+t+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},rn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},nn=(t,n)=>t?n?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":n?"ort-wasm-threaded.wasm":"ort-wasm.wasm",$n=async t=>{if(Nt)return Promise.resolve();if(Ot)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(nr)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ot=!0;let n=t.initTimeout,u=t.numThreads,l=t.simd,f=tn(u),o=l&&rn(),d=t.wasmPaths,h=typeof d=="string"?d:void 0,m=nn(o,f),v=typeof d=="object"?d[m]:void 0,s=!1,O=[];if(n>0&&O.push(new Promise(_=>{setTimeout(()=>{s=!0,_()},n)})),O.push(new Promise((_,A)=>{let D=f?en:Zr,B={locateFile:(N,L)=>f&&N.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Wa()],{type:"text/javascript"})):N.endsWith(".wasm")?v||(h??L)+m:L+N};if(f)if(B.numThreads=u,typeof Blob>"u")B.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let N=`var ortWasmThreaded=${D.toString()};`;B.mainScriptUrlOrBlob=new Blob([N],{type:"text/javascript"})}D(B).then(N=>{Ot=!1,Nt=!0,rr=N,_()},N=>{Ot=!1,nr=!0,A(N)})})),await Promise.race(O),s)throw new Error(`WebAssembly backend initializing failed due to timeout: ${n}ms`)},ie=()=>{if(Nt&&rr)return rr;throw new Error("WebAssembly is not initialized yet.")}}),ae,Wt,re,wr=W(()=>{"use strict";Rt(),ae=(t,n)=>{let u=ie(),l=u.lengthBytesUTF8(t)+1,f=u._malloc(l);return u.stringToUTF8(t,f,l),n.push(f),f},Wt=(t,n,u,l)=>{if(typeof t=="object"&&t!==null){if(u.has(t))throw new Error("Circular reference in options");u.add(t)}Object.entries(t).forEach(([f,o])=>{let d=n?n+f:f;if(typeof o=="object")Wt(o,d+".",u,l);else if(typeof o=="string"||typeof o=="number")l(d,o.toString());else if(typeof o=="boolean")l(d,o?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof o}`)})},re=t=>{let n=ie(),u=n.stackSave();try{let l=n.stackAlloc(8);n._OrtGetLastError(l,l+4);let f=n.HEAP32[l/4],o=n.HEAPU32[l/4+1],d=o?n.UTF8ToString(o):"";throw new Error(`${t} ERROR_CODE: ${f}, ERROR_MESSAGE: ${d}`)}finally{n.stackRestore(u)}}}),Wn,ja=W(()=>{"use strict";Rt(),wr(),Wn=t=>{let n=ie(),u=0,l=[],f=t||{};try{if(t?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof t.logSeverityLevel!="number"||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(t?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof t.logVerbosityLevel!="number"||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);t?.terminate===void 0&&(f.terminate=!1);let o=0;return t?.tag!==void 0&&(o=ae(t.tag,l)),u=n._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,o),u===0&&re("Can't create run options."),t?.extra!==void 0&&Wt(t.extra,"",new WeakSet,(d,h)=>{let m=ae(d,l),v=ae(h,l);n._OrtAddRunConfigEntry(u,m,v)!==0&&re(`Can't set a run config entry: ${d} - ${h}.`)}),[u,l]}catch(o){throw u!==0&&n._OrtReleaseRunOptions(u),l.forEach(d=>n._free(d)),o}}}),an,on,sn,un,jn,Ga=W(()=>{"use strict";Rt(),wr(),an=t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}},on=t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}},sn=t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});let n=t.extra.session;n.use_ort_model_bytes_directly||(n.use_ort_model_bytes_directly="1"),t.executionProviders&&t.executionProviders.some(u=>(typeof u=="string"?u:u.name)==="webgpu")&&(t.enableMemPattern=!1)},un=(t,n,u)=>{for(let l of n){let f=typeof l=="string"?l:l.name;switch(f){case"webnn":if(f="WEBNN",typeof l!="string"){let d=l;if(d?.deviceType){let h=ae("deviceType",u),m=ae(d.deviceType,u);ie()._OrtAddSessionConfigEntry(t,h,m)!==0&&re(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let h=d.numThreads;(typeof h!="number"||!Number.isInteger(h)||h<0)&&(h=0);let m=ae("numThreads",u),v=ae(h.toString(),u);ie()._OrtAddSessionConfigEntry(t,m,v)!==0&&re(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let h=ae("powerPreference",u),m=ae(d.powerPreference,u);ie()._OrtAddSessionConfigEntry(t,h,m)!==0&&re(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof l!="string"){let d=l;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let h=ae("preferredLayout",u),m=ae(d.preferredLayout,u);ie()._OrtAddSessionConfigEntry(t,h,m)!==0&&re(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let o=ae(f,u);ie()._OrtAppendExecutionProvider(t,o)!==0&&re(`Can't append execution provider: ${f}.`)}},jn=t=>{let n=ie(),u=0,l=[],f=t||{};sn(f);try{let o=an(f.graphOptimizationLevel??"all"),d=on(f.executionMode??"sequential"),h=typeof f.logId=="string"?ae(f.logId,l):0,m=f.logSeverityLevel??2;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log serverity level is not valid: ${m}`);let v=f.logVerbosityLevel??0;if(!Number.isInteger(v)||v<0||v>4)throw new Error(`log verbosity level is not valid: ${v}`);let s=typeof f.optimizedModelFilePath=="string"?ae(f.optimizedModelFilePath,l):0;if(u=n._OrtCreateSessionOptions(o,!!f.enableCpuMemArena,!!f.enableMemPattern,d,!!f.enableProfiling,0,h,m,v,s),u===0&&re("Can't create session options."),f.executionProviders&&un(u,f.executionProviders,l),f.freeDimensionOverrides)for(let[O,_]of Object.entries(f.freeDimensionOverrides)){if(typeof O!="string")throw new Error(`free dimension override name must be a string: ${O}`);if(typeof _!="number"||!Number.isInteger(_)||_<0)throw new Error(`free dimension override value must be a non-negative integer: ${_}`);let A=ae(O,l);n._OrtAddFreeDimensionOverride(u,A,_)!==0&&re(`Can't set a free dimension override: ${O} - ${_}.`)}return f.extra!==void 0&&Wt(f.extra,"",new WeakSet,(O,_)=>{let A=ae(O,l),D=ae(_,l);n._OrtAddSessionConfigEntry(u,A,D)!==0&&re(`Can't set a session config entry: ${O} - ${_}.`)}),[u,l]}catch(o){throw u!==0&&n._OrtReleaseSessionOptions(u),l.forEach(d=>n._free(d)),o}}}),ur,Gn,lr,Yn,zn,br,Vn,qn=W(()=>{"use strict";ur=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},Gn=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},lr=t=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][t],Yn=t=>{switch(t){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}},zn=t=>{switch(t){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${t}`)}},br=t=>t==="float32"||t==="int32"||t==="int64"||t==="bool"||t==="float16"||t==="uint32",Vn=t=>{switch(t){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${t}`)}}}),jt,Jn=W(()=>{"use strict";jt=async t=>{if(typeof t=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(t))}catch(n){if(n.code==="ERR_FS_FILE_TOO_LARGE"){let u=(void 0)(t),l=[];for await(let f of u)l.push(f);return new Uint8Array(Jr.concat(l))}throw n}else{let n=await fetch(t);if(!n.ok)throw new Error(`failed to load external data file: ${t}`);let u=n.headers.get("Content-Length"),l=u?parseInt(u,10):0;if(l<1073741824)return new Uint8Array(await n.arrayBuffer());{if(!n.body)throw new Error(`failed to load external data file: ${t}, no response body.`);let f=n.body.getReader(),o;try{o=new ArrayBuffer(l)}catch(h){if(h instanceof RangeError){let m=Math.ceil(l/65536);o=new WebAssembly.Memory({initial:m,maximum:m}).buffer}else throw h}let d=0;for(;;){let{done:h,value:m}=await f.read();if(h)break;let v=m.byteLength;new Uint8Array(o,d,v).set(m),d+=v}return new Uint8Array(o,0,l)}}else return t instanceof Blob?new Uint8Array(await t.arrayBuffer()):t instanceof Uint8Array?t:new Uint8Array(t)}}),ln,Xn,Qn,nt,fn,fr,Kn,Zn,ar,ea,ta,ra,Ya=W(()=>{"use strict";ja(),Ga(),qn(),Rt(),wr(),Jn(),ln=(t,n)=>{ie()._OrtInit(t,n)!==0&&re("Can't initialize onnxruntime.")},Xn=async t=>{ln(t.wasm.numThreads,zn(t.logLevel))},Qn=async(t,n)=>{},nt=new Map,fn=t=>{let n=ie(),u=n.stackSave();try{let l=n.stackAlloc(8);return n._OrtGetInputOutputCount(t,l,l+4)!==0&&re("Can't get session input/output count."),[n.HEAP32[l/4],n.HEAP32[l/4+1]]}finally{n.stackRestore(u)}},fr=t=>{let n=ie(),u=n._malloc(t.byteLength);if(u===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${t.byteLength}.`);return n.HEAPU8.set(t,u),[u,t.byteLength]},Kn=async(t,n)=>{let u,l,f=ie();Array.isArray(t)?[u,l]=t:t.buffer===f.HEAPU8.buffer?[u,l]=[t.byteOffset,t.byteLength]:[u,l]=fr(t);let o=0,d=0,h=0,m=[],v=[],s=[];try{if([d,m]=jn(n),n?.externalData&&f.mountExternalData){let L=[];for(let x of n.externalData){let R=typeof x=="string"?x:x.path;L.push(jt(typeof x=="string"?x:x.data).then($=>{f.mountExternalData(R,$)}))}await Promise.all(L)}o=f._OrtCreateSession(u,l,d),o===0&&re("Can't create a session.");let[O,_]=fn(o),A=[],D=[],B=[];for(let L=0;L<O;L++){let x=f._OrtGetInputName(o,L);x===0&&re("Can't get an input name."),v.push(x),A.push(f.UTF8ToString(x))}for(let L=0;L<_;L++){let x=f._OrtGetOutputName(o,L);x===0&&re("Can't get an output name."),s.push(x);let R=f.UTF8ToString(x);D.push(R)}return nt.set(o,[o,v,s,null]),[o,A,D]}catch(O){throw v.forEach(_=>f._OrtFree(_)),s.forEach(_=>f._OrtFree(_)),h!==0&&f._OrtReleaseBinding(h),o!==0&&f._OrtReleaseSession(o),O}finally{f._free(u),d!==0&&f._OrtReleaseSessionOptions(d),m.forEach(O=>f._free(O)),f.unmountExternalData?.()}},Zn=t=>{let n=ie(),u=nt.get(t);if(!u)throw new Error(`cannot release session. invalid session id: ${t}`);let[l,f,o,d]=u;d&&n._OrtReleaseBinding(d.handle),n.jsepUnregisterBuffers?.(t),f.forEach(h=>n._OrtFree(h)),o.forEach(h=>n._OrtFree(h)),n._OrtReleaseSession(l),nt.delete(t)},ar=(t,n,u,l,f)=>{if(!t){n.push(0);return}let o=ie(),d=t[0],h=t[1],m=t[3],v,s;if(d==="string"&&m==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(m==="gpu-buffer"){let A=t[2].gpuBuffer,D=lr(ur(d));s=h.reduce((B,N)=>B*N,1)*D,v=o.jsepRegisterBuffer(l,f,A,s)}else{let A=t[2];if(Array.isArray(A)){s=4*A.length,v=o._malloc(s),u.push(v);let D=v/4;for(let B=0;B<A.length;B++){if(typeof A[B]!="string")throw new TypeError(`tensor data at index ${B} is not a string`);o.HEAPU32[D++]=ae(A[B],u)}}else s=A.byteLength,v=o._malloc(s),u.push(v),o.HEAPU8.set(new Uint8Array(A.buffer,A.byteOffset,s),v)}let O=o.stackSave(),_=o.stackAlloc(4*h.length);try{let A=_/4;h.forEach(B=>o.HEAP32[A++]=B);let D=o._OrtCreateTensor(ur(d),v,s,_,h.length,Vn(m));D===0&&re(`Can't create tensor for input/output. session=${l}, index=${f}.`),n.push(D)}finally{o.stackRestore(O)}},ea=async(t,n,u,l,f,o)=>{let d=ie(),h=nt.get(t);if(!h)throw new Error(`cannot run inference. invalid session id: ${t}`);let[m,v,s,O]=h,_=n.length,A=l.length,D=0,B=[],N=[],L=[],x=[],R=d.stackSave(),$=d.stackAlloc(_*4),he=d.stackAlloc(_*4),Ae=d.stackAlloc(A*4),me=d.stackAlloc(A*4);try{[D,B]=Wn(o);for(let I=0;I<_;I++)ar(u[I],N,x,t,n[I]);for(let I=0;I<A;I++)ar(f[I],L,x,t,_+l[I]);let q=$/4,C=he/4,X=Ae/4,We=me/4;for(let I=0;I<_;I++)d.HEAPU32[q++]=N[I],d.HEAPU32[C++]=v[n[I]];for(let I=0;I<A;I++)d.HEAPU32[X++]=L[I],d.HEAPU32[We++]=s[l[I]];let Ie;Ie=await d._OrtRun(m,he,$,_,me,A,Ae,D),Ie!==0&&re("failed to call OrtRun().");let Oe=[];for(let I=0;I<A;I++){let J=d.HEAPU32[Ae/4+I];if(J===L[I]){Oe.push(f[I]);continue}let Me=d.stackSave(),ce=d.stackAlloc(4*4),le=!1,Q,ge=0;try{d._OrtGetTensorData(J,ce,ce+4,ce+8,ce+12)!==0&&re(`Can't access output tensor data on index ${I}.`);let ye=ce/4,_e=d.HEAPU32[ye++];ge=d.HEAPU32[ye++];let ke=d.HEAPU32[ye++],we=d.HEAPU32[ye++],Se=[];for(let K=0;K<we;K++)Se.push(d.HEAPU32[ke/4+K]);d._OrtFree(ke);let be=Se.reduce((K,Z)=>K*Z,1);Q=Gn(_e);let Be=O?.outputPreferredLocations[l[I]];if(Q==="string"){if(Be==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],Z=ge/4;for(let Pe=0;Pe<be;Pe++){let Ee=d.HEAPU32[Z++],qe=Pe===be-1?void 0:d.HEAPU32[Z]-Ee;K.push(d.UTF8ToString(Ee,qe))}Oe.push([Q,Se,K,"cpu"])}else if(Be==="gpu-buffer"&&be>0){let K=d.jsepGetBuffer(ge),Z=lr(_e);if(Z===void 0||!br(Q))throw new Error(`Unsupported data type: ${Q}`);le=!0,Oe.push([Q,Se,{gpuBuffer:K,download:d.jsepCreateDownloader(K,be*Z,Q),dispose:()=>{d._OrtReleaseTensor(J)}},"gpu-buffer"])}else{let K=Yn(Q),Z=new K(be);new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength).set(d.HEAPU8.subarray(ge,ge+Z.byteLength)),Oe.push([Q,Se,Z,"cpu"])}}finally{d.stackRestore(Me),Q==="string"&&ge&&d._free(ge),le||d._OrtReleaseTensor(J)}}return O&&d._OrtClearBoundOutputs(O.handle),Oe}finally{d.stackRestore(R),N.forEach(q=>d._OrtReleaseTensor(q)),L.forEach(q=>d._OrtReleaseTensor(q)),x.forEach(q=>d._free(q)),D!==0&&d._OrtReleaseRunOptions(D),B.forEach(q=>d._free(q))}},ta=t=>{let n=ie(),u=nt.get(t);if(!u)throw new Error("invalid session id");let l=u[0],f=n._OrtEndProfiling(l);f===0&&re("Can't get an profile file name."),n._OrtFree(f)},ra=t=>{let n=[];for(let u of t){let l=u[2];!Array.isArray(l)&&"buffer"in l&&n.push(l.buffer)}return n}}),za=lt((t,n)=>{n.exports='/*!\n * ONNX Runtime Web v1.17.1\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Et=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var St=(u,d)=>()=>(u&&(d=u(u=0)),d);var et=(u,d)=>()=>(d||u((d={exports:{}}).exports,d),d.exports),Tt=(u,d)=>{for(var a in d)Et(u,a,{get:d[a],enumerable:!0})},Zr=(u,d,a,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let l of Xr(d))!Qr.call(u,l)&&l!==a&&Et(u,l,{get:()=>d[l],enumerable:!(h=Jr(d,l))||h.enumerable});return u};var tt=u=>Zr(Et({},"__esModule",{value:!0}),u);var At={};Tt(At,{createReadStream:()=>dr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,dr,Mt=St(()=>{Kr=void 0,en=void 0,dr=void 0});var Ct={};Tt(Ct,{join:()=>tn});var tn,Dt=St(()=>{tn=void 0});var gr=et((mr,xt)=>{"use strict";var pr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){var a=d,h,l;a.ready=new Promise((r,o)=>{h=r,l=o});var w=Object.assign({},a),g="./this.program",i=typeof window=="object",A=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I="",B,F,U;if(D){var k=(Mt(),tt(At)),L=(Dt(),tt(Ct));I=A?L.dirname(I)+"/":__dirname+"/",B=(r,o)=>(r=ye(r)?new URL(r):L.normalize(r),k.readFileSync(r,o?void 0:"utf8")),U=r=>(r=B(r,!0),r.buffer||(r=new Uint8Array(r)),r),F=(r,o,s,m=!0)=>{r=ye(r)?new URL(r):L.normalize(r),k.readFile(r,m?void 0:"utf8",(O,S)=>{O?s(O):o(m?S.buffer:S)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(i||A)&&(A?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),u&&(I=u),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",B=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},A&&(U=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),F=(r,o,s)=>{var m=new XMLHttpRequest;m.open("GET",r,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):s()},m.onerror=s,m.send(null)});var _=console.log.bind(console),x=console.error.bind(console);Object.assign(a,w),w=null,typeof WebAssembly!="object"&&de("no native wasm support detected");var N,he=!1,ie,ae,E,Y,ue;function Re(){var r=N.buffer;a.HEAP8=ie=new Int8Array(r),a.HEAP16=new Int16Array(r),a.HEAPU8=ae=new Uint8Array(r),a.HEAPU16=new Uint16Array(r),a.HEAP32=E=new Int32Array(r),a.HEAPU32=Y=new Uint32Array(r),a.HEAPF32=new Float32Array(r),a.HEAPF64=ue=new Float64Array(r)}var Ie=[],ee=[],j=[],ce=0,P=null,te=null;function de(r){throw r="Aborted("+r+")",x(r),he=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),l(r),r}var ge=r=>r.startsWith("data:application/octet-stream;base64,"),ye=r=>r.startsWith("file://"),J;if(J="ort-wasm.wasm",!ge(J)){var fe=J;J=a.locateFile?a.locateFile(fe,I):I+fe}function we(r){if(U)return U(r);throw"both async and sync fetching of the wasm failed"}function Ae(r){if(i||A){if(typeof fetch=="function"&&!ye(r))return fetch(r,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+r+"\'";return o.arrayBuffer()}).catch(()=>we(r));if(F)return new Promise((o,s)=>{F(r,m=>o(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>we(r))}function Me(r,o,s){return Ae(r).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(s,m=>{x(`failed to asynchronously prepare wasm: ${m}`),de(m)})}function Fe(r,o){var s=J;return typeof WebAssembly.instantiateStreaming!="function"||ge(s)||ye(s)||D||typeof fetch!="function"?Me(s,r,o):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,r).then(o,function(O){return x(`wasm streaming compile failed: ${O}`),x("falling back to ArrayBuffer instantiation"),Me(s,r,o)}))}var Ee,pe={919888:(r,o,s,m)=>{if(typeof a>"u"||!a.za)return 1;if(r=be(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=a.za.get(r),!r)return 2;if(o>>>=0,s>>>=0,o+s>r.byteLength)return 3;try{return ae.set(r.subarray(o,o+s),m>>>0>>>0),0}catch{return 4}}};function Oe(r){this.xa=r-24,this.Ha=function(o){Y[this.xa+4>>>2>>>0]=o},this.Ga=function(o){Y[this.xa+8>>>2>>>0]=o},this.Aa=function(o,s){this.Fa(),this.Ha(o),this.Ga(s)},this.Fa=function(){Y[this.xa+16>>>2>>>0]=0}}var ve=0,re=0,Z=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(r,o,s)=>{o>>>=0;var m=o+s;for(s=o;r[s]&&!(s>=m);)++s;if(16<s-o&&r.buffer&&Z)return Z.decode(r.subarray(o,s));for(m="";o<s;){var O=r[o++];if(O&128){var S=r[o++]&63;if((O&224)==192)m+=String.fromCharCode((O&31)<<6|S);else{var R=r[o++]&63;O=(O&240)==224?(O&15)<<12|S<<6|R:(O&7)<<18|S<<12|R<<6|r[o++]&63,65536>O?m+=String.fromCharCode(O):(O-=65536,m+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else m+=String.fromCharCode(O)}return m},be=(r,o)=>(r>>>=0)?Ce(ae,r,o):"",_e=r=>{for(var o=0,s=0;s<r.length;++s){var m=r.charCodeAt(s);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++s):o+=3}return o},ke=(r,o,s,m)=>{if(s>>>=0,!(0<m))return 0;var O=s;m=s+m-1;for(var S=0;S<r.length;++S){var R=r.charCodeAt(S);if(55296<=R&&57343>=R){var K=r.charCodeAt(++S);R=65536+((R&1023)<<10)|K&1023}if(127>=R){if(s>=m)break;o[s++>>>0]=R}else{if(2047>=R){if(s+1>=m)break;o[s++>>>0]=192|R>>6}else{if(65535>=R){if(s+2>=m)break;o[s++>>>0]=224|R>>12}else{if(s+3>=m)break;o[s++>>>0]=240|R>>18,o[s++>>>0]=128|R>>12&63}o[s++>>>0]=128|R>>6&63}o[s++>>>0]=128|R&63}}return o[s>>>0]=0,s-O},Ue=r=>r%4===0&&(r%100!==0||r%400===0),ze=[0,31,60,91,121,152,182,213,244,274,305,335],at=[0,31,59,90,120,151,181,212,243,273,304,334],De=r=>{var o=_e(r)+1,s=st(o);return s&&ke(r,ae,s,o),s},Ne=[],Pe={},He=()=>{if(!$e){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in Pe)Pe[o]===void 0?delete r[o]:r[o]=Pe[o];var s=[];for(o in r)s.push(`${o}=${r[o]}`);$e=s}return $e},$e,Le=[null,[],[]],qe=[31,29,31,30,31,30,31,31,30,31,30,31],Ve=[31,28,31,30,31,30,31,31,30,31,30,31];function Ge(r){var o=Array(_e(r)+1);return ke(r,o,0,o.length),o}function ot(r,o,s,m){function O(c,W,G){for(c=typeof c=="number"?c.toString():c||"";c.length<W;)c=G[0]+c;return c}function S(c,W){return O(c,W,"0")}function R(c,W){function G(Ke){return 0>Ke?-1:0<Ke?1:0}var Se;return(Se=G(c.getFullYear()-W.getFullYear()))===0&&(Se=G(c.getMonth()-W.getMonth()))===0&&(Se=G(c.getDate()-W.getDate())),Se}function K(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function le(c){var W=c.ta;for(c=new Date(new Date(c.ua+1900,0,1).getTime());0<W;){var G=c.getMonth(),Se=(Ue(c.getFullYear())?qe:Ve)[G];if(W>Se-c.getDate())W-=Se-c.getDate()+1,c.setDate(1),11>G?c.setMonth(G+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else{c.setDate(c.getDate()+W);break}}return G=new Date(c.getFullYear()+1,0,4),W=K(new Date(c.getFullYear(),0,4)),G=K(G),0>=R(W,c)?0>=R(G,c)?c.getFullYear()+1:c.getFullYear():c.getFullYear()-1}r>>>=0,o>>>=0,s>>>=0,m>>>=0;var oe=Y[m+40>>>2>>>0];m={Da:E[m>>>2>>>0],Ca:E[m+4>>>2>>>0],va:E[m+8>>>2>>>0],ya:E[m+12>>>2>>>0],wa:E[m+16>>>2>>>0],ua:E[m+20>>>2>>>0],oa:E[m+24>>>2>>>0],ta:E[m+28>>>2>>>0],Ia:E[m+32>>>2>>>0],Ba:E[m+36>>>2>>>0],Ea:oe?be(oe):""},s=be(s),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var se in oe)s=s.replace(new RegExp(se,"g"),oe[se]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ze="January February March April May June July August September October November December".split(" ");oe={"%a":c=>Qe[c.oa].substring(0,3),"%A":c=>Qe[c.oa],"%b":c=>Ze[c.wa].substring(0,3),"%B":c=>Ze[c.wa],"%C":c=>S((c.ua+1900)/100|0,2),"%d":c=>S(c.ya,2),"%e":c=>O(c.ya,2," "),"%g":c=>le(c).toString().substring(2),"%G":c=>le(c),"%H":c=>S(c.va,2),"%I":c=>(c=c.va,c==0?c=12:12<c&&(c-=12),S(c,2)),"%j":c=>{for(var W=0,G=0;G<=c.wa-1;W+=(Ue(c.ua+1900)?qe:Ve)[G++]);return S(c.ya+W,3)},"%m":c=>S(c.wa+1,2),"%M":c=>S(c.Ca,2),"%n":()=>`\n`,"%p":c=>0<=c.va&&12>c.va?"AM":"PM","%S":c=>S(c.Da,2),"%t":()=>"	","%u":c=>c.oa||7,"%U":c=>S(Math.floor((c.ta+7-c.oa)/7),2),"%V":c=>{var W=Math.floor((c.ta+7-(c.oa+6)%7)/7);if(2>=(c.oa+371-c.ta-2)%7&&W++,W)W==53&&(G=(c.oa+371-c.ta)%7,G==4||G==3&&Ue(c.ua)||(W=1));else{W=52;var G=(c.oa+7-c.ta-1)%7;(G==4||G==5&&Ue(c.ua%400-1))&&W++}return S(W,2)},"%w":c=>c.oa,"%W":c=>S(Math.floor((c.ta+7-(c.oa+6)%7)/7),2),"%y":c=>(c.ua+1900).toString().substring(2),"%Y":c=>c.ua+1900,"%z":c=>{c=c.Ba;var W=0<=c;return c=Math.abs(c)/60,(W?"+":"-")+("0000"+(c/60*100+c%60)).slice(-4)},"%Z":c=>c.Ea,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(se in oe)s.includes(se)&&(s=s.replace(new RegExp(se,"g"),oe[se](m)));return s=s.replace(/\\0\\0/g,"%"),se=Ge(s),se.length>o?0:(ie.set(se,r>>>0),se.length-1)}var $={a:function(r,o,s){throw r>>>=0,new Oe(r).Aa(o>>>0,s>>>0),ve=r,re++,ve},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),E[s>>>2>>>0]=r.getUTCSeconds(),E[s+4>>>2>>>0]=r.getUTCMinutes(),E[s+8>>>2>>>0]=r.getUTCHours(),E[s+12>>>2>>>0]=r.getUTCDate(),E[s+16>>>2>>>0]=r.getUTCMonth(),E[s+20>>>2>>>0]=r.getUTCFullYear()-1900,E[s+24>>>2>>>0]=r.getUTCDay(),E[s+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),E[s>>>2>>>0]=r.getSeconds(),E[s+4>>>2>>>0]=r.getMinutes(),E[s+8>>>2>>>0]=r.getHours(),E[s+12>>>2>>>0]=r.getDate(),E[s+16>>>2>>>0]=r.getMonth(),E[s+20>>>2>>>0]=r.getFullYear()-1900,E[s+24>>>2>>>0]=r.getDay(),E[s+28>>>2>>>0]=(Ue(r.getFullYear())?ze:at)[r.getMonth()]+r.getDate()-1|0,E[s+36>>>2>>>0]=-(60*r.getTimezoneOffset()),o=new Date(r.getFullYear(),6,1).getTimezoneOffset();var m=new Date(r.getFullYear(),0,1).getTimezoneOffset();E[s+32>>>2>>>0]=(o!=m&&r.getTimezoneOffset()==Math.min(m,o))|0},p:function(r){r>>>=0;var o=new Date(E[r+20>>>2>>>0]+1900,E[r+16>>>2>>>0],E[r+12>>>2>>>0],E[r+8>>>2>>>0],E[r+4>>>2>>>0],E[r>>>2>>>0],0),s=E[r+32>>>2>>>0],m=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),S=new Date(o.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(S,O);return 0>s?E[r+32>>>2>>>0]=+(O!=S&&R==m):0<s!=(R==m)&&(O=Math.max(S,O),o.setTime(o.getTime()+6e4*((0<s?R:O)-m))),E[r+24>>>2>>>0]=o.getDay(),E[r+28>>>2>>>0]=(Ue(o.getFullYear())?ze:at)[o.getMonth()]+o.getDate()-1|0,E[r>>>2>>>0]=o.getSeconds(),E[r+4>>>2>>>0]=o.getMinutes(),E[r+8>>>2>>>0]=o.getHours(),E[r+12>>>2>>>0]=o.getDate(),E[r+16>>>2>>>0]=o.getMonth(),E[r+20>>>2>>>0]=o.getYear(),r=o.getTime(),isNaN(r)?(E[Ye()>>>2>>>0]=61,r=-1):r/=1e3,Je((Ee=r,1<=+Math.abs(Ee)?0<Ee?+Math.floor(Ee/4294967296)>>>0:~~+Math.ceil((Ee-+(~~Ee>>>0))/4294967296)>>>0:0)),r>>>0},l:function(){return-52},m:function(){},t:function(r,o,s){function m(le){return(le=le.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?le[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),S=new Date(O,0,1),R=new Date(O,6,1);O=S.getTimezoneOffset();var K=R.getTimezoneOffset();Y[r>>>0>>>2>>>0]=60*Math.max(O,K),E[o>>>0>>>2>>>0]=+(O!=K),r=m(S),o=m(R),r=De(r),o=De(o),K<O?(Y[s>>>2>>>0]=r,Y[s+4>>>2>>>0]=o):(Y[s>>>2>>>0]=o,Y[s+4>>>2>>>0]=r)},d:()=>{de("")},B:function(r,o,s){r>>>=0,o>>>=0,s>>>=0,Ne.length=0;for(var m;m=ae[o++>>>0];){var O=m!=105;O&=m!=112,s+=O&&s%8?4:0,Ne.push(m==112?Y[s>>>2>>>0]:m==105?E[s>>>2>>>0]:ue[s>>>3>>>0]),s+=O?8:4}return pe[r].apply(null,Ne)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(r,o,s){return o>>>=0,ae.copyWithin(r>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(r){r>>>=0;var o=ae.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var m=o*(1+.2/s);m=Math.min(m,r+100663296);var O=Math;m=Math.max(r,m);e:{O=(O.min.call(O,4294901760,m+(65536-m%65536)%65536)-N.buffer.byteLength+65535)/65536;try{N.grow(O),Re();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(r,o){r>>>=0,o>>>=0;var s=0;return He().forEach((m,O)=>{var S=o+s;for(O=Y[r+4*O>>>2>>>0]=S,S=0;S<m.length;++S)ie[O++>>>0>>>0]=m.charCodeAt(S);ie[O>>>0>>>0]=0,s+=m.length+1}),0},D:function(r,o){r>>>=0,o>>>=0;var s=He();Y[r>>>2>>>0]=s.length;var m=0;return s.forEach(O=>m+=O.length+1),Y[o>>>2>>>0]=m,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(r,o,s,m){o>>>=0,s>>>=0,m>>>=0;for(var O=0,S=0;S<s;S++){var R=Y[o>>>2>>>0],K=Y[o+4>>>2>>>0];o+=8;for(var le=0;le<K;le++){var oe=ae[R+le>>>0],se=Le[r];oe===0||oe===10?((r===1?_:x)(Ce(se,0)),se.length=0):se.push(oe)}O+=K}return Y[m>>>2>>>0]=O,0},r:ot,c:function(r,o,s,m){return ot(r>>>0,o>>>0,s>>>0,m>>>0)}},C=function(){function r(s){return C=s.exports,C=ut(),N=C.K,Re(),ee.unshift(C.L),ce--,ce==0&&(P!==null&&(clearInterval(P),P=null),te&&(s=te,te=null,s())),C}var o={a:$};if(ce++,a.instantiateWasm)try{return a.instantiateWasm(o,r)}catch(s){x(`Module.instantiateWasm callback failed with error: ${s}`),l(s)}return Fe(o,function(s){r(s.instance)}).catch(l),{}}();a._OrtInit=(r,o)=>(a._OrtInit=C.M)(r,o),a._OrtGetLastError=(r,o)=>(a._OrtGetLastError=C.N)(r,o),a._OrtCreateSessionOptions=(r,o,s,m,O,S,R,K,le,oe)=>(a._OrtCreateSessionOptions=C.O)(r,o,s,m,O,S,R,K,le,oe),a._OrtAppendExecutionProvider=(r,o)=>(a._OrtAppendExecutionProvider=C.P)(r,o),a._OrtAddFreeDimensionOverride=(r,o,s)=>(a._OrtAddFreeDimensionOverride=C.Q)(r,o,s),a._OrtAddSessionConfigEntry=(r,o,s)=>(a._OrtAddSessionConfigEntry=C.R)(r,o,s),a._OrtReleaseSessionOptions=r=>(a._OrtReleaseSessionOptions=C.S)(r),a._OrtCreateSession=(r,o,s)=>(a._OrtCreateSession=C.T)(r,o,s),a._OrtReleaseSession=r=>(a._OrtReleaseSession=C.U)(r),a._OrtGetInputOutputCount=(r,o,s)=>(a._OrtGetInputOutputCount=C.V)(r,o,s),a._OrtGetInputName=(r,o)=>(a._OrtGetInputName=C.W)(r,o),a._OrtGetOutputName=(r,o)=>(a._OrtGetOutputName=C.X)(r,o),a._OrtFree=r=>(a._OrtFree=C.Y)(r),a._OrtCreateTensor=(r,o,s,m,O,S)=>(a._OrtCreateTensor=C.Z)(r,o,s,m,O,S),a._OrtGetTensorData=(r,o,s,m,O)=>(a._OrtGetTensorData=C._)(r,o,s,m,O),a._OrtReleaseTensor=r=>(a._OrtReleaseTensor=C.$)(r),a._OrtCreateRunOptions=(r,o,s,m)=>(a._OrtCreateRunOptions=C.aa)(r,o,s,m),a._OrtAddRunConfigEntry=(r,o,s)=>(a._OrtAddRunConfigEntry=C.ba)(r,o,s),a._OrtReleaseRunOptions=r=>(a._OrtReleaseRunOptions=C.ca)(r),a._OrtCreateBinding=r=>(a._OrtCreateBinding=C.da)(r),a._OrtBindInput=(r,o,s)=>(a._OrtBindInput=C.ea)(r,o,s),a._OrtBindOutput=(r,o,s,m)=>(a._OrtBindOutput=C.fa)(r,o,s,m),a._OrtClearBoundOutputs=r=>(a._OrtClearBoundOutputs=C.ga)(r),a._OrtReleaseBinding=r=>(a._OrtReleaseBinding=C.ha)(r),a._OrtRunWithBinding=(r,o,s,m,O)=>(a._OrtRunWithBinding=C.ia)(r,o,s,m,O),a._OrtRun=(r,o,s,m,O,S,R,K)=>(a._OrtRun=C.ja)(r,o,s,m,O,S,R,K),a._OrtEndProfiling=r=>(a._OrtEndProfiling=C.ka)(r);var Ye=()=>(Ye=C.la)(),st=a._malloc=r=>(st=a._malloc=C.ma)(r);a._free=r=>(a._free=C.na)(r);var Je=r=>(Je=C.pa)(r),it=()=>(it=C.qa)(),M=r=>(M=C.ra)(r),Be=r=>(Be=C.sa)(r);function ut(){var r=C;r=Object.assign({},r);var o=m=>()=>m()>>>0,s=m=>O=>m(O)>>>0;return r.la=o(r.la),r.ma=s(r.ma),r.qa=o(r.qa),r.sa=s(r.sa),r}a.stackAlloc=Be,a.stackSave=it,a.stackRestore=M,a.UTF8ToString=be,a.stringToUTF8=(r,o,s)=>ke(r,ae,o,s),a.lengthBytesUTF8=_e;var xe;te=function r(){xe||Xe(),xe||(te=r)};function Xe(){if(!(0<ce)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var r=a.preRun.shift();Ie.unshift(r)}for(;0<Ie.length;)Ie.shift()(a);if(!(0<ce||xe||(xe=!0,a.calledRun=!0,he))){for(;0<ee.length;)ee.shift()(a);for(h(a);0<j.length;)j.shift()(a)}}}return Xe(),d.ready}})();typeof mr=="object"&&typeof xt=="object"?xt.exports=pr:typeof define=="function"&&define.amd&&define([],()=>pr)});var hr=et(()=>{});var yr=et(()=>{});var br={};Tt(br,{cpus:()=>rn});var rn,wr=St(()=>{rn=void 0});var _r=et((vr,Ft)=>{"use strict";var Or=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){function a(){return j.buffer!=de.buffer&&we(),de}function h(){return j.buffer!=de.buffer&&we(),ge}function l(){return j.buffer!=de.buffer&&we(),ye}function w(){return j.buffer!=de.buffer&&we(),J}function g(){return j.buffer!=de.buffer&&we(),fe}var i=d,A,D;i.ready=new Promise((e,t)=>{A=e,D=t});var I=Object.assign({},i),B="./this.program",F=(e,t)=>{throw t},U=typeof window=="object",k=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=i.ENVIRONMENT_IS_PTHREAD||!1,x="";function N(e){return i.locateFile?i.locateFile(e,x):x+e}var he,ie,ae;if(L){var E=(Mt(),tt(At)),Y=(Dt(),tt(Ct));x=k?Y.dirname(x)+"/":__dirname+"/",he=(t,n)=>(t=be(t)?new URL(t):Y.normalize(t),E.readFileSync(t,n?void 0:"utf8")),ae=t=>(t=he(t,!0),t.buffer||(t=new Uint8Array(t)),t),ie=(t,n,f,y=!0)=>{t=be(t)?new URL(t):Y.normalize(t),E.readFile(t,y?void 0:"utf8",(b,v)=>{b?f(b):n(y?v.buffer:v)})},!i.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),F=(t,n)=>{throw process.exitCode=t,n},i.inspect=()=>"[Emscripten Module object]";let e;try{e=hr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(U||k)&&(k?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),typeof u<"u"&&u&&(x=u),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",L||(he=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},k&&(ae=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ie=(e,t,n)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?t(f.response):n()},f.onerror=n,f.send(null)}));L&&typeof performance>"u"&&(global.performance=yr().performance);var ue=console.log.bind(console),Re=console.error.bind(console);L&&(ue=(...e)=>E.writeSync(1,e.join(" ")+`\n`),Re=(...e)=>E.writeSync(2,e.join(" ")+`\n`));var Ie=ue,ee=Re;Object.assign(i,I),I=null,typeof WebAssembly!="object"&&Z("no native wasm support detected");var j,ce,P=!1,te,de,ge,ye,J,fe;function we(){var e=j.buffer;i.HEAP8=de=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAPU8=ge=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=ye=new Int32Array(e),i.HEAPU32=J=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=fe=new Float64Array(e)}var Ae=16777216;if(_)j=i.wasmMemory;else if(i.wasmMemory)j=i.wasmMemory;else if(j=new WebAssembly.Memory({initial:Ae/65536,maximum:65536,shared:!0}),!(j.buffer instanceof SharedArrayBuffer))throw ee("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),L&&ee("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");we(),Ae=j.buffer.byteLength;var Me=[],Fe=[],Ee=[],pe=0,Oe=null,ve=null;function re(){if(pe--,pe==0&&(Oe!==null&&(clearInterval(Oe),Oe=null),ve)){var e=ve;ve=null,e()}}function Z(e){throw e="Aborted("+e+")",ee(e),P=!0,te=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),D(e),e}var Ce=e=>e.startsWith("data:application/octet-stream;base64,"),be=e=>e.startsWith("file://"),_e;_e="ort-wasm-threaded.wasm",Ce(_e)||(_e=N(_e));function ke(e){if(ae)return ae(e);throw"both async and sync fetching of the wasm failed"}function Ue(e){if(U||k){if(typeof fetch=="function"&&!be(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>ke(e));if(ie)return new Promise((t,n)=>{ie(e,f=>t(new Uint8Array(f)),n)})}return Promise.resolve().then(()=>ke(e))}function ze(e,t,n){return Ue(e).then(f=>WebAssembly.instantiate(f,t)).then(f=>f).then(n,f=>{ee(`failed to asynchronously prepare wasm: ${f}`),Z(f)})}function at(e,t){var n=_e;return typeof WebAssembly.instantiateStreaming!="function"||Ce(n)||be(n)||L||typeof fetch!="function"?ze(n,e,t):fetch(n,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(t,function(y){return ee(`wasm streaming compile failed: ${y}`),ee("falling back to ArrayBuffer instantiation"),ze(n,e,t)}))}var De,Ne={921276:(e,t,n,f)=>{if(typeof i>"u"||!i.cb)return 1;if(e=Ge(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=i.cb.get(e),!e)return 2;if(t>>>=0,n>>>=0,f>>>=0,t+n>e.byteLength)return 3;try{return h().set(e.subarray(t,t+n),f>>>0),0}catch{return 4}}};function Pe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var He=e=>{e.terminate(),e.onmessage=()=>{}},$e=e=>{M.Pa.length==0&&(Je(),M.Ya(M.Pa[0]));var t=M.Pa.pop();if(!t)return 6;M.Qa.push(t),M.Ma[e.Oa]=t,t.Oa=e.Oa;var n={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return L&&t.unref(),t.postMessage(n,e.qb),0},Le=0,qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=(e,t,n)=>{t>>>=0;var f=t+n;for(n=t;e[n]&&!(n>=f);)++n;if(16<n-t&&e.buffer&&qe)return qe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(f="";t<n;){var y=e[t++];if(y&128){var b=e[t++]&63;if((y&224)==192)f+=String.fromCharCode((y&31)<<6|b);else{var v=e[t++]&63;y=(y&240)==224?(y&15)<<12|b<<6|v:(y&7)<<18|b<<12|v<<6|e[t++]&63,65536>y?f+=String.fromCharCode(y):(y-=65536,f+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else f+=String.fromCharCode(y)}return f},Ge=(e,t)=>(e>>>=0)?Ve(h(),e,t):"",ot=e=>{var t=vt();return e=e(),ct(t),e};function $(e,t){var n=arguments.length-2,f=arguments;return ot(()=>{for(var y=_t(8*n),b=y>>>3,v=0;v<n;v++){var z=f[2+v];g()[b+v>>>0]=z}return ar(e,n,y,t)})}function C(e){if(_)return $(0,1,e);te=e,0<Le||(M.lb(),i.onExit?.(e),P=!0),F(e,new Pe(e))}var Ye=e=>{if(te=e,_)throw ut(e),"unwind";C(e)};function st(){for(var e=i.numThreads;e--;)Je();Me.unshift(()=>{pe++,it(()=>re())})}function Je(){var e=N("ort-wasm-threaded.worker.js");e=new Worker(e),M.Pa.push(e)}function it(e){_?e():Promise.all(M.Pa.map(M.Ya)).then(e)}var M={Pa:[],Qa:[],bb:[],Ma:{},Wa(){_?(M.receiveObjectTransfer=M.jb,M.threadInitTLS=M.ab,M.setExitStatus=M.$a):st()},$a:e=>te=e,tb:["$terminateWorker"],lb:()=>{for(var e of M.Qa)He(e);for(e of M.Pa)He(e);M.Pa=[],M.Qa=[],M.Ma=[]},Za:e=>{var t=e.Oa;delete M.Ma[t],M.Pa.push(e),M.Qa.splice(M.Qa.indexOf(e),1),e.Oa=0,wt(t)},jb(){},ab(){M.bb.forEach(e=>e())},Ya:e=>new Promise(t=>{e.onmessage=b=>{b=b.data;var v=b.cmd;if(b.targetThread&&b.targetThread!=lt()){var z=M.Ma[b.targetThread];z?z.postMessage(b,b.transferList):ee(`Internal error! Worker sent a message "${v}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ft():v==="spawnThread"?$e(b):v==="cleanupThread"?M.Za(M.Ma[b.thread]):v==="killThread"?(b=b.thread,v=M.Ma[b],delete M.Ma[b],He(v),wt(b),M.Qa.splice(M.Qa.indexOf(v),1),v.Oa=0):v==="cancelThread"?M.Ma[b.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,L&&!e.Oa&&e.unref(),t(e)):v==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?e.postMessage(b):v==="callHandler"?i[b.handler](...b.args):v&&ee(`worker sent an unknown command ${v}`)},e.onerror=b=>{throw ee(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},L&&(e.on("message",b=>e.onmessage({data:b})),e.on("error",b=>e.onerror(b)));var n=[],f=["onExit"],y;for(y of f)i.hasOwnProperty(y)&&n.push(y);e.postMessage({cmd:"load",handlers:n,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:j,wasmModule:ce})})};i.PThread=M;var Be=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=()=>{var e=lt(),t=w()[e+52>>>2>>>0];e=w()[e+56>>>2>>>0],ir(t,t-e),ct(t)};function ut(e){if(_)return $(1,0,e);Ye(e)}var xe=[],Xe;i.invokeEntryPoint=(e,t)=>{var n=xe[e];n||(e>=xe.length&&(xe.length=e+1),xe[e]=n=Xe.get(e)),e=n(t),0<Le?M.$a(e):Ot(e)};function r(e){this.Va=e-24,this.gb=function(t){w()[this.Va+4>>>2>>>0]=t},this.fb=function(t){w()[this.Va+8>>>2>>>0]=t},this.Wa=function(t,n){this.eb(),this.gb(t),this.fb(n)},this.eb=function(){w()[this.Va+16>>>2>>>0]=0}}var o=0,s=0;function m(e,t,n,f){return _?$(2,1,e,t,n,f):O(e,t,n,f)}function O(e,t,n,f){if(e>>>=0,t>>>=0,n>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return ee("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var y=[];return _&&y.length===0?m(e,t,n,f):(e={kb:n,Oa:e,hb:f,qb:y},_?(e.sb="spawnThread",postMessage(e,y),0):$e(e))}function S(e,t,n){return _?$(3,1,e,t,n):0}function R(e,t){if(_)return $(4,1,e,t)}var K=e=>{for(var t=0,n=0;n<e.length;++n){var f=e.charCodeAt(n);127>=f?t++:2047>=f?t+=2:55296<=f&&57343>=f?(t+=4,++n):t+=3}return t},le=(e,t,n,f)=>{if(n>>>=0,!(0<f))return 0;var y=n;f=n+f-1;for(var b=0;b<e.length;++b){var v=e.charCodeAt(b);if(55296<=v&&57343>=v){var z=e.charCodeAt(++b);v=65536+((v&1023)<<10)|z&1023}if(127>=v){if(n>=f)break;t[n++>>>0]=v}else{if(2047>=v){if(n+1>=f)break;t[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=f)break;t[n++>>>0]=224|v>>12}else{if(n+3>=f)break;t[n++>>>0]=240|v>>18,t[n++>>>0]=128|v>>12&63}t[n++>>>0]=128|v>>6&63}t[n++>>>0]=128|v&63}}return t[n>>>0]=0,n-y},oe=(e,t,n)=>le(e,h(),t,n);function se(e,t){if(_)return $(5,1,e,t)}function Qe(e,t,n){if(_)return $(6,1,e,t,n)}function Ze(e,t,n){return _?$(7,1,e,t,n):0}function c(e,t){if(_)return $(8,1,e,t)}function W(e,t,n){if(_)return $(9,1,e,t,n)}function G(e,t,n,f){if(_)return $(10,1,e,t,n,f)}function Se(e,t,n,f){if(_)return $(11,1,e,t,n,f)}function Ke(e,t,n,f){if(_)return $(12,1,e,t,n,f)}function Bt(e){if(_)return $(13,1,e)}function Wt(e,t){if(_)return $(14,1,e,t)}function kt(e,t,n){if(_)return $(15,1,e,t,n)}function mt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(l(),e>>>2,e).value.then(ft),e+=128,Atomics.store(l(),e>>>2,1))}i.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=or,!P))try{if(e(),!(0<Le))try{_?Ot(te):Ye(te)}catch(t){t instanceof Pe||t=="unwind"||F(1,t)}}catch(t){t instanceof Pe||t=="unwind"||F(1,t)}};i.checkMailbox=ft;var gt=[],je=e=>e%4===0&&(e%100!==0||e%400===0),Nt=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334];function $t(e,t,n,f,y,b,v,z){return _?$(16,1,e,t,n,f,y,b,v,z):-52}function Gt(e,t,n,f,y,b,v){if(_)return $(17,1,e,t,n,f,y,b,v)}var Yt=e=>{var t=K(e)+1,n=rr(t);return n&&oe(e,n,t),n},ht=[],yt={},jt=()=>{if(!bt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},t;for(t in yt)yt[t]===void 0?delete e[t]:e[t]=yt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);bt=n}return bt},bt;function zt(e,t){if(_)return $(18,1,e,t);e>>>=0,t>>>=0;var n=0;return jt().forEach((f,y)=>{var b=t+n;for(y=w()[e+4*y>>>2>>>0]=b,b=0;b<f.length;++b)a()[y++>>>0>>>0]=f.charCodeAt(b);a()[y>>>0>>>0]=0,n+=f.length+1}),0}function qt(e,t){if(_)return $(19,1,e,t);e>>>=0,t>>>=0;var n=jt();w()[e>>>2>>>0]=n.length;var f=0;return n.forEach(y=>f+=y.length+1),w()[t>>>2>>>0]=f,0}function Vt(e){return _?$(20,1,e):52}function Jt(e,t,n,f){return _?$(21,1,e,t,n,f):52}function Xt(e,t,n,f,y){return _?$(22,1,e,t,n,f,y):70}var Gr=[null,[],[]];function Qt(e,t,n,f){if(_)return $(23,1,e,t,n,f);t>>>=0,n>>>=0,f>>>=0;for(var y=0,b=0;b<n;b++){var v=w()[t>>>2>>>0],z=w()[t+4>>>2>>>0];t+=8;for(var Te=0;Te<z;Te++){var ne=h()[v+Te>>>0],me=Gr[e];ne===0||ne===10?((e===1?Ie:ee)(Ve(me,0)),me.length=0):me.push(ne)}y+=z}return w()[f>>>2>>>0]=y,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function Yr(e){var t=Array(K(e)+1);return le(e,t,0,t.length),t}var jr=(e,t)=>{a().set(e,t>>>0)};function er(e,t,n,f){function y(p,H,q){for(p=typeof p=="number"?p.toString():p||"";p.length<H;)p=q[0]+p;return p}function b(p,H){return y(p,H,"0")}function v(p,H){function q(cr){return 0>cr?-1:0<cr?1:0}var We;return(We=q(p.getFullYear()-H.getFullYear()))===0&&(We=q(p.getMonth()-H.getMonth()))===0&&(We=q(p.getDate()-H.getDate())),We}function z(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Te(p){var H=p.Ra;for(p=new Date(new Date(p.Sa+1900,0,1).getTime());0<H;){var q=p.getMonth(),We=(je(p.getFullYear())?Zt:Kt)[q];if(H>We-p.getDate())H-=We-p.getDate()+1,p.setDate(1),11>q?p.setMonth(q+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+H);break}}return q=new Date(p.getFullYear()+1,0,4),H=z(new Date(p.getFullYear(),0,4)),q=z(q),0>=v(H,p)?0>=v(q,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,f>>>=0;var ne=w()[f+40>>>2>>>0];f={ob:l()[f>>>2>>>0],nb:l()[f+4>>>2>>>0],Ta:l()[f+8>>>2>>>0],Xa:l()[f+12>>>2>>>0],Ua:l()[f+16>>>2>>>0],Sa:l()[f+20>>>2>>>0],Na:l()[f+24>>>2>>>0],Ra:l()[f+28>>>2>>>0],ub:l()[f+32>>>2>>>0],mb:l()[f+36>>>2>>>0],pb:ne?Ge(ne):""},n=Ge(n),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var me in ne)n=n.replace(new RegExp(me,"g"),ne[me]);var fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lr="January February March April May June July August September October November December".split(" ");ne={"%a":p=>fr[p.Na].substring(0,3),"%A":p=>fr[p.Na],"%b":p=>lr[p.Ua].substring(0,3),"%B":p=>lr[p.Ua],"%C":p=>b((p.Sa+1900)/100|0,2),"%d":p=>b(p.Xa,2),"%e":p=>y(p.Xa,2," "),"%g":p=>Te(p).toString().substring(2),"%G":p=>Te(p),"%H":p=>b(p.Ta,2),"%I":p=>(p=p.Ta,p==0?p=12:12<p&&(p-=12),b(p,2)),"%j":p=>{for(var H=0,q=0;q<=p.Ua-1;H+=(je(p.Sa+1900)?Zt:Kt)[q++]);return b(p.Xa+H,3)},"%m":p=>b(p.Ua+1,2),"%M":p=>b(p.nb,2),"%n":()=>`\n`,"%p":p=>0<=p.Ta&&12>p.Ta?"AM":"PM","%S":p=>b(p.ob,2),"%t":()=>"	","%u":p=>p.Na||7,"%U":p=>b(Math.floor((p.Ra+7-p.Na)/7),2),"%V":p=>{var H=Math.floor((p.Ra+7-(p.Na+6)%7)/7);if(2>=(p.Na+371-p.Ra-2)%7&&H++,H)H==53&&(q=(p.Na+371-p.Ra)%7,q==4||q==3&&je(p.Sa)||(H=1));else{H=52;var q=(p.Na+7-p.Ra-1)%7;(q==4||q==5&&je(p.Sa%400-1))&&H++}return b(H,2)},"%w":p=>p.Na,"%W":p=>b(Math.floor((p.Ra+7-(p.Na+6)%7)/7),2),"%y":p=>(p.Sa+1900).toString().substring(2),"%Y":p=>p.Sa+1900,"%z":p=>{p=p.mb;var H=0<=p;return p=Math.abs(p)/60,(H?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.pb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(me in ne)n.includes(me)&&(n=n.replace(new RegExp(me,"g"),ne[me](f)));return n=n.replace(/\\0\\0/g,"%"),me=Yr(n),me.length>t?0:(jr(me,e),me.length-1)}M.Wa();var zr=[C,ut,m,S,R,se,Qe,Ze,c,W,G,Se,Ke,Bt,Wt,kt,$t,Gt,zt,qt,Vt,Jt,Xt,Qt],qr={b:function(e,t,n){throw e>>>=0,new r(e).Wa(t>>>0,n>>>0),o=e,s++,o},L:function(e){nr(e>>>0,!k,1,!U,131072,!1),M.ab()},j:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):M.Za(M.Ma[e])},H:O,h:S,S:R,D:se,F:Qe,T:Ze,Q:c,J:W,P:G,n:Se,E:Ke,B:Bt,R:Wt,C:kt,p:()=>1,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ft()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,t,n,f){t>>>=0,gt.length=n,f=f>>>0>>>3;for(var y=0;y<n;y++)gt[y]=g()[f+y>>>0];return e=0>e?Ne[-e-1]:zr[e],M.ib=t,t=e.apply(null,gt),M.ib=0,t},K:mt,o:function(e){L&&M.Ma[e>>>0].ref()},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getUTCSeconds(),l()[n+4>>>2>>>0]=e.getUTCMinutes(),l()[n+8>>>2>>>0]=e.getUTCHours(),l()[n+12>>>2>>>0]=e.getUTCDate(),l()[n+16>>>2>>>0]=e.getUTCMonth(),l()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>>2>>>0]=e},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getSeconds(),l()[n+4>>>2>>>0]=e.getMinutes(),l()[n+8>>>2>>>0]=e.getHours(),l()[n+12>>>2>>>0]=e.getDate(),l()[n+16>>>2>>>0]=e.getMonth(),l()[n+20>>>2>>>0]=e.getFullYear()-1900,l()[n+24>>>2>>>0]=e.getDay(),t=(je(e.getFullYear())?Nt:Ht)[e.getMonth()]+e.getDate()-1|0,l()[n+28>>>2>>>0]=t,l()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=f&&e.getTimezoneOffset()==Math.min(f,t))|0,l()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),n=l()[e+32>>>2>>>0],f=t.getTimezoneOffset(),y=new Date(t.getFullYear(),6,1).getTimezoneOffset(),b=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(b,y);return 0>n?l()[e+32>>>2>>>0]=+(y!=b&&v==f):0<n!=(v==f)&&(y=Math.max(b,y),t.setTime(t.getTime()+6e4*((0<n?v:y)-f))),l()[e+24>>>2>>>0]=t.getDay(),n=(je(t.getFullYear())?Nt:Ht)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=n,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(l()[tr()>>>2>>>0]=61,e=-1):e/=1e3,sr((De=e,1<=+Math.abs(De)?0<De?+Math.floor(De/4294967296)>>>0:~~+Math.ceil((De-+(~~De>>>0))/4294967296)>>>0:0)),e>>>0},q:$t,r:Gt,y:function(e,t,n){function f(ne){return(ne=ne.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ne[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var y=new Date().getFullYear(),b=new Date(y,0,1),v=new Date(y,6,1);y=b.getTimezoneOffset();var z=v.getTimezoneOffset(),Te=Math.max(y,z);w()[e>>>2>>>0]=60*Te,l()[t>>>2>>>0]=+(y!=z),e=f(b),t=f(v),e=Yt(e),t=Yt(t),z<y?(w()[n>>>2>>>0]=e,w()[n+4>>>2>>>0]=t):(w()[n>>>2>>>0]=t,w()[n+4>>>2>>>0]=e)},c:()=>{Z("")},O:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,ht.length=0;for(var f;f=h()[t++>>>0];){var y=f!=105;y&=f!=112,n+=y&&n%8?4:0,ht.push(f==112?w()[n>>>2>>>0]:f==105?l()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=y?8:4}return Ne[e].apply(null,ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Le+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>L?(wr(),tt(br)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var t=h().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var f=t*(1+.2/n);f=Math.min(f,e+100663296);var y=Math;f=Math.max(e,f);e:{y=(y.min.call(y,4294901760,f+(65536-f%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(y),we();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},M:zt,N:qt,G:Ye,g:Vt,m:Jt,v:Xt,l:Qt,a:j||i.wasmMemory,w:er,d:function(e,t,n,f){return er(e>>>0,t>>>0,n>>>0,f>>>0)}},T=function(){function e(n,f){return T=n.exports,T=Vr(),M.bb.push(T.za),Xe=T.Aa,Fe.unshift(T.V),ce=f,re(),T}var t={a:qr};if(pe++,i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(n){ee(`Module.instantiateWasm callback failed with error: ${n}`),D(n)}return at(t,function(n){e(n.instance,n.module)}).catch(D),{}}();i._OrtInit=(e,t)=>(i._OrtInit=T.W)(e,t),i._OrtGetLastError=(e,t)=>(i._OrtGetLastError=T.X)(e,t),i._OrtCreateSessionOptions=(e,t,n,f,y,b,v,z,Te,ne)=>(i._OrtCreateSessionOptions=T.Y)(e,t,n,f,y,b,v,z,Te,ne),i._OrtAppendExecutionProvider=(e,t)=>(i._OrtAppendExecutionProvider=T.Z)(e,t),i._OrtAddFreeDimensionOverride=(e,t,n)=>(i._OrtAddFreeDimensionOverride=T._)(e,t,n),i._OrtAddSessionConfigEntry=(e,t,n)=>(i._OrtAddSessionConfigEntry=T.$)(e,t,n),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,t,n)=>(i._OrtCreateSession=T.ba)(e,t,n),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,t,n)=>(i._OrtGetInputOutputCount=T.da)(e,t,n),i._OrtGetInputName=(e,t)=>(i._OrtGetInputName=T.ea)(e,t),i._OrtGetOutputName=(e,t)=>(i._OrtGetOutputName=T.fa)(e,t),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,t,n,f,y,b)=>(i._OrtCreateTensor=T.ha)(e,t,n,f,y,b),i._OrtGetTensorData=(e,t,n,f,y)=>(i._OrtGetTensorData=T.ia)(e,t,n,f,y),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,t,n,f)=>(i._OrtCreateRunOptions=T.ka)(e,t,n,f),i._OrtAddRunConfigEntry=(e,t,n)=>(i._OrtAddRunConfigEntry=T.la)(e,t,n),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,t,n)=>(i._OrtBindInput=T.oa)(e,t,n),i._OrtBindOutput=(e,t,n,f)=>(i._OrtBindOutput=T.pa)(e,t,n,f),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,t,n,f,y)=>(i._OrtRunWithBinding=T.sa)(e,t,n,f,y),i._OrtRun=(e,t,n,f,y,b,v,z)=>(i._OrtRun=T.ta)(e,t,n,f,y,b,v,z),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var tr=()=>(tr=T.va)(),lt=i._pthread_self=()=>(lt=i._pthread_self=T.wa)(),rr=i._malloc=e=>(rr=i._malloc=T.xa)(e);i._free=e=>(i._free=T.ya)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.za)();var nr=i.__emscripten_thread_init=(e,t,n,f,y,b)=>(nr=i.__emscripten_thread_init=T.Ba)(e,t,n,f,y,b);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ca)();var ar=(e,t,n,f)=>(ar=T.Da)(e,t,n,f),wt=e=>(wt=T.Ea)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Fa)(e),or=()=>(or=T.Ga)(),sr=e=>(sr=T.Ha)(e),ir=(e,t)=>(ir=T.Ia)(e,t),vt=()=>(vt=T.Ja)(),ct=e=>(ct=T.Ka)(e),_t=e=>(_t=T.La)(e);function Vr(){var e=T;e=Object.assign({},e);var t=f=>()=>f()>>>0,n=f=>y=>f(y)>>>0;return e.va=t(e.va),e.wa=t(e.wa),e.xa=n(e.xa),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Ja=t(e.Ja),e.La=n(e.La),e}i.wasmMemory=j,i.stackAlloc=_t,i.stackSave=vt,i.stackRestore=ct,i.keepRuntimeAlive=()=>0<Le,i.UTF8ToString=Ge,i.stringToUTF8=oe,i.lengthBytesUTF8=K,i.ExitStatus=Pe,i.PThread=M;var dt;ve=function e(){dt||ur(),dt||(ve=e)};function ur(){if(!(0<pe))if(_)A(i),_||Be(Fe),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Me.unshift(i.preRun.shift());Be(Me),0<pe||dt||(dt=!0,i.calledRun=!0,P||(_||Be(Fe),A(i),_||Be(Ee)))}}return ur(),d.ready}})();typeof vr=="object"&&typeof Ft=="object"?Ft.exports=Or:typeof define=="function"&&define.amd&&define([],()=>Or)});var Er=et((On,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Tr;Tr=gr();var an=_r(),Ut,Pt=!1,pt=!1,Sr=!1,on=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(u,d)=>u?d?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ar=async u=>{if(Pt)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Sr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let d=u.initTimeout,a=u.numThreads,h=u.simd,l=on(a),w=h&&sn(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,A=un(w,l),D=typeof g=="object"?g[A]:void 0,I=!1,B=[];if(d>0&&B.push(new Promise(F=>{setTimeout(()=>{I=!0,F()},d)})),B.push(new Promise((F,U)=>{let k=l?an:Tr,L={locateFile:(_,x)=>l&&_.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Er()],{type:"text/javascript"})):_.endsWith(".wasm")?D||(i??x)+A:x+_};if(l)if(L.numThreads=a,typeof Blob>"u")L.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let _=`var ortWasmThreaded=${k.toString()};`;L.mainScriptUrlOrBlob=new Blob([_],{type:"text/javascript"})}k(L).then(_=>{pt=!1,Pt=!0,Ut=_,F()},_=>{pt=!1,Sr=!0,U(_)})})),await Promise.race(B),I)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},X=()=>{if(Pt&&Ut)return Ut;throw new Error("WebAssembly is not initialized yet.")};var Q=(u,d)=>{let a=X(),h=a.lengthBytesUTF8(u)+1,l=a._malloc(h);return a.stringToUTF8(u,l,h),d.push(l),l},rt=(u,d,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([l,w])=>{let g=d?d+l:l;if(typeof w=="object")rt(w,g+".",a,h);else if(typeof w=="string"||typeof w=="number")h(g,w.toString());else if(typeof w=="boolean")h(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},V=u=>{let d=X(),a=d.stackSave();try{let h=d.stackAlloc(8);d._OrtGetLastError(h,h+4);let l=d.HEAP32[h/4],w=d.HEAPU32[h/4+1],g=w?d.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${l}, ERROR_MESSAGE: ${g}`)}finally{d.stackRestore(a)}};var Mr=u=>{let d=X(),a=0,h=[],l=u||{};try{if(u?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(l.terminate=!1);let w=0;return u?.tag!==void 0&&(w=Q(u.tag,h)),a=d._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,w),a===0&&V("Can\'t create run options."),u?.extra!==void 0&&rt(u.extra,"",new WeakSet,(g,i)=>{let A=Q(g,h),D=Q(i,h);d._OrtAddRunConfigEntry(a,A,D)!==0&&V(`Can\'t set a run config entry: ${g} - ${i}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseRunOptions(a),h.forEach(g=>d._free(g)),w}};var fn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},ln=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},cn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let d=u.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},dn=(u,d,a)=>{for(let h of d){let l=typeof h=="string"?h:h.name;switch(l){case"webnn":if(l="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let i=Q("deviceType",a),A=Q(g.deviceType,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let i=g.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let A=Q("numThreads",a),D=Q(i.toString(),a);X()._OrtAddSessionConfigEntry(u,A,D)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let i=Q("powerPreference",a),A=Q(g.powerPreference,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=Q("preferredLayout",a),A=Q(g.preferredLayout,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let w=Q(l,a);X()._OrtAppendExecutionProvider(u,w)!==0&&V(`Can\'t append execution provider: ${l}.`)}},Cr=u=>{let d=X(),a=0,h=[],l=u||{};cn(l);try{let w=fn(l.graphOptimizationLevel??"all"),g=ln(l.executionMode??"sequential"),i=typeof l.logId=="string"?Q(l.logId,h):0,A=l.logSeverityLevel??2;if(!Number.isInteger(A)||A<0||A>4)throw new Error(`log serverity level is not valid: ${A}`);let D=l.logVerbosityLevel??0;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log verbosity level is not valid: ${D}`);let I=typeof l.optimizedModelFilePath=="string"?Q(l.optimizedModelFilePath,h):0;if(a=d._OrtCreateSessionOptions(w,!!l.enableCpuMemArena,!!l.enableMemPattern,g,!!l.enableProfiling,0,i,A,D,I),a===0&&V("Can\'t create session options."),l.executionProviders&&dn(a,l.executionProviders,h),l.freeDimensionOverrides)for(let[B,F]of Object.entries(l.freeDimensionOverrides)){if(typeof B!="string")throw new Error(`free dimension override name must be a string: ${B}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw new Error(`free dimension override value must be a non-negative integer: ${F}`);let U=Q(B,h);d._OrtAddFreeDimensionOverride(a,U,F)!==0&&V(`Can\'t set a free dimension override: ${B} - ${F}.`)}return l.extra!==void 0&&rt(l.extra,"",new WeakSet,(B,F)=>{let U=Q(B,h),k=Q(F,h);d._OrtAddSessionConfigEntry(a,U,k)!==0&&V(`Can\'t set a session config entry: ${B} - ${F}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseSessionOptions(a),h.forEach(g=>d._free(g)),w}};var Rt=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Dr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},It=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],xr=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Fr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Ur=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Pr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Rr=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let l of a)h.push(l);return new Uint8Array(Buffer.concat(h))}throw d}else{let d=await fetch(u);if(!d.ok)throw new Error(`failed to load external data file: ${u}`);let a=d.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let l=d.body.getReader(),w;try{w=new ArrayBuffer(h)}catch(i){if(i instanceof RangeError){let A=Math.ceil(h/65536);w=new WebAssembly.Memory({initial:A,maximum:A}).buffer}else throw i}let g=0;for(;;){let{done:i,value:A}=await l.read();if(i)break;let D=A.byteLength;new Uint8Array(w,g,D).set(A),g+=D}return new Uint8Array(w,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var pn=(u,d)=>{X()._OrtInit(u,d)!==0&&V("Can\'t initialize onnxruntime.")},Lr=async u=>{pn(u.wasm.numThreads,Fr(u.logLevel))},Br=async(u,d)=>{},nt=new Map,mn=u=>{let d=X(),a=d.stackSave();try{let h=d.stackAlloc(8);return d._OrtGetInputOutputCount(u,h,h+4)!==0&&V("Can\'t get session input/output count."),[d.HEAP32[h/4],d.HEAP32[h/4+1]]}finally{d.stackRestore(a)}},Lt=u=>{let d=X(),a=d._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return d.HEAPU8.set(u,a),[a,u.byteLength]},Wr=async(u,d)=>{let a,h,l=X();Array.isArray(u)?[a,h]=u:u.buffer===l.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Lt(u);let w=0,g=0,i=0,A=[],D=[],I=[];try{if([g,A]=Cr(d),d?.externalData&&l.mountExternalData){let x=[];for(let N of d.externalData){let he=typeof N=="string"?N:N.path;x.push(Rr(typeof N=="string"?N:N.data).then(ie=>{l.mountExternalData(he,ie)}))}await Promise.all(x)}w=l._OrtCreateSession(a,h,g),w===0&&V("Can\'t create a session.");let[B,F]=mn(w),U=[],k=[],L=[];for(let x=0;x<B;x++){let N=l._OrtGetInputName(w,x);N===0&&V("Can\'t get an input name."),D.push(N),U.push(l.UTF8ToString(N))}for(let x=0;x<F;x++){let N=l._OrtGetOutputName(w,x);N===0&&V("Can\'t get an output name."),I.push(N);let he=l.UTF8ToString(N);k.push(he)}let _=null;return nt.set(w,[w,D,I,_]),[w,U,k]}catch(B){throw D.forEach(F=>l._OrtFree(F)),I.forEach(F=>l._OrtFree(F)),i!==0&&l._OrtReleaseBinding(i),w!==0&&l._OrtReleaseSession(w),B}finally{l._free(a),g!==0&&l._OrtReleaseSessionOptions(g),A.forEach(B=>l._free(B)),l.unmountExternalData?.()}},kr=u=>{let d=X(),a=nt.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,l,w,g]=a;g&&d._OrtReleaseBinding(g.handle),d.jsepUnregisterBuffers?.(u),l.forEach(i=>d._OrtFree(i)),w.forEach(i=>d._OrtFree(i)),d._OrtReleaseSession(h),nt.delete(u)},Ir=(u,d,a,h,l)=>{if(!u){d.push(0);return}let w=X(),g=u[0],i=u[1],A=u[3],D,I;if(g==="string"&&A==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(A==="gpu-buffer"){let U=u[2].gpuBuffer,k=It(Rt(g));I=i.reduce((L,_)=>L*_,1)*k,D=w.jsepRegisterBuffer(h,l,U,I)}else{let U=u[2];if(Array.isArray(U)){I=4*U.length,D=w._malloc(I),a.push(D);let k=D/4;for(let L=0;L<U.length;L++){if(typeof U[L]!="string")throw new TypeError(`tensor data at index ${L} is not a string`);w.HEAPU32[k++]=Q(U[L],a)}}else I=U.byteLength,D=w._malloc(I),a.push(D),w.HEAPU8.set(new Uint8Array(U.buffer,U.byteOffset,I),D)}let B=w.stackSave(),F=w.stackAlloc(4*i.length);try{let U=F/4;i.forEach(L=>w.HEAP32[U++]=L);let k=w._OrtCreateTensor(Rt(g),D,I,F,i.length,Pr(A));k===0&&V(`Can\'t create tensor for input/output. session=${h}, index=${l}.`),d.push(k)}finally{w.stackRestore(B)}},Nr=async(u,d,a,h,l,w)=>{let g=X(),i=nt.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let[A,D,I,B]=i,F=d.length,U=h.length,k=0,L=[],_=[],x=[],N=[],he=g.stackSave(),ie=g.stackAlloc(F*4),ae=g.stackAlloc(F*4),E=g.stackAlloc(U*4),Y=g.stackAlloc(U*4);try{[k,L]=Mr(w);for(let P=0;P<F;P++)Ir(a[P],_,N,u,d[P]);for(let P=0;P<U;P++)Ir(l[P],x,N,u,F+h[P]);let ue=ie/4,Re=ae/4,Ie=E/4,ee=Y/4;for(let P=0;P<F;P++)g.HEAPU32[ue++]=_[P],g.HEAPU32[Re++]=D[d[P]];for(let P=0;P<U;P++)g.HEAPU32[Ie++]=x[P],g.HEAPU32[ee++]=I[h[P]];let j;j=await g._OrtRun(A,ae,ie,F,Y,U,E,k),j!==0&&V("failed to call OrtRun().");let ce=[];for(let P=0;P<U;P++){let te=g.HEAPU32[E/4+P];if(te===x[P]){ce.push(l[P]);continue}let de=g.stackSave(),ge=g.stackAlloc(4*4),ye=!1,J,fe=0;try{g._OrtGetTensorData(te,ge,ge+4,ge+8,ge+12)!==0&&V(`Can\'t access output tensor data on index ${P}.`);let Ae=ge/4,Me=g.HEAPU32[Ae++];fe=g.HEAPU32[Ae++];let Fe=g.HEAPU32[Ae++],Ee=g.HEAPU32[Ae++],pe=[];for(let re=0;re<Ee;re++)pe.push(g.HEAPU32[Fe/4+re]);g._OrtFree(Fe);let Oe=pe.reduce((re,Z)=>re*Z,1);J=Dr(Me);let ve=B?.outputPreferredLocations[h[P]];if(J==="string"){if(ve==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],Z=fe/4;for(let Ce=0;Ce<Oe;Ce++){let be=g.HEAPU32[Z++],_e=Ce===Oe-1?void 0:g.HEAPU32[Z]-be;re.push(g.UTF8ToString(be,_e))}ce.push([J,pe,re,"cpu"])}else if(ve==="gpu-buffer"&&Oe>0){let re=g.jsepGetBuffer(fe),Z=It(Me);if(Z===void 0||!Ur(J))throw new Error(`Unsupported data type: ${J}`);ye=!0,ce.push([J,pe,{gpuBuffer:re,download:g.jsepCreateDownloader(re,Oe*Z,J),dispose:()=>{g._OrtReleaseTensor(te)}},"gpu-buffer"])}else{let re=xr(J),Z=new re(Oe);new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength).set(g.HEAPU8.subarray(fe,fe+Z.byteLength)),ce.push([J,pe,Z,"cpu"])}}finally{g.stackRestore(de),J==="string"&&fe&&g._free(fe),ye||g._OrtReleaseTensor(te)}}return B&&g._OrtClearBoundOutputs(B.handle),ce}finally{g.stackRestore(he),_.forEach(ue=>g._OrtReleaseTensor(ue)),x.forEach(ue=>g._OrtReleaseTensor(ue)),N.forEach(ue=>g._free(ue)),k!==0&&g._OrtReleaseRunOptions(k),L.forEach(ue=>g._free(ue))}},Hr=u=>{let d=X(),a=nt.get(u);if(!a)throw new Error("invalid session id");let h=a[0],l=d._OrtEndProfiling(h);l===0&&V("Can\'t get an profile file name."),d._OrtFree(l)},$r=u=>{let d=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&d.push(h.buffer)}return d};self.onmessage=u=>{let{type:d,in:a}=u.data;try{switch(d){case"init-wasm":Ar(a.wasm).then(()=>{Lr(a).then(()=>{postMessage({type:d})},h=>{postMessage({type:d,err:h})})},h=>{postMessage({type:d,err:h})});break;case"init-ep":{let{epName:h,env:l}=a;Br(l,h).then(()=>{postMessage({type:d})},w=>{postMessage({type:d,err:w})});break}case"copy-from":{let{buffer:h}=a,l=Lt(h);postMessage({type:d,out:l});break}case"create":{let{model:h,options:l}=a;Wr(h,l).then(w=>{postMessage({type:d,out:w})},w=>{postMessage({type:d,err:w})});break}case"release":kr(a),postMessage({type:d});break;case"run":{let{sessionId:h,inputIndices:l,inputs:w,outputIndices:g,options:i}=a;Nr(h,l,w,g,new Array(g.length).fill(null),i).then(A=>{A.some(D=>D[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:A},$r(A))},A=>{postMessage({type:d,err:A})});break}case"end-profiling":Hr(a),postMessage({type:d});break;default:}}catch(h){postMessage({type:d,err:h})}};})();\n'}),$e,ve,at,_t,Et,or,Ht,ze,Ve,cn,Tt,na,aa,oa,ia,sa,ua,la,fa=W(()=>{"use strict";ft(),Ya(),Rt(),$e=()=>!!V.wasm.proxy&&typeof document<"u",at=!1,_t=!1,Et=!1,Ht=new Map,ze=(t,n)=>{let u=Ht.get(t);u?u.push(n):Ht.set(t,[n])},Ve=()=>{if(at||!_t||Et||!ve)throw new Error("worker not ready")},cn=t=>{switch(t.data.type){case"init-wasm":at=!1,t.data.err?(Et=!0,or[1](t.data.err)):(_t=!0,or[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let n=Ht.get(t.data.type);t.data.err?n.shift()[1](t.data.err):n.shift()[0](t.data.out);break}default:}},Tt=typeof document<"u"?document?.currentScript?.src:void 0,na=async()=>{if(!_t){if(at)throw new Error("multiple calls to 'initWasm()' detected.");if(Et)throw new Error("previous call to 'initWasm()' failed.");if(at=!0,$e())return V.wasm.wasmPaths===void 0&&Tt&&Tt.indexOf("blob:")!==0&&(V.wasm.wasmPaths=Tt.substr(0,+Tt.lastIndexOf("/")+1)),new Promise((t,n)=>{ve?.terminate();let u=URL.createObjectURL(new Blob([za()],{type:"text/javascript"}));ve=new Worker(u,{name:"ort-wasm-proxy-worker"}),ve.onerror=f=>n(f),ve.onmessage=cn,URL.revokeObjectURL(u),or=[t,n];let l={type:"init-wasm",in:V};ve.postMessage(l)});try{await $n(V.wasm),await Xn(V),_t=!0}catch(t){throw Et=!0,t}finally{at=!1}}},aa=async t=>{if($e())return Ve(),new Promise((n,u)=>{ze("init-ep",[n,u]);let l={type:"init-ep",in:{epName:t,env:V}};ve.postMessage(l)});await Qn(V,t)},oa=async t=>$e()?(Ve(),new Promise((n,u)=>{ze("copy-from",[n,u]);let l={type:"copy-from",in:{buffer:t}};ve.postMessage(l,[t.buffer])})):fr(t),ia=async(t,n)=>{if($e()){if(n?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Ve(),new Promise((u,l)=>{ze("create",[u,l]);let f={type:"create",in:{model:t,options:n}},o=[];t instanceof Uint8Array&&o.push(t.buffer),ve.postMessage(f,o)})}else return Kn(t,n)},sa=async t=>{if($e())return Ve(),new Promise((n,u)=>{ze("release",[n,u]);let l={type:"release",in:t};ve.postMessage(l)});Zn(t)},ua=async(t,n,u,l,f,o)=>{if($e()){if(u.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(f.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return Ve(),new Promise((d,h)=>{ze("run",[d,h]);let m=u,v={type:"run",in:{sessionId:t,inputIndices:n,inputs:m,outputIndices:l,options:o}};ve.postMessage(v,ra(m))})}else return ea(t,n,u,l,f,o)},la=async t=>{if($e())return Ve(),new Promise((n,u)=>{ze("end-profiling",[n,u]);let l={type:"end-profiling",in:t};ve.postMessage(l)});ta(t)}}),ir,dn,ca,Va=W(()=>{"use strict";ft(),fa(),qn(),Jn(),ir=(t,n)=>{switch(t.location){case"cpu":return[t.type,t.dims,t.data,"cpu"];case"gpu-buffer":return[t.type,t.dims,{gpuBuffer:t.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${t.location} for ${n()}`)}},dn=t=>{switch(t[3]){case"cpu":return new pe(t[0],t[2],t[1]);case"gpu-buffer":{let n=t[0];if(!br(n))throw new Error(`not supported data type: ${n} for deserializing GPU tensor`);let{gpuBuffer:u,download:l,dispose:f}=t[2];return pe.fromGpuBuffer(u,{dataType:n,dims:t[1],download:l,dispose:f})}default:throw new Error(`invalid data location: ${t[3]}`)}},ca=class{async fetchModelAndCopyToWasmMemory(t){return oa(await jt(t))}async loadModel(t,n){st();let u;typeof t=="string"?typeof process<"u"&&process.versions&&process.versions.node?u=await jt(t):u=await this.fetchModelAndCopyToWasmMemory(t):u=t,[this.sessionId,this.inputNames,this.outputNames]=await ia(u,n),ut()}async dispose(){return sa(this.sessionId)}async run(t,n,u){st();let l=[],f=[];Object.entries(t).forEach(O=>{let _=O[0],A=O[1],D=this.inputNames.indexOf(_);if(D===-1)throw new Error(`invalid input '${_}'`);l.push(A),f.push(D)});let o=[],d=[];Object.entries(n).forEach(O=>{let _=O[0],A=O[1],D=this.outputNames.indexOf(_);if(D===-1)throw new Error(`invalid output '${_}'`);o.push(A),d.push(D)});let h=l.map((O,_)=>ir(O,()=>`input "${this.inputNames[f[_]]}"`)),m=o.map((O,_)=>O?ir(O,()=>`output "${this.outputNames[d[_]]}"`):null),v=await ua(this.sessionId,f,h,d,m,u),s={};for(let O=0;O<v.length;O++)s[this.outputNames[d[O]]]=o[O]??dn(v[O]);return ut(),s}startProfiling(){}endProfiling(){la(this.sessionId)}}}),pn,da,qa=W(()=>{"use strict";ft(),fa(),Va(),pn=()=>{if((typeof V.wasm.initTimeout!="number"||V.wasm.initTimeout<0)&&(V.wasm.initTimeout=0),typeof V.wasm.simd!="boolean"&&(V.wasm.simd=!0),typeof V.wasm.proxy!="boolean"&&(V.wasm.proxy=!1),typeof V.wasm.trace!="boolean"&&(V.wasm.trace=!1),typeof V.wasm.numThreads!="number"||!Number.isInteger(V.wasm.numThreads)||V.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(V.wasm.numThreads=1);let t=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;V.wasm.numThreads=Math.min(4,Math.ceil((t||1)/2))}},da=class{async init(t){pn(),await na(),await aa(t)}async createInferenceSessionHandler(t,n){let u=new ca;return await u.loadModel(t,n),Promise.resolve(u)}}}),pa={};St(pa,{wasmBackend:()=>ha});var ha,Ja=W(()=>{"use strict";qa(),ha=new da});ft();ft();ft();var Xa="1.17.1",eo=Un;{let t=(Ja(),ot(pa)).wasmBackend;At("cpu",t,10),At("wasm",t,10),At("webnn",t,9)}Object.defineProperty(V.versions,"web",{value:Xa,enumerable:!0});export{At as a,V as b,pe as c,sr as d,st as e,ut as f,Rn as g,Dn as h,eo as i};
/*! Bundled license information:

onnxruntime-web/dist/esm/ort.wasm.min.js:
  (*!
   * ONNX Runtime Web v1.17.1
   * Copyright (c) Microsoft Corporation. All rights reserved.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=chunk-ZQN7IDZQ.js.map
