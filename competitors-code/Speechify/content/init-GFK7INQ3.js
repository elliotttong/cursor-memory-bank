import{a as u1}from"./chunk-MZJO7N7V.js";import{a as C1}from"./chunk-OHQEXS5W.js";import{r as c1}from"./chunk-FJMP4XPS.js";import"./chunk-BRU4RAVQ.js";import{O as s1,Q as Z,U as d1}from"./chunk-QEP7SRH7.js";import"./chunk-OFYWCEWM.js";import"./chunk-TVWAVI6A.js";import"./chunk-CVF2X5Y4.js";import{a as a1,g as l1}from"./chunk-LBZ34ZL2.js";import"./chunk-SI7CO4VP.js";import"./chunk-JAWPO7FD.js";import"./chunk-N3ET5YJZ.js";import"./chunk-LXDXREIX.js";import"./chunk-MQX2TL35.js";import"./chunk-SWWFND36.js";import"./chunk-PJRECGUK.js";import{$a as n1,Ac as R,Da as e1,Gc as m1,Ma as t1,Pc as f1,Yb as p1,_a as N,db as k,eb as r1,f as j,fb as r,gb as a,lb as B,z as Q,za as H}from"./chunk-6VFX2JNU.js";import{n as q,p as J,r as o1,t as i1,v as _}from"./chunk-LUKOAFYK.js";import"./chunk-O77QQVYU.js";import"./chunk-35EEQS33.js";import"./chunk-BGIN6QNH.js";import"./chunk-UQBFOPQH.js";import"./chunk-6HLOLWYC.js";import"./chunk-XFWXZVUM.js";import{a as c}from"./chunk-D2ACMGPV.js";import{a as Y,b as h,c as G,g as V,k as d}from"./chunk-NORECDYR.js";import{g as O}from"./chunk-RQERJHUS.js";import{d as M,h as t,j as preactH,k as Fragment,l as z,n as q1,o}from"./chunk-NUN3A7RC.js";o();t();q1();o();t();var D=M(O());o();t();var u=M(O());o();t();var h1=e=>preactH(c,{width:"24",height:"16",viewBox:"0 0 24 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-label":r("LOGO"),"data-testid":a.LOGO,...e},preactH("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.44974 4.96208C6.05988 4.07046 6.589 3.6296 7.38119 3.8745C7.86056 4.02269 8.05734 4.63464 7.86056 5.40248C7.51457 6.75258 7.38119 7.52757 7.38119 8.44993C8.59809 5.89931 10.8476 2.50931 11.8226 1.36909C12.4964 0.580999 13.4623 0.681502 13.826 0.85729C14.4168 1.14292 14.448 1.76225 14.2441 2.35454C12.8332 6.45229 12.784 8.64083 12.6108 10.767C13.4877 8.40895 14.5538 6.19084 15.8412 4.62867C16.3836 3.8794 17.3344 3.64419 17.9349 3.88759C18.5354 4.13099 18.6722 4.71333 18.5354 5.44307C18.1784 7.34607 18.0013 8.23798 18.0013 8.97519C18.6534 8.47644 19.1726 8.05506 20.3597 7.95875C21.5468 7.86244 24 8.33505 24 8.33505C24 8.33505 22.5838 8.57568 21.8357 8.7591C20.3023 9.13515 19.7667 9.57492 18.7741 11.0288C18.4856 11.4512 18.0013 11.7755 17.4557 11.7343C16.9101 11.693 16.5437 11.3498 16.3836 10.8862C16.1612 10.2419 16.095 9.27822 16.3836 7.19267C14.9694 9.3444 14.2441 12.2672 13.275 14.2055C13.0273 14.7011 12.6041 15.2659 12.0307 15.2659C11.4572 15.2659 10.7136 15.0434 10.617 13.3396C10.3697 8.97519 11.1942 5.50209 11.1942 5.50209C9.58829 8.0484 9.07541 9.53265 8.5168 10.3066C7.95818 11.0806 7.41614 11.7508 6.7568 11.7343C6.09747 11.7177 5.71375 10.9806 5.63031 10.3066C5.54688 9.63261 5.52287 8.77179 5.76656 7.19267C5.13224 7.82699 4.57449 8.25658 3.57562 8.52559C2.57674 8.79459 1.38397 8.62337 0 8.33505C1.38397 8.33505 3.71298 7.50006 5.44974 4.96208Z",fill:"currentColor"}));o();t();var g1=e=>preactH(c,{viewBox:"0 0 4 12",width:"16px",height:"16px",xmlns:"http://www.w3.org/2000/svg","aria-label":r("LISTENING_BAR_MORE"),"data-testid":a.LISTENING_BAR_MORE_BUTTON,...e},preactH("path",{d:"M2.225 2.871a1.23 1.23 0 001.242-1.254 1.243 1.243 0 00-2.485 0c0 .692.563 1.254 1.243 1.254zm0 4.365c.697 0 1.242-.545 1.242-1.242 0-.685-.557-1.236-1.242-1.236-.68 0-1.243.55-1.243 1.236 0 .686.563 1.242 1.243 1.242zm0 4.383c.697 0 1.242-.55 1.242-1.242 0-.697-.557-1.254-1.242-1.254a1.25 1.25 0 000 2.496z"}));o();t();var x1=e=>preactH(c,{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-label":r("LISTENING_BAR_SUMMARIZE"),"data-testid":a.LISTENING_BAR_SUMMARIZE,...e},preactH("path",{d:"M12.5837 8.57655L12.4638 8.62092C10.6833 9.27974 9.27956 10.6835 8.62074 12.4639L8.57637 12.5838C8.40969 13.0343 7.98016 13.3334 7.49984 13.3334C7.01952 13.3334 6.58999 13.0343 6.4233 12.5838L6.37894 12.4639C5.72012 10.6835 4.31635 9.27974 2.53591 8.62092L2.41602 8.57655C1.96556 8.40987 1.6665 7.98034 1.6665 7.50002C1.6665 7.0197 1.96556 6.59017 2.41602 6.42348L2.53591 6.37912C4.31635 5.7203 5.72012 4.31653 6.37894 2.5361L6.4233 2.41621C6.58999 1.96574 7.01952 1.66669 7.49984 1.66669C7.98016 1.66669 8.40969 1.96574 8.57637 2.41621L8.62074 2.5361C9.27956 4.31654 10.6833 5.7203 12.4638 6.37912L12.5837 6.42348C13.0341 6.59017 13.3332 7.0197 13.3332 7.50002C13.3332 7.98034 13.0341 8.40987 12.5837 8.57655Z",fill:"url(#paint0_radial_629_2758)"}),preactH("path",{d:"M14.9998 11.6667C15.2743 11.6667 15.5197 11.8376 15.615 12.095L15.6404 12.1635C16.0168 13.1809 16.819 13.983 17.8364 14.3595L17.9049 14.3849C18.1623 14.4801 18.3332 14.7256 18.3332 15C18.3332 15.2745 18.1623 15.5199 17.9049 15.6152L17.8364 15.6405C16.819 16.017 16.0168 16.8192 15.6404 17.8365L15.615 17.9051C15.5197 18.1625 15.2743 18.3334 14.9998 18.3334C14.7254 18.3334 14.4799 18.1625 14.3847 17.9051L14.3593 17.8365C13.9829 16.8192 13.1807 16.017 12.1633 15.6405L12.0948 15.6152C11.8374 15.5199 11.6665 15.2745 11.6665 15C11.6665 14.7256 11.8374 14.4801 12.0948 14.3849L12.1633 14.3595C13.1807 13.983 13.9829 13.1809 14.3593 12.1635L14.3847 12.095C14.4799 11.8376 14.7254 11.6667 14.9998 11.6667Z",fill:"url(#paint1_radial_629_2758)"}),preactH("defs",null,preactH("radialGradient",{id:"paint0_radial_629_2758",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-5.41683 -0.833311) rotate(44.6155) scale(43.9005)"},preactH("stop",{offset:"0.224035",stopColor:"#EA6AFF"}),preactH("stop",{offset:"0.664903",stopColor:"#6B78FC"})),preactH("radialGradient",{id:"paint1_radial_629_2758",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-5.41683 -0.833311) rotate(44.6155) scale(43.9005)"},preactH("stop",{offset:"0.224035",stopColor:"#EA6AFF"}),preactH("stop",{offset:"0.664903",stopColor:"#6B78FC"}))));o();t();var y1=e=>preactH(c,{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 20 20","aria-label":r("GO_TO_SETTINGS"),"data-testid":a.GO_TO_SETTINGS,...e},preactH("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.90544 3.39998H11.0977L11.4871 4.19493C12.0056 5.25336 13.113 5.89274 14.2889 5.81252L15.1717 5.75229L16.268 7.65111L15.7744 8.38555C15.117 9.36375 15.117 10.6425 15.7744 11.6207L16.2677 12.3547L15.1712 14.254L14.2889 14.1938C13.113 14.1135 12.0056 14.7529 11.4871 15.8113L11.0982 16.6054H8.905L8.51605 15.8113C7.99761 14.7529 6.89016 14.1135 5.7143 14.1938L4.83186 14.254L3.7354 12.3548L4.22877 11.6207C4.88617 10.6425 4.88617 9.36375 4.22877 8.38555L3.73512 7.65101L4.83135 5.75228L5.7143 5.81252C6.89016 5.89275 7.99761 5.25336 8.51605 4.19493L8.90544 3.39998ZM12.6059 2.38709C12.3305 1.82486 11.7679 1.59998 11.3016 1.59998H8.70156C8.23526 1.59998 7.67264 1.82486 7.39724 2.38709L6.89956 3.40313C6.70291 3.8046 6.28284 4.04712 5.83683 4.01669L4.70808 3.93968C4.08366 3.89708 3.60769 4.27173 3.37457 4.67549L2.07421 6.9278C1.8411 7.33156 1.75462 7.93108 2.10373 8.45055L2.7348 9.38957C2.98416 9.76061 2.98416 10.2457 2.7348 10.6167L2.10373 11.5557C1.75489 12.0748 1.84115 12.6739 2.07416 13.0775L3.37541 15.3313C3.60842 15.7349 4.08414 16.1092 4.70808 16.0666L5.83683 15.9896C6.28284 15.9592 6.70291 16.2017 6.89956 16.6032L7.39724 17.6192C7.67221 18.1806 8.23391 18.4054 8.6998 18.4054H11.3034C11.7693 18.4054 12.331 18.1805 12.6059 17.6192L13.1036 16.6032C13.3003 16.2017 13.7203 15.9592 14.1664 15.9896L15.2951 16.0666C15.9189 16.1092 16.3946 15.735 16.6276 15.3314L17.929 13.0773C18.162 12.6737 18.2482 12.0747 17.8995 11.5557L17.2684 10.6167C17.019 10.2457 17.019 9.76061 17.2684 9.38957L17.8995 8.45055C18.2485 7.93118 18.1621 7.33175 17.929 6.92803L16.6284 4.67537C16.3953 4.27165 15.9194 3.89709 15.2951 3.93968L14.1664 4.01669C13.7203 4.04712 13.3003 3.8046 13.1036 3.40313L12.6059 2.38709ZM11.5343 10.0037C11.5343 10.8506 10.8478 11.5371 10.0009 11.5371C9.1541 11.5371 8.4676 10.8506 8.4676 10.0037C8.4676 9.15691 9.1541 8.47041 10.0009 8.47041C10.8478 8.47041 11.5343 9.15691 11.5343 10.0037ZM13.3343 10.0037C13.3343 11.8447 11.8419 13.3371 10.0009 13.3371C8.15999 13.3371 6.6676 11.8447 6.6676 10.0037C6.6676 8.16279 8.15999 6.67041 10.0009 6.67041C11.8419 6.67041 13.3343 8.16279 13.3343 10.0037Z",fill:"#9899A6"}));o();t();var b1=e=>preactH(c,{width:"20px",height:"20px",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-label":r("HIDE_LISTENING_BAR"),"data-testid":a.LISTENING_BAR_HIDE_BUTTON,...e},preactH("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6364 2.61879C18.9879 2.26732 18.9879 1.69747 18.6364 1.346C18.2849 0.994529 17.7151 0.994529 17.3636 1.346L14.9269 3.78274C13.4728 2.95781 11.7916 2.48679 10.0005 2.48679C5.34186 2.48679 1.42744 5.67293 0.317383 9.98499C0.843831 12.03 2.001 13.8217 3.56916 15.1404L1.3636 17.346C1.01213 17.6975 1.01213 18.2673 1.3636 18.6188C1.71508 18.9703 2.28492 18.9703 2.6364 18.6188L5.07019 16.185C6.52512 17.0113 8.20768 17.4831 10.0004 17.4831C14.659 17.4831 18.5735 14.297 19.6835 9.98494C19.1567 7.93855 17.9983 6.14574 16.4285 4.82672L18.6364 2.61879ZM13.5948 5.11478C12.5092 4.58441 11.2893 4.28679 10.0005 4.28679C6.34639 4.28679 3.24688 6.67893 2.18993 9.98498C2.68248 11.5256 3.61861 12.8678 4.84771 13.8619L13.5948 5.11478ZM6.40203 14.8532L15.1499 6.10533C16.3806 7.09971 17.318 8.44291 17.811 9.98494C16.754 13.291 13.6545 15.6831 10.0004 15.6831C8.70995 15.6831 7.48864 15.3848 6.40203 14.8532Z",fill:"#9899A6"}));o();t();var L1=e=>preactH(c,{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-label":r("LISTENING_BAR_SAVE_TO_LIBRARY"),"data-testid":a.LISTENING_BAR_SAVE_TO_LIBRARY,...e},preactH("g",{clipPath:"url(#clip0_993_344)"},preactH("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.167 1C16.7193 1 17.167 1.44772 17.167 2V4H19.167C19.7193 4 20.167 4.44772 20.167 5C20.167 5.55228 19.7193 6 19.167 6H17.167V8C17.167 8.55228 16.7193 9 16.167 9C15.6147 9 15.167 8.55228 15.167 8V6H13.167C12.6147 6 12.167 5.55228 12.167 5C12.167 4.44771 12.6147 4 13.167 4H15.167V2C15.167 1.44772 15.6147 1 16.167 1ZM5.83366 4C5.46547 4 5.16699 4.29848 5.16699 4.66667L5.16702 15.7589L9.66312 13.1362C9.97448 12.9546 10.3595 12.9546 10.6709 13.1362L15.167 15.7589V12C15.167 11.4477 15.6147 11 16.167 11C16.7193 11 17.167 11.4477 17.167 12V17.5C17.167 17.858 16.9755 18.1888 16.6651 18.3671C16.3546 18.5454 15.9724 18.5442 15.6631 18.3637L10.167 15.1577L4.6709 18.3637C4.36161 18.5442 3.97946 18.5454 3.66897 18.3671C3.35848 18.1888 3.16703 17.858 3.16703 17.5L3.16699 4.66667C3.16699 3.19391 4.3609 2 5.83366 2H10.167C10.7193 2 11.167 2.44772 11.167 3C11.167 3.55228 10.7193 4 10.167 4H5.83366Z"})),preactH("defs",null,preactH("clipPath",{id:"clip0_993_344"},preactH("rect",{width:"20",height:"20",transform:"translate(0.166992)"}))));o();t();o();t();var w1=e=>preactH(Fragment,null,preactH(C1,{top:"unset",left:"unset"}),preactH(K,{...e})),K=e=>preactH(c,{"aria-label":r("PLAY_BUTTON"),"data-testid":a.PLAY_BUTTON,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 32 32",className:"status-icon",...e},preactH("g",{"clip-path":"url(#clip0_533_5051)"},preactH("circle",{cx:"16",cy:"16",r:"16",fill:"currentColor"}),preactH("path",{d:"M22.1998 14.9608C22.9998 15.4227 22.9998 16.5774 22.1998 17.0392L13.7998 21.889C12.9998 22.3509 11.9998 21.7735 11.9998 20.8497L11.9998 11.1503C11.9998 10.2265 12.9998 9.64915 13.7998 10.111L22.1998 14.9608Z",fill:"white"})),preactH("defs",null,preactH("clipPath",{id:"clip0_533_5051"},preactH("rect",{width:"32",height:"32",fill:"white"})))),E1=e=>preactH(c,{"aria-label":r("PAUSE_BUTTON"),"data-testid":a.PAUSE_BUTTON,className:"icon--pressed status-icon",role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...e},preactH("g",{"clip-path":"url(#clip0_420_17231)"},preactH("circle",{cx:"16",cy:"16",r:"16",fill:"currentColor"}),preactH("path",{d:"M11 11C11 10.4477 11.4477 10 12 10H14C14.5523 10 15 10.4477 15 11V21C15 21.5523 14.5523 22 14 22H12C11.4477 22 11 21.5523 11 21V11Z",fill:"white"}),preactH("path",{d:"M17 11C17 10.4477 17.4477 10 18 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H18C17.4477 22 17 21.5523 17 21V11Z",fill:"white"})),preactH("defs",null,preactH("clipPath",{id:"clip0_420_17231"},preactH("rect",{width:"32",height:"32",fill:"white"})))),S1=e=>preactH(c,{"aria-label":r("REPLAY_BUTTON"),"data-testid":a.REPLAY_BUTTON,className:"icon--pressed",role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...e},preactH("circle",{cx:"16",cy:"16",r:"16",fill:"#4759F7"}),preactH("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3393 13.1331C19.4076 11.726 17.8115 10.8001 16.0002 10.8001C13.1283 10.8001 10.8002 13.1282 10.8002 16.0001C10.8002 18.872 13.1283 21.2001 16.0002 21.2001C18.6696 21.2001 20.8701 19.188 21.1662 16.5982C21.2164 16.1593 21.613 15.8441 22.0519 15.8943C22.4909 15.9445 22.8061 16.341 22.7559 16.78C22.3685 20.1686 19.4922 22.8001 16.0002 22.8001C12.2447 22.8001 9.20019 19.7556 9.2002 16.0001C9.2002 12.2445 12.2447 9.20007 16.0002 9.20007C18.2024 9.20007 20.1592 10.2471 21.4013 11.8683V10.8325C21.4013 10.3907 21.7595 10.0325 22.2013 10.0325C22.6431 10.0325 23.0013 10.3907 23.0013 10.8325V13.9331C23.0013 14.3749 22.6431 14.7331 22.2013 14.7331L19.1007 14.7331C18.6589 14.7331 18.3007 14.3749 18.3007 13.9331C18.3007 13.4913 18.6589 13.1331 19.1007 13.1331L20.3393 13.1331Z",fill:"white"}));function W({isPlaying:e,isLoading:i,isLoadingFailed:g,isFinished:l}){return g?l1:i?w1:e?E1:l?S1:K}o();t();var y=M(O()),v1=M(O()),J1=({anchorElement:e,open:i,children:g,onClose:l})=>{let f=(0,y.useRef)(null),[n,s]=(0,y.useState)({left:0,top:0,width:0,height:0}),L=new ResizeObserver(C=>{let p=C[0];if(p&&p.contentRect&&p.contentRect.width){let{width:v,height:E}=p.contentRect;s(A=>({...A,width:v,height:E}))}}),m=()=>{if(e){let{left:C,top:p,width:v,height:E}=e.getBoundingClientRect();s({left:C,top:p,width:v,height:E})}},I=new MutationObserver(()=>{m()});(0,y.useEffect)(()=>(e&&(L.observe(e),I.observe(document.body,{childList:!0,subtree:!0})),window.addEventListener("resize",m),m(),()=>{L.disconnect(),I.disconnect(),window.removeEventListener("resize",m)}),[e]),(0,y.useEffect)(()=>{let C=p=>{f.current&&!f.current.contains(p.target)&&e&&!e.contains(p.target)&&l()};return i&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[i,e,l]);let w=(0,y.useMemo)(()=>G({key:"menu-cache",container:f.current}),[f.current]),S=(0,y.useMemo)(()=>({top:n.top+n.height/2+window.scrollY,left:n.left+n.width/2+window.scrollX}),[n]);return!i||!e?null:(0,v1.createPortal)(preactH("div",{ref:f,style:{position:"absolute",zIndex:1e3,...S}},preactH(V,{value:w},g)),document.body)},P1=J1;var ee=d("div")`
  display: flex;
  flex-direction: column;
  border-radius: 16px;
  margin: 24px 0;
  border: 0.5px solid ${h.brdrSec2060};
  min-width: 360px;
  max-width: 100%;
`,te=d(r1)`
  background-color: ${h.bgPrimW100};
  padding: 15px;
  box-sizing: border-box;
  border-radius: ${({importEnabled:e})=>e?"16px 16px 0px 0px":"16px"};
`.withComponent("div"),T1=d(B)`
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: 0.16px;
  justify-self: start;
  margin-left: 8px;
  font-family: 'ABCDiatype';
  > div > div {
    width: 100%;
  }
  text-align: left;
  width: calc(100% - 24px);

  .seek-handle {
    top: 16px;
  }
`.withComponent("div"),oe=d("div")`
  display: flex;
  padding: 12px 16px;
  align-items: center;
  justify-content: space-between;
  background-color: #262940;
  border-radius: 0px 0px 16px 16px;
`,ie=d(B)`
  font-family: ABCDiatype;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 20px; /* 142.857% */
  letter-spacing: 0.14px;
  color: ${h.icnTxtPrim};
`,ne=d(k)`
  align-items: center;
  gap: 6px;
  cursor: pointer;

  & svg {
    color: #8894fe;
  }

  > span {
    font-family: ABCDiatype;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 20px; /* 142.857% */
    letter-spacing: 0.14px;
    color: #8894fe;
  }

  &:hover {
    opacity: 0.75;
  }

  &:active {
    opacity: 0.5;
  }
`,re=d(B)`
  position: absolute;
  top: -105px;
  left: -155px;
  display: flex;
  flex-direction: column;
  padding: 4px;
  gap: 2px;
  border-radius: 12px;
  background: #252627;
  border: 0.5px solid #2d2d2f;
  box-shadow: 0px 6px 16px -6px rgba(0, 0, 0, 0.64);
  z-index: 100001;
`.withComponent("div"),I1=d("div")`
  display: flex;
  align-items: center;
  flex-direction: row;
  gap: 8px;
  padding: 10px 12px;
  cursor: pointer;
  border-radius: 8px;
  > span {
    font-family: ABCDiatype;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 20px;
    letter-spacing: 0.14px;
    color: ${h.icnTxtPrim};
    width: 100px;
    text-align: left;
  }

  &:hover {
    background: #2d2d2f;
  }

  &:active {
    background: #3c3c3e;
  }

  & svg {
    width: 20px;
    height: 20px;
  }
`,_1=d("div")`
  position: relative;
  display: flex;
  align-items: center;
  cursor: pointer;
  color: ${h.icnTxtPrim};
  & svg {
    width: 24px;
    height: 24px;
    color: ${h.icnTxtPrim};
    &:hover {
      opacity: 0.75;
    }
    &:active {
      opacity: 0.5;
    }
  }

  & .tooltip {
    display: none;
  }

  &:hover .tooltip {
    display: flex;
  }

  &:active .tooltip {
    display: flex;
  }
`,ae=d(_1)`
  margin-right: 8px;
  ${({active:e})=>e?"color: #9899A6;":""}
  & svg {
    height: 16px;
  }
`,le=d("div")`
  display: flex;
  align-items: center;
`,se=d("div")`
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #2d2d2f;
  color: #ffffff;
  gap: 6px;
  border-radius: 10px;
  padding: 6px 16px 6px 12px;
  margin-right: 8px;
  cursor: pointer;

  &:hover {
    background-color: #343537;
  }

  &:active {
    background-color: #3c3c3e;
  }

  > span {
    font-family: ABCDiatype;
    font-size: 14px;
    font-style: normal;
    line-height: 20px;
    font-weight: 500;
  }
`,B1=d(k)`
  position: absolute;
  z-index: 2000;
  bottom: 34px;
  right: 0px;
  transform: translateX(calc(50% - 12px));
  font-family: 'ABCDiatype';
  font-style: normal;
  border-radius: 6px;
  padding: 6px 8px;
  box-shadow: 0px 4px 12px -4px rgba(0, 0, 0, 0.16);
  color: ${h.icnTxtPrimInv};
  background-color: #e9eaf0;

  ::before {
    content: '';
    display: block;
    width: 0;
    height: 0;
    position: absolute;
    left: calc(50% - 4px);
    top: 100%;
    border-style: solid;
    border-width: 4px;
    border-color: #e9eaf0 transparent transparent transparent;
  }

  ::after {
    content: '';
    display: block;
    position: absolute;
    width: 0;
    height: 0;
    left: calc(50% - 3px);
    top: 100%;
    border-style: solid;
    border-width: 3px;
    border-color: #e9eaf0 transparent transparent transparent;
  }
`,R1=d(B)`
  font-weight: 400;
  font-size: 12px;
  line-height: 16px;
  letter-spacing: 0.01em;
  width: max-content;
  color: ${h.icnTxtPrimInv};
`,de=d("button")`
  position: relative;
  background-color: #4759f7;
  border-radius: 50%;
  height: 32px;
  width: 32px;
  display: flex;
  justify-content: center;
  align-items: center;
  outline: none;
  border: none;
  padding: 0;

  .status-icon {
    color: #4759f7;
  }

  &:hover {
    .status-icon {
      & circle {
        color: #4454e3;
      }
    }
  }

  &:active {
    .status-icon {
      & circle {
        color: #3d4ac4;
      }
    }
  }
`,ce=()=>preactH(B1,{className:"tooltip"},preactH(R1,null,"More")),pe=()=>preactH(B1,{className:"tooltip"},preactH(R1,null,"Open Speechify library"));T1.defaultProps={color:h.bgPrimInvBW};var A1=({onClick:e,isLoadingFailed:i,isLoading:g,isPlaying:l,duration:f,configure:n,importEnabled:s=!1,isFinished:L})=>{let{seekTo:m}=N,I=W({isLoadingFailed:i,isLoading:g,isPlaying:l,isFinished:L}),[w,S]=(0,u.useState)(!1),[C,p]=(0,u.useState)(!1),[v,E]=(0,u.useState)(!1),[A,G1]=(0,u.useState)(null),[V1,k1]=(0,u.useState)(!1),U=(0,u.useMemo)(()=>p1(),[window.location.hostname]),X=x=>{let{disabled_websites:b,enabled_websites:T,enabled_by_default:$1}=x,X1=b.includes(U),j1=T.includes(U);E((X1||!$1)&&!j1)};(0,u.useEffect)(()=>{let x=Z.listen(T=>{X(T)}),b=async()=>{Z.getAll().then(T=>{X(T)})};return b(),o1("keypoint-extraction-error",b,"keypoint-extraction"),()=>{x(),i1("keypoint-extraction-error",b)}},[]),(0,u.useEffect)(()=>{async function x(){let b=await s1();k1(b)}x()},[]);let D1=()=>{C||p(!0),e()},F1=()=>{S(!w)},U1=()=>{S(!1)},z1=()=>{Q.toggleFeatureOnDomain("embedded-player",!1),S(!1),R("extension_usage_hide_player",{site:n.site})},Y1=()=>{R("extension_import_on_embedded_player"),j().then(x=>{if(x&&!f1(x)){let b=`${Y.speechifyWebApp.baseUrl}/importUrl?url=${encodeURIComponent(window.location.href)}`;window.open(b,"_blank")}else window.open("https://app.speechify.com","_blank","noopener")})},Z1=()=>{window.open(Y.speechifyWebApp.baseUrl,"_blank")},K1=()=>{c1("/visibility"),R("extension_usage_settings_clicked",{source:"embedded_player"}),_("show-settings-modal")},W1=async()=>{R("extension_keypoints_extraction_listen_btn_clicked",{option:"everywhere"}),E(!1),await d1(U),_("onetime-keypoint-extraction")};return(0,u.useEffect)(()=>{l&&!C&&p(!0)},[l,C]),preactH(ee,null,preactH(te,{importEnabled:s,height:n.height,yAlign:!0,xAlign:!0,columns:"32px 1fr max-content"},preactH(de,{"aria-label":r("EMBED_PLAYER_PLAY_BUTTON"),"data-testid":a.EMBED_PLAYER_PLAY_BUTTON},preactH(I,{onClick:D1,width:"32px",height:"32px",color:h.icnTxtPrim,style:{pointerEvents:"all"}})),preactH(T1,null,C?preactH(u1,{style:{marginLeft:"8px"},customStyle:{timeLabelColor:"#ffffff"},duration:f,seek:m}):preactH("span",null,"Listen to This ",s?"Chapter":"Page",preactH("span",{style:{color:"#747580",margin:"0px 4px"}},"·"),q("long")(f))),preactH(k,null,v&&V1&&preactH(se,{onClick:W1},preactH(x1,null),preactH("span",null,"Summarize")),preactH(ae,{onClick:F1,active:w},preactH(le,{ref:x=>G1(x)},preactH(g1,null)),!w&&preactH(ce,null),A&&preactH(P1,{anchorElement:A,open:w,onClose:U1},preactH(re,null,preactH(I1,{onClick:K1},preactH(y1,null),preactH("span",null,"Settings")),preactH(I1,{onClick:a1(z1)},preactH(b1,null),preactH("span",null,"Hide player"))))),preactH(_1,{onClick:Z1},preactH(h1,null),preactH(pe,null)))),s&&preactH(oe,null,preactH(ie,null,"Save all chapters of this story and listen anytime"),preactH(ne,{onClick:Y1},preactH(L1,null),preactH("span",null,"Save to Library"))))};function M1({container:e,importEnabled:i,config:g}){let l=n1.usePlayingState(),{play:f,pause:n}=N,s=l==="playing",L=l==="ended",m=l==="buffering",I=l==="errored",w=l==="ended",S=(0,D.useCallback)(async()=>{if(s)return n();J()||_("browser-action",{animate:!1},"pill-player"),await f(),m1({triggeredFrom:"EmbeddedPlayer"})},[s,L,f,n]),C=(0,D.useMemo)(()=>G({key:"player-emotion-cache",container:e}),[e]),p=t1();if(p.isLoading===!0)return null;let{duration:v,durationSaved:E}=p;return preactH(V,{value:C},preactH(A1,{onClick:S,isLoadingFailed:I,isLoading:m,isPlaying:s,duration:v,durationSaved:E,configure:g,importEnabled:!!i,isFinished:w}))}var $="speechify-embedded-player",F;function O1(){let e=document.querySelector(`#${$}`);F&&F.disconnect(),e&&(z(()=>null,e),e.remove())}async function me(e){let i=e.inlinePlayerContentSelector?e.inlinePlayerContentSelector:e.inlinePlayerSelector,g=i.indexOf("::prepend")!==-1,l=i.indexOf("::before")!==-1,f=g?i.replace("::prepend",""):l?i.replace("::before",""):i,n=H(f);if(n&&n.parentNode){let s=document.createElement("div");s.id=$,s.style.cssText=e.inlinePlayerStyle??"width: 100%; max-width: 1200px; margin: 0 auto;";let L=s.attachShadow({mode:"open"});g?n.parentNode.prepend(s):n.parentNode.insertBefore(s,l?n:n.nextElementSibling);let m=document.createElement("div");m.id="speechify-embedded-player-root",L.appendChild(m),e.inlinePlayerContentStyle&&(m.style.cssText=e.inlinePlayerContentStyle),z(preactH(M1,{container:m,importEnabled:e.importEnabled,config:e}),m)}return()=>{}}async function N1(e){if(await e1(e?.awaitedElement??""),!document.querySelector(`#${$}`))return e?.site?me(e):()=>{}}async function fe(e){let i=await N1(e);return F=new MutationObserver(()=>N1(e)),F.observe(document,{subtree:!0,childList:!0}),()=>{i&&i(),O1&&O1()}}export{fe as default};
//# sourceMappingURL=init-GFK7INQ3.js.map
