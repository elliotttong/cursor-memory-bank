import{c as s}from"./chunk-L27FCKAN.js";import{a as E}from"./chunk-FEYPXFJ6.js";import{$a as d,Cb as S,Db as p,Dc as T,Fb as l,Gc as h,Na as f,Qc as y,Xc as P,Yc as O,_a as n,b as r,z as i}from"./chunk-6VFX2JNU.js";import{q as c,v as a}from"./chunk-LUKOAFYK.js";import{a as g}from"./chunk-LUPITSSL.js";import{h as m,j as preactH,o as u}from"./chunk-NUN3A7RC.js";u();m();var L=c(()=>({}));async function R(e){L.setState(e)}var X=async()=>{let e=await r("/keyboard-shortcuts/get-command-list");R(e)};async function Z(e){let o=(await r("/auth/get-user"))?.user;if(!y(o)){a("toggle-force-login");return}if(e==="play-pause"||e==="play-pause-new")return _();if(e==="save-to-library")return b();if(e==="open-screenshot-mode")return C();throw new Error("Unsupported keyboard command provided")}async function _(){if(O().current?.id!=="player-error"){if(f(d.getPlayingState()))return s(),n.pause();i.toggleFeatureOnDomain("pill-player",!0),await n.play(),a("hide-shortcut-prompt",{},"shortcuts-prompt"),h({triggeredFrom:"Shortcut"}),s()}}async function b(){let e=await l();if(["saving","saved"].includes(e))return;let t=await p();if(!t)return;let o=await S(window.location.href);P({id:"saved-to-library",timeSensitive:!1,priority:100,duration:1e4,showOnMobile:!1,render:({dismiss:v})=>preactH(g,{id:"saved-to-library",savedInfo:o,removeNotification:v})}),T({timeBeforeSave:t.timeBeforeSave,triggeredFrom:"Shortcut"})}async function C(){i.toggleFeatureOnDomain("pill-player",!0),E("shortcut")}var $=()=>{};export{L as a,R as b,X as c,Z as d,_ as e,b as f,C as g,$ as h};
//# sourceMappingURL=chunk-F6UTSCF4.js.map
