import{b as At,j as Qc,k as Qt,n as tu,q as yt,v as Go}from"./chunk-LUKOAFYK.js";import{A as Un,B as Mo,C as Uo,D as pu,E as Bo,F as Ho,G as tn,H as jr,I as hu,J as Bn,K as mu,L as Hn,O as gu,a as gt,b as Zc,c as eu,d as qr,e as Yr,f as ae,g as ee,h as nu,j as xt,k as zr,l as ru,n as su,o as Ve,p as au,q as cu,r as uu,s as lu,t as ko,u as Kr,v as du,w as $r,x as Zt,y as en,z as fu}from"./chunk-O77QQVYU.js";import{a as xo,b as Fn,c as Ie,d as zc,e as Br,f as Jt,g as Kc,h as Hr,i as kn,j as Z,k as Gr,l as $c,n as No,o as bt,p as jc,q as Oo,r as Vr,s as Xc,u as Wr,v as Ro,w as Jc,x as Ae}from"./chunk-35EEQS33.js";import{i as nn}from"./chunk-BGIN6QNH.js";import{a as iu,c as ou,d as Et}from"./chunk-6HLOLWYC.js";import{a as Oe,b as re,j as Eu,k as $,l as Gn}from"./chunk-NORECDYR.js";import{a as Pt,b as Mn,f as Lo,g as Fo}from"./chunk-RQERJHUS.js";import{b as m,d as K,f as browser,g as Buffer,h as a,j as preactH,n as Yy,o as c}from"./chunk-NUN3A7RC.js";var cl=m((iR,al)=>{c();a();al.exports=({dataset:e,epsilon:t,epsilonCompare:n,minimumPoints:r,distanceFunction:i})=>{t=t||1,n=n||((v,I)=>v<I),r=r||2,i=i||((v,I)=>Math.abs(v-I));var o={},s=v=>o[v],u=v=>{o[v]=!0},l={},d=v=>l[v],f=v=>{l[v]=!0},p=(v,I)=>{for(var _=0;_<I.length;_+=1){var P=I[_];v.indexOf(P)<0&&v.push(P)}},h=v=>{for(var I=[],_=0;_<e.length;_+=1){var P=i(e[v],e[_]);n(P,t)&&I.push(_)}return I},g=[],S=v=>g.push(v),C=[],w=()=>C.push([])-1,T=(v,I)=>{C[v].push(I),f(I)},y=(v,I)=>{for(var _=0;_<I.length;_+=1){var P=I[_];if(!s(P)){u(P);var N=h(P);N.length>=r&&p(I,N)}d(P)||T(v,P)}};return e.forEach((v,I)=>{if(!s(I)){u(I);var _=h(I);if(_.length<r)g.push(I);else{var P=w();T(P,I),y(P,_)}}}),{clusters:C,noise:g}}});var $d=m((BB,Kd)=>{c();a();function MD(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Kd.exports=MD});var Jf=m((TV,Xf)=>{c();a();Xf.exports=function(t,n){if((typeof t=="string"||t instanceof String)&&typeof document<"u"){var r=document.createElement("DIV");r.innerHTML=t,t=(r.textContent||"").trim()}else typeof t=="object"&&t.textContent&&(t=(t.textContent||"").trim());return t}});var Qf=m(La=>{c();a();La.endsWithChar=function(t,n){return n.length>1?n.indexOf(t.slice(-1))>-1:t.slice(-1)===n};La.endsWith=function(t,n){return t.slice(t.length-n.length)===n}});var Zf=m(Se=>{c();a();var Fa,gC=["al","adj","assn","Ave","BSc","MSc","Cell","Ch","Co","cc","Corp","Dem","Dept","ed","eg","Eq","Eqs","est","est","etc","Ex","ext","Fig","fig","Figs","figs","i.e","ie","Inc","inc","Jan","Feb","Mar","Apr","Jun","Jul","Aug","Sep","Sept","Oct","Nov","Dec","jr","mi","Miss","Mrs","Mr","Ms","Mol","mt","mts","no","Nos","PhD","MD","BA","MA","MM","pl","pop","pp","Prof","Dr","pt","Ref","Refs","Rep","repr","rev","Sec","Secs","Sgt","Col","Gen","Rep","Sen","Gov","Lt","Maj","Capt","St","Sr","sr","Jr","jr","Rev","Sun","Mon","Tu","Tue","Tues","Wed","Th","Thu","Thur","Thurs","Fri","Sat","trans","Univ","Viz","Vol","vs","v"];Se.setAbbreviations=function(e){e?Fa=e:Fa=gC};var ka=Se.isCapitalized=function(e){return/^[A-Z][a-z].*/.test(e)||EC(e)};Se.isSentenceStarter=function(e){return ka(e)||/``|"|'/.test(e.substring(0,2))};Se.isCommonAbbreviation=function(e){var t=e.replace(/[-'`~!@#$%^&*()_|+=?;:'",.<>\{\}\[\]\\\/]/gi,"");return~Fa.indexOf(t)};Se.isTimeAbbreviation=function(e,t){if(e==="a.m."||e==="p.m."){var n=t.replace(/\W+/g,"").slice(-3).toLowerCase();if(n==="day")return!0}return!1};Se.isDottedAbbreviation=function(e){var t=e.replace(/[\(\)\[\]\{\}]/g,"").match(/(.\.)*/);return t&&t[0].length>0};Se.isCustomAbbreviation=function(e){return e.length<=3?!0:ka(e)};Se.isNameAbbreviation=function(e,t){if(t.length>0){if(e<5&&t[0].length<6&&ka(t[0]))return!0;var n=t.filter(function(r){return/[A-Z]/.test(r.charAt(0))});return n.length>=3}return!1};var EC=Se.isNumber=function(e,t){return t&&(e=e.slice(t-1,t+2)),!isNaN(e)};Se.isPhoneNr=function(e){return e.match(/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/)};Se.isURL=function(e){return e.match(/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/)};Se.isConcatenated=function(e){var t=0;if((t=e.indexOf("."))>-1||(t=e.indexOf("!"))>-1||(t=e.indexOf("?"))>-1){var n=e.charAt(t+1);if(n.match(/[a-zA-Z].*/))return[e.slice(0,t),e.slice(t+1)]}return!1};Se.isBoundaryChar=function(e){return e==="."||e==="!"||e==="?"}});var np=m(tp=>{c();a();var yC=Jf(),yr=Qf(),me=Zf(),Ma=" @~@ ",ep=Ma.trim(),TC=new RegExp("\\S",""),SC=new RegExp("\\n+|[-#=_+*]{4,}","g"),DC=new RegExp("\\S+|\\n","g");tp.sentences=function(e,t){if(!e||typeof e!="string"||!e.length)return[];if(!TC.test(e))return[];var n={newline_boundaries:!1,html_boundaries:!1,html_boundaries_tags:["p","div","ul","ol"],sanitize:!1,allowed_tags:!1,preserve_whitespace:!1,abbreviations:null};if(typeof t=="boolean")n.newline_boundaries=!0;else for(var r in t)n[r]=t[r];if(me.setAbbreviations(n.abbreviations),n.newline_boundaries&&(e=e.replace(SC,Ma)),n.html_boundaries){var i="(<br\\s*\\/?>|<\\/("+n.html_boundaries_tags.join("|")+")>)",o=new RegExp(i,"g");e=e.replace(o,"$1"+Ma)}(n.sanitize||n.allowed_tags)&&(n.allowed_tags||(n.allowed_tags=[""]),e=yC(e,{allowedTags:n.allowed_tags}));var s,u;n.preserve_whitespace?(u=e.split(/(<br\s*\/?>|\S+|\n+)/),s=u.filter(function(w,T){return T%2})):s=e.trim().match(DC);var l=0,d=0,f=[],p=[],h=[];if(!s||!s.length)return[];for(var g=0,S=s.length;g<S;g++){if(l++,h.push(s[g]),~s[g].indexOf(",")&&(l=0),me.isBoundaryChar(s[g])||yr.endsWithChar(s[g],"?!")||s[g]===ep){(n.newline_boundaries||n.html_boundaries)&&s[g]===ep&&h.pop(),p.push(h),l=0,h=[];continue}if((yr.endsWithChar(s[g],'"')||yr.endsWithChar(s[g],"”"))&&(s[g]=s[g].slice(0,-1)),yr.endsWithChar(s[g],".")){if(g+1<S){if(s[g].length===2&&isNaN(s[g].charAt(0))||me.isCommonAbbreviation(s[g]))continue;if(me.isSentenceStarter(s[g+1])){if(me.isTimeAbbreviation(s[g],s[g+1])||me.isNameAbbreviation(l,s.slice(g,6))||me.isNumber(s[g+1])&&me.isCustomAbbreviation(s[g]))continue}else if(yr.endsWith(s[g],"..")||me.isDottedAbbreviation(s[g])||me.isNameAbbreviation(l,s.slice(g,5)))continue}p.push(h),h=[],l=0;continue}(d=s[g].indexOf("."))>-1&&(me.isNumber(s[g],d)||me.isDottedAbbreviation(s[g])||me.isURL(s[g])||me.isPhoneNr(s[g]))||(f=me.isConcatenated(s[g]))&&(h.pop(),h.push(f[0]),p.push(h),h=[],l=0,h.push(f[1]))}h.length&&p.push(h),p=p.filter(function(w){return w.length>0});var C=p.slice(1).reduce(function(w,T){var y=w[w.length-1];return y.length===1&&/^.{1,2}[.]$/.test(y[0])&&!/[.]/.test(T[0])?(w.pop(),w.push(y.concat(T)),w):(w.push(T),w)},[p[0]]);return C.map(function(w,T){if(n.preserve_whitespace&&!n.newline_boundaries&&!n.html_boundaries){var y=w.length*2;return T===0&&(y+=1),u.splice(0,y).join("")}return w.join(" ")})}});var xp=m(pt=>{"use strict";c();a();var Pp=pt&&pt.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(pt,"__esModule",{value:!0});var ue={},a_=0,c_=function(){function e(t,n){var r=this;this.name="",this._listeners=[],n&&(this.name=n),this.idx=a_++,ue[this.idx]=t,this.initialState=t,typeof window<"u"}return e.prototype.get=function(){return ue[this.idx]},e.prototype.set=function(t,n){if(this.condition){var r=this.condition(Pp({},ue[this.idx],t(ue[this.idx])),n);r&&(ue[this.idx]=r)}else ue[this.idx]=Pp({},ue[this.idx],t(ue[this.idx]));typeof window<"u",this._listeners.forEach(function(i){return i()})},e.prototype.replace=function(t,n){if(this.condition){var r=this.condition(t(ue[this.idx]),n);r&&(ue[this.idx]=r)}else ue[this.idx]=t(ue[this.idx]);typeof window<"u",this._listeners.forEach(function(i){return i()})},e.prototype.setCondition=function(t){this.condition=t},e.prototype.reset=function(){ue[this.idx]=this.initialState},e.prototype.subscribe=function(t){this._listeners.push(t)},e.prototype.unsubscribe=function(t){this._listeners=this._listeners.filter(function(n){return n!==t})},e.prototype.dispatch=function(t,n){return typeof window<"u",t},e}();pt.Store=c_;function u_(e,t){return typeof window<"u",e}pt.dispatch=u_;function l_(){return ue}pt.getGlobalState=l_;function d_(){ue={}}pt.resetGlobalState=d_;function f_(e){ue=e}pt.replaceGlobalState=f_});var Op=m((bq,Np)=>{c();a();function p_(e,t,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}Np.exports=p_});var Lp=m((xq,Rp)=>{c();a();function h_(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),u=s.length;u--;){var l=s[e?u:++i];if(n(o[l],l,o)===!1)break}return t}}Rp.exports=h_});var kp=m((Rq,Fp)=>{c();a();var m_=Lp(),g_=m_();Fp.exports=g_});var Up=m((kq,Mp)=>{c();a();function E_(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}Mp.exports=E_});var cc=m((Bq,Bp)=>{c();a();var y_=typeof global=="object"&&global&&global.Object===Object&&global;Bp.exports=y_});var et=m((Vq,Hp)=>{c();a();var T_=cc(),S_=typeof self=="object"&&self&&self.Object===Object&&self,D_=T_||S_||Function("return this")();Hp.exports=D_});var Sr=m((Yq,Gp)=>{c();a();var C_=et(),__=C_.Symbol;Gp.exports=__});var Yp=m(($q,qp)=>{c();a();var Vp=Sr(),Wp=Object.prototype,v_=Wp.hasOwnProperty,I_=Wp.toString,Dr=Vp?Vp.toStringTag:void 0;function w_(e){var t=v_.call(e,Dr),n=e[Dr];try{e[Dr]=void 0;var r=!0}catch{}var i=I_.call(e);return r&&(t?e[Dr]=n:delete e[Dr]),i}qp.exports=w_});var Kp=m((Jq,zp)=>{c();a();var b_=Object.prototype,A_=b_.toString;function P_(e){return A_.call(e)}zp.exports=P_});var Cn=m((e3,Xp)=>{c();a();var $p=Sr(),x_=Yp(),N_=Kp(),O_="[object Null]",R_="[object Undefined]",jp=$p?$p.toStringTag:void 0;function L_(e){return e==null?e===void 0?R_:O_:jp&&jp in Object(e)?x_(e):N_(e)}Xp.exports=L_});var _n=m((r3,Jp)=>{c();a();function F_(e){return e!=null&&typeof e=="object"}Jp.exports=F_});var Zp=m((s3,Qp)=>{c();a();var k_=Cn(),M_=_n(),U_="[object Arguments]";function B_(e){return M_(e)&&k_(e)==U_}Qp.exports=B_});var uc=m((u3,nh)=>{c();a();var eh=Zp(),H_=_n(),th=Object.prototype,G_=th.hasOwnProperty,V_=th.propertyIsEnumerable,W_=eh(function(){return arguments}())?eh:function(e){return H_(e)&&G_.call(e,"callee")&&!V_.call(e,"callee")};nh.exports=W_});var tt=m((f3,rh)=>{c();a();var q_=Array.isArray;rh.exports=q_});var oh=m((m3,ih)=>{c();a();function Y_(){return!1}ih.exports=Y_});var lc=m((Cr,vn)=>{c();a();var z_=et(),K_=oh(),ch=typeof Cr=="object"&&Cr&&!Cr.nodeType&&Cr,sh=ch&&typeof vn=="object"&&vn&&!vn.nodeType&&vn,$_=sh&&sh.exports===ch,ah=$_?z_.Buffer:void 0,j_=ah?ah.isBuffer:void 0,X_=j_||K_;vn.exports=X_});var dc=m((S3,uh)=>{c();a();var J_=9007199254740991,Q_=/^(?:0|[1-9]\d*)$/;function Z_(e,t){var n=typeof e;return t=t??J_,!!t&&(n=="number"||n!="symbol"&&Q_.test(e))&&e>-1&&e%1==0&&e<t}uh.exports=Z_});var co=m((_3,lh)=>{c();a();var ev=9007199254740991;function tv(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ev}lh.exports=tv});var fh=m((w3,dh)=>{c();a();var nv=Cn(),rv=co(),iv=_n(),ov="[object Arguments]",sv="[object Array]",av="[object Boolean]",cv="[object Date]",uv="[object Error]",lv="[object Function]",dv="[object Map]",fv="[object Number]",pv="[object Object]",hv="[object RegExp]",mv="[object Set]",gv="[object String]",Ev="[object WeakMap]",yv="[object ArrayBuffer]",Tv="[object DataView]",Sv="[object Float32Array]",Dv="[object Float64Array]",Cv="[object Int8Array]",_v="[object Int16Array]",vv="[object Int32Array]",Iv="[object Uint8Array]",wv="[object Uint8ClampedArray]",bv="[object Uint16Array]",Av="[object Uint32Array]",H={};H[Sv]=H[Dv]=H[Cv]=H[_v]=H[vv]=H[Iv]=H[wv]=H[bv]=H[Av]=!0;H[ov]=H[sv]=H[yv]=H[av]=H[Tv]=H[cv]=H[uv]=H[lv]=H[dv]=H[fv]=H[pv]=H[hv]=H[mv]=H[gv]=H[Ev]=!1;function Pv(e){return iv(e)&&rv(e.length)&&!!H[nv(e)]}dh.exports=Pv});var hh=m((P3,ph)=>{c();a();function xv(e){return function(t){return e(t)}}ph.exports=xv});var gh=m((_r,In)=>{c();a();var Nv=cc(),mh=typeof _r=="object"&&_r&&!_r.nodeType&&_r,vr=mh&&typeof In=="object"&&In&&!In.nodeType&&In,Ov=vr&&vr.exports===mh,fc=Ov&&Nv.process,Rv=function(){try{var e=vr&&vr.require&&vr.require("util").types;return e||fc&&fc.binding&&fc.binding("util")}catch{}}();In.exports=Rv});var pc=m((L3,Th)=>{c();a();var Lv=fh(),Fv=hh(),Eh=gh(),yh=Eh&&Eh.isTypedArray,kv=yh?Fv(yh):Lv;Th.exports=kv});var Dh=m((M3,Sh)=>{c();a();var Mv=Up(),Uv=uc(),Bv=tt(),Hv=lc(),Gv=dc(),Vv=pc(),Wv=Object.prototype,qv=Wv.hasOwnProperty;function Yv(e,t){var n=Bv(e),r=!n&&Uv(e),i=!n&&!r&&Hv(e),o=!n&&!r&&!i&&Vv(e),s=n||r||i||o,u=s?Mv(e.length,String):[],l=u.length;for(var d in e)(t||qv.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Gv(d,l)))&&u.push(d);return u}Sh.exports=Yv});var _h=m((H3,Ch)=>{c();a();var zv=Object.prototype;function Kv(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||zv;return e===n}Ch.exports=Kv});var Ih=m((W3,vh)=>{c();a();function $v(e,t){return function(n){return e(t(n))}}vh.exports=$v});var bh=m((z3,wh)=>{c();a();var jv=Ih(),Xv=jv(Object.keys,Object);wh.exports=Xv});var Ph=m((j3,Ah)=>{c();a();var Jv=_h(),Qv=bh(),Zv=Object.prototype,eI=Zv.hasOwnProperty;function tI(e){if(!Jv(e))return Qv(e);var t=[];for(var n in Object(e))eI.call(e,n)&&n!="constructor"&&t.push(n);return t}Ah.exports=tI});var uo=m((Q3,xh)=>{c();a();function nI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}xh.exports=nI});var hc=m((t6,Nh)=>{c();a();var rI=Cn(),iI=uo(),oI="[object AsyncFunction]",sI="[object Function]",aI="[object GeneratorFunction]",cI="[object Proxy]";function uI(e){if(!iI(e))return!1;var t=rI(e);return t==sI||t==aI||t==oI||t==cI}Nh.exports=uI});var mc=m((i6,Oh)=>{c();a();var lI=hc(),dI=co();function fI(e){return e!=null&&dI(e.length)&&!lI(e)}Oh.exports=fI});var lo=m((a6,Rh)=>{c();a();var pI=Dh(),hI=Ph(),mI=mc();function gI(e){return mI(e)?pI(e):hI(e)}Rh.exports=gI});var Fh=m((l6,Lh)=>{c();a();var EI=kp(),yI=lo();function TI(e,t){return e&&EI(e,t,yI)}Lh.exports=TI});var Mh=m((p6,kh)=>{c();a();var SI=mc();function DI(e,t){return function(n,r){if(n==null)return n;if(!SI(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}kh.exports=DI});var Bh=m((g6,Uh)=>{c();a();var CI=Fh(),_I=Mh(),vI=_I(CI);Uh.exports=vI});var Gh=m((T6,Hh)=>{c();a();var II=Bh();function wI(e,t,n,r){return II(e,function(i,o,s){t(r,i,n(i),s)}),r}Hh.exports=wI});var Wh=m((C6,Vh)=>{c();a();function bI(){this.__data__=[],this.size=0}Vh.exports=bI});var gc=m((I6,qh)=>{c();a();function AI(e,t){return e===t||e!==e&&t!==t}qh.exports=AI});var Ir=m((A6,Yh)=>{c();a();var PI=gc();function xI(e,t){for(var n=e.length;n--;)if(PI(e[n][0],t))return n;return-1}Yh.exports=xI});var Kh=m((N6,zh)=>{c();a();var NI=Ir(),OI=Array.prototype,RI=OI.splice;function LI(e){var t=this.__data__,n=NI(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():RI.call(t,n,1),--this.size,!0}zh.exports=LI});var jh=m((L6,$h)=>{c();a();var FI=Ir();function kI(e){var t=this.__data__,n=FI(t,e);return n<0?void 0:t[n][1]}$h.exports=kI});var Jh=m((M6,Xh)=>{c();a();var MI=Ir();function UI(e){return MI(this.__data__,e)>-1}Xh.exports=UI});var Zh=m((H6,Qh)=>{c();a();var BI=Ir();function HI(e,t){var n=this.__data__,r=BI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Qh.exports=HI});var wr=m((W6,em)=>{c();a();var GI=Wh(),VI=Kh(),WI=jh(),qI=Jh(),YI=Zh();function wn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wn.prototype.clear=GI;wn.prototype.delete=VI;wn.prototype.get=WI;wn.prototype.has=qI;wn.prototype.set=YI;em.exports=wn});var nm=m((z6,tm)=>{c();a();var zI=wr();function KI(){this.__data__=new zI,this.size=0}tm.exports=KI});var im=m((j6,rm)=>{c();a();function $I(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}rm.exports=$I});var sm=m((Q6,om)=>{c();a();function jI(e){return this.__data__.get(e)}om.exports=jI});var cm=m((t8,am)=>{c();a();function XI(e){return this.__data__.has(e)}am.exports=XI});var lm=m((i8,um)=>{c();a();var JI=et(),QI=JI["__core-js_shared__"];um.exports=QI});var pm=m((a8,fm)=>{c();a();var Ec=lm(),dm=function(){var e=/[^.]+$/.exec(Ec&&Ec.keys&&Ec.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ZI(e){return!!dm&&dm in e}fm.exports=ZI});var yc=m((l8,hm)=>{c();a();var ew=Function.prototype,tw=ew.toString;function nw(e){if(e!=null){try{return tw.call(e)}catch{}try{return e+""}catch{}}return""}hm.exports=nw});var gm=m((p8,mm)=>{c();a();var rw=hc(),iw=pm(),ow=uo(),sw=yc(),aw=/[\\^$.*+?()[\]{}|]/g,cw=/^\[object .+?Constructor\]$/,uw=Function.prototype,lw=Object.prototype,dw=uw.toString,fw=lw.hasOwnProperty,pw=RegExp("^"+dw.call(fw).replace(aw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hw(e){if(!ow(e)||iw(e))return!1;var t=rw(e)?pw:cw;return t.test(sw(e))}mm.exports=hw});var ym=m((g8,Em)=>{c();a();function mw(e,t){return e?.[t]}Em.exports=mw});var zt=m((T8,Tm)=>{c();a();var gw=gm(),Ew=ym();function yw(e,t){var n=Ew(e,t);return gw(n)?n:void 0}Tm.exports=yw});var fo=m((C8,Sm)=>{c();a();var Tw=zt(),Sw=et(),Dw=Tw(Sw,"Map");Sm.exports=Dw});var br=m((I8,Dm)=>{c();a();var Cw=zt(),_w=Cw(Object,"create");Dm.exports=_w});var vm=m((A8,_m)=>{c();a();var Cm=br();function vw(){this.__data__=Cm?Cm(null):{},this.size=0}_m.exports=vw});var wm=m((N8,Im)=>{c();a();function Iw(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Im.exports=Iw});var Am=m((L8,bm)=>{c();a();var ww=br(),bw="__lodash_hash_undefined__",Aw=Object.prototype,Pw=Aw.hasOwnProperty;function xw(e){var t=this.__data__;if(ww){var n=t[e];return n===bw?void 0:n}return Pw.call(t,e)?t[e]:void 0}bm.exports=xw});var xm=m((M8,Pm)=>{c();a();var Nw=br(),Ow=Object.prototype,Rw=Ow.hasOwnProperty;function Lw(e){var t=this.__data__;return Nw?t[e]!==void 0:Rw.call(t,e)}Pm.exports=Lw});var Om=m((H8,Nm)=>{c();a();var Fw=br(),kw="__lodash_hash_undefined__";function Mw(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fw&&t===void 0?kw:t,this}Nm.exports=Mw});var Lm=m((W8,Rm)=>{c();a();var Uw=vm(),Bw=wm(),Hw=Am(),Gw=xm(),Vw=Om();function bn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bn.prototype.clear=Uw;bn.prototype.delete=Bw;bn.prototype.get=Hw;bn.prototype.has=Gw;bn.prototype.set=Vw;Rm.exports=bn});var Mm=m((z8,km)=>{c();a();var Fm=Lm(),Ww=wr(),qw=fo();function Yw(){this.size=0,this.__data__={hash:new Fm,map:new(qw||Ww),string:new Fm}}km.exports=Yw});var Bm=m((j8,Um)=>{c();a();function zw(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}Um.exports=zw});var Ar=m((Q8,Hm)=>{c();a();var Kw=Bm();function $w(e,t){var n=e.__data__;return Kw(t)?n[typeof t=="string"?"string":"hash"]:n.map}Hm.exports=$w});var Vm=m((tY,Gm)=>{c();a();var jw=Ar();function Xw(e){var t=jw(this,e).delete(e);return this.size-=t?1:0,t}Gm.exports=Xw});var qm=m((iY,Wm)=>{c();a();var Jw=Ar();function Qw(e){return Jw(this,e).get(e)}Wm.exports=Qw});var zm=m((aY,Ym)=>{c();a();var Zw=Ar();function eb(e){return Zw(this,e).has(e)}Ym.exports=eb});var $m=m((lY,Km)=>{c();a();var tb=Ar();function nb(e,t){var n=tb(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}Km.exports=nb});var po=m((pY,jm)=>{c();a();var rb=Mm(),ib=Vm(),ob=qm(),sb=zm(),ab=$m();function An(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}An.prototype.clear=rb;An.prototype.delete=ib;An.prototype.get=ob;An.prototype.has=sb;An.prototype.set=ab;jm.exports=An});var Jm=m((gY,Xm)=>{c();a();var cb=wr(),ub=fo(),lb=po(),db=200;function fb(e,t){var n=this.__data__;if(n instanceof cb){var r=n.__data__;if(!ub||r.length<db-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lb(r)}return n.set(e,t),this.size=n.size,this}Xm.exports=fb});var Tc=m((TY,Qm)=>{c();a();var pb=wr(),hb=nm(),mb=im(),gb=sm(),Eb=cm(),yb=Jm();function Pn(e){var t=this.__data__=new pb(e);this.size=t.size}Pn.prototype.clear=hb;Pn.prototype.delete=mb;Pn.prototype.get=gb;Pn.prototype.has=Eb;Pn.prototype.set=yb;Qm.exports=Pn});var eg=m((CY,Zm)=>{c();a();var Tb="__lodash_hash_undefined__";function Sb(e){return this.__data__.set(e,Tb),this}Zm.exports=Sb});var ng=m((IY,tg)=>{c();a();function Db(e){return this.__data__.has(e)}tg.exports=Db});var ig=m((AY,rg)=>{c();a();var Cb=po(),_b=eg(),vb=ng();function ho(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Cb;++t<n;)this.add(e[t])}ho.prototype.add=ho.prototype.push=_b;ho.prototype.has=vb;rg.exports=ho});var sg=m((NY,og)=>{c();a();function Ib(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}og.exports=Ib});var cg=m((LY,ag)=>{c();a();function wb(e,t){return e.has(t)}ag.exports=wb});var Sc=m((MY,ug)=>{c();a();var bb=ig(),Ab=sg(),Pb=cg(),xb=1,Nb=2;function Ob(e,t,n,r,i,o){var s=n&xb,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=-1,h=!0,g=n&Nb?new bb:void 0;for(o.set(e,t),o.set(t,e);++p<u;){var S=e[p],C=t[p];if(r)var w=s?r(C,S,p,t,e,o):r(S,C,p,e,t,o);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!Ab(t,function(T,y){if(!Pb(g,y)&&(S===T||i(S,T,n,r,o)))return g.push(y)})){h=!1;break}}else if(!(S===C||i(S,C,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}ug.exports=Ob});var dg=m((HY,lg)=>{c();a();var Rb=et(),Lb=Rb.Uint8Array;lg.exports=Lb});var pg=m((WY,fg)=>{c();a();function Fb(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}fg.exports=Fb});var mg=m((zY,hg)=>{c();a();function kb(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}hg.exports=kb});var Sg=m((jY,Tg)=>{c();a();var gg=Sr(),Eg=dg(),Mb=gc(),Ub=Sc(),Bb=pg(),Hb=mg(),Gb=1,Vb=2,Wb="[object Boolean]",qb="[object Date]",Yb="[object Error]",zb="[object Map]",Kb="[object Number]",$b="[object RegExp]",jb="[object Set]",Xb="[object String]",Jb="[object Symbol]",Qb="[object ArrayBuffer]",Zb="[object DataView]",yg=gg?gg.prototype:void 0,Dc=yg?yg.valueOf:void 0;function eA(e,t,n,r,i,o,s){switch(n){case Zb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Qb:return!(e.byteLength!=t.byteLength||!o(new Eg(e),new Eg(t)));case Wb:case qb:case Kb:return Mb(+e,+t);case Yb:return e.name==t.name&&e.message==t.message;case $b:case Xb:return e==t+"";case zb:var u=Bb;case jb:var l=r&Gb;if(u||(u=Hb),e.size!=t.size&&!l)return!1;var d=s.get(e);if(d)return d==t;r|=Vb,s.set(e,t);var f=Ub(u(e),u(t),r,i,o,s);return s.delete(e),f;case Jb:if(Dc)return Dc.call(e)==Dc.call(t)}return!1}Tg.exports=eA});var Cg=m((QY,Dg)=>{c();a();function tA(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}Dg.exports=tA});var vg=m((tz,_g)=>{c();a();var nA=Cg(),rA=tt();function iA(e,t,n){var r=t(e);return rA(e)?r:nA(r,n(e))}_g.exports=iA});var wg=m((iz,Ig)=>{c();a();function oA(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}Ig.exports=oA});var Ag=m((az,bg)=>{c();a();function sA(){return[]}bg.exports=sA});var Ng=m((lz,xg)=>{c();a();var aA=wg(),cA=Ag(),uA=Object.prototype,lA=uA.propertyIsEnumerable,Pg=Object.getOwnPropertySymbols,dA=Pg?function(e){return e==null?[]:(e=Object(e),aA(Pg(e),function(t){return lA.call(e,t)}))}:cA;xg.exports=dA});var Rg=m((pz,Og)=>{c();a();var fA=vg(),pA=Ng(),hA=lo();function mA(e){return fA(e,hA,pA)}Og.exports=mA});var kg=m((gz,Fg)=>{c();a();var Lg=Rg(),gA=1,EA=Object.prototype,yA=EA.hasOwnProperty;function TA(e,t,n,r,i,o){var s=n&gA,u=Lg(e),l=u.length,d=Lg(t),f=d.length;if(l!=f&&!s)return!1;for(var p=l;p--;){var h=u[p];if(!(s?h in t:yA.call(t,h)))return!1}var g=o.get(e),S=o.get(t);if(g&&S)return g==t&&S==e;var C=!0;o.set(e,t),o.set(t,e);for(var w=s;++p<l;){h=u[p];var T=e[h],y=t[h];if(r)var v=s?r(y,T,h,t,e,o):r(T,y,h,e,t,o);if(!(v===void 0?T===y||i(T,y,n,r,o):v)){C=!1;break}w||(w=h=="constructor")}if(C&&!w){var I=e.constructor,_=t.constructor;I!=_&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof _=="function"&&_ instanceof _)&&(C=!1)}return o.delete(e),o.delete(t),C}Fg.exports=TA});var Ug=m((Tz,Mg)=>{c();a();var SA=zt(),DA=et(),CA=SA(DA,"DataView");Mg.exports=CA});var Hg=m((Cz,Bg)=>{c();a();var _A=zt(),vA=et(),IA=_A(vA,"Promise");Bg.exports=IA});var Vg=m((Iz,Gg)=>{c();a();var wA=zt(),bA=et(),AA=wA(bA,"Set");Gg.exports=AA});var qg=m((Az,Wg)=>{c();a();var PA=zt(),xA=et(),NA=PA(xA,"WeakMap");Wg.exports=NA});var Qg=m((Nz,Jg)=>{c();a();var Cc=Ug(),_c=fo(),vc=Hg(),Ic=Vg(),wc=qg(),Xg=Cn(),xn=yc(),Yg="[object Map]",OA="[object Object]",zg="[object Promise]",Kg="[object Set]",$g="[object WeakMap]",jg="[object DataView]",RA=xn(Cc),LA=xn(_c),FA=xn(vc),kA=xn(Ic),MA=xn(wc),Kt=Xg;(Cc&&Kt(new Cc(new ArrayBuffer(1)))!=jg||_c&&Kt(new _c)!=Yg||vc&&Kt(vc.resolve())!=zg||Ic&&Kt(new Ic)!=Kg||wc&&Kt(new wc)!=$g)&&(Kt=function(e){var t=Xg(e),n=t==OA?e.constructor:void 0,r=n?xn(n):"";if(r)switch(r){case RA:return jg;case LA:return Yg;case FA:return zg;case kA:return Kg;case MA:return $g}return t});Jg.exports=Kt});var sE=m((Lz,oE)=>{c();a();var bc=Tc(),UA=Sc(),BA=Sg(),HA=kg(),Zg=Qg(),eE=tt(),tE=lc(),GA=pc(),VA=1,nE="[object Arguments]",rE="[object Array]",mo="[object Object]",WA=Object.prototype,iE=WA.hasOwnProperty;function qA(e,t,n,r,i,o){var s=eE(e),u=eE(t),l=s?rE:Zg(e),d=u?rE:Zg(t);l=l==nE?mo:l,d=d==nE?mo:d;var f=l==mo,p=d==mo,h=l==d;if(h&&tE(e)){if(!tE(t))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new bc),s||GA(e)?UA(e,t,n,r,i,o):BA(e,t,l,n,r,i,o);if(!(n&VA)){var g=f&&iE.call(e,"__wrapped__"),S=p&&iE.call(t,"__wrapped__");if(g||S){var C=g?e.value():e,w=S?t.value():t;return o||(o=new bc),i(C,w,n,r,o)}}return h?(o||(o=new bc),HA(e,t,n,r,i,o)):!1}oE.exports=qA});var Ac=m((Mz,uE)=>{c();a();var YA=sE(),aE=_n();function cE(e,t,n,r,i){return e===t?!0:e==null||t==null||!aE(e)&&!aE(t)?e!==e&&t!==t:YA(e,t,n,r,cE,i)}uE.exports=cE});var dE=m((Hz,lE)=>{c();a();var zA=Tc(),KA=Ac(),$A=1,jA=2;function XA(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){u=n[i];var l=u[0],d=e[l],f=u[1];if(s&&u[2]){if(d===void 0&&!(l in e))return!1}else{var p=new zA;if(r)var h=r(d,f,l,e,t,p);if(!(h===void 0?KA(f,d,$A|jA,r,p):h))return!1}}return!0}lE.exports=XA});var Pc=m((Wz,fE)=>{c();a();var JA=uo();function QA(e){return e===e&&!JA(e)}fE.exports=QA});var hE=m((zz,pE)=>{c();a();var ZA=Pc(),eP=lo();function tP(e){for(var t=eP(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ZA(i)]}return t}pE.exports=tP});var xc=m((jz,mE)=>{c();a();function nP(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}mE.exports=nP});var EE=m((Qz,gE)=>{c();a();var rP=dE(),iP=hE(),oP=xc();function sP(e){var t=iP(e);return t.length==1&&t[0][2]?oP(t[0][0],t[0][1]):function(n){return n===e||rP(n,e,t)}}gE.exports=sP});var go=m((tK,yE)=>{c();a();var aP=Cn(),cP=_n(),uP="[object Symbol]";function lP(e){return typeof e=="symbol"||cP(e)&&aP(e)==uP}yE.exports=lP});var Eo=m((iK,TE)=>{c();a();var dP=tt(),fP=go(),pP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hP=/^\w*$/;function mP(e,t){if(dP(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||fP(e)?!0:hP.test(e)||!pP.test(e)||t!=null&&e in Object(t)}TE.exports=mP});var CE=m((aK,DE)=>{c();a();var SE=po(),gP="Expected a function";function Nc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gP);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Nc.Cache||SE),n}Nc.Cache=SE;DE.exports=Nc});var vE=m((lK,_E)=>{c();a();var EP=CE(),yP=500;function TP(e){var t=EP(e,function(r){return n.size===yP&&n.clear(),r}),n=t.cache;return t}_E.exports=TP});var wE=m((pK,IE)=>{c();a();var SP=vE(),DP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,CP=/\\(\\)?/g,_P=SP(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(DP,function(n,r,i,o){t.push(i?o.replace(CP,"$1"):r||n)}),t});IE.exports=_P});var AE=m((gK,bE)=>{c();a();function vP(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}bE.exports=vP});var LE=m((TK,RE)=>{c();a();var PE=Sr(),IP=AE(),wP=tt(),bP=go(),AP=1/0,xE=PE?PE.prototype:void 0,NE=xE?xE.toString:void 0;function OE(e){if(typeof e=="string")return e;if(wP(e))return IP(e,OE)+"";if(bP(e))return NE?NE.call(e):"";var t=e+"";return t=="0"&&1/e==-AP?"-0":t}RE.exports=OE});var kE=m((CK,FE)=>{c();a();var PP=LE();function xP(e){return e==null?"":PP(e)}FE.exports=xP});var Oc=m((IK,ME)=>{c();a();var NP=tt(),OP=Eo(),RP=wE(),LP=kE();function FP(e,t){return NP(e)?e:OP(e,t)?[e]:RP(LP(e))}ME.exports=FP});var Pr=m((AK,UE)=>{c();a();var kP=go(),MP=1/0;function UP(e){if(typeof e=="string"||kP(e))return e;var t=e+"";return t=="0"&&1/e==-MP?"-0":t}UE.exports=UP});var Rc=m((NK,BE)=>{c();a();var BP=Oc(),HP=Pr();function GP(e,t){t=BP(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[HP(t[n++])];return n&&n==r?e:void 0}BE.exports=GP});var GE=m((LK,HE)=>{c();a();var VP=Rc();function WP(e,t,n){var r=e==null?void 0:VP(e,t);return r===void 0?n:r}HE.exports=WP});var WE=m((MK,VE)=>{c();a();function qP(e,t){return e!=null&&t in Object(e)}VE.exports=qP});var YE=m((HK,qE)=>{c();a();var YP=Oc(),zP=uc(),KP=tt(),$P=dc(),jP=co(),XP=Pr();function JP(e,t,n){t=YP(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=XP(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&jP(i)&&$P(s,i)&&(KP(e)||zP(e)))}qE.exports=JP});var KE=m((WK,zE)=>{c();a();var QP=WE(),ZP=YE();function ex(e,t){return e!=null&&ZP(e,t,QP)}zE.exports=ex});var jE=m((zK,$E)=>{c();a();var tx=Ac(),nx=GE(),rx=KE(),ix=Eo(),ox=Pc(),sx=xc(),ax=Pr(),cx=1,ux=2;function lx(e,t){return ix(e)&&ox(t)?sx(ax(e),t):function(n){var r=nx(n,e);return r===void 0&&r===t?rx(n,e):tx(t,r,cx|ux)}}$E.exports=lx});var JE=m((jK,XE)=>{c();a();function dx(e){return e}XE.exports=dx});var ZE=m((QK,QE)=>{c();a();function fx(e){return function(t){return t?.[e]}}QE.exports=fx});var ty=m((t$,ey)=>{c();a();var px=Rc();function hx(e){return function(t){return px(t,e)}}ey.exports=hx});var ry=m((i$,ny)=>{c();a();var mx=ZE(),gx=ty(),Ex=Eo(),yx=Pr();function Tx(e){return Ex(e)?mx(yx(e)):gx(e)}ny.exports=Tx});var oy=m((a$,iy)=>{c();a();var Sx=EE(),Dx=jE(),Cx=JE(),_x=tt(),vx=ry();function Ix(e){return typeof e=="function"?e:e==null?Cx:typeof e=="object"?_x(e)?Dx(e[0],e[1]):Sx(e):vx(e)}iy.exports=Ix});var ay=m((l$,sy)=>{c();a();var wx=Op(),bx=Gh(),Ax=oy(),Px=tt();function xx(e,t){return function(n,r){var i=Px(n)?wx:bx,o=t?t():{};return i(n,e,Ax(r,2),o)}}sy.exports=xx});var uy=m((p$,cy)=>{c();a();var Nx=ay(),Ox=Nx(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});cy.exports=Ox});var Io=m(Mr=>{"use strict";c();a();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.CodesEnum=void 0;var iN;(function(e){e.Success="success",e.NotFound="not-found",e.BadRequest="bad-request",e.Unauthorized="unauthorized",e.Unknown="unknown"})(iN=Mr.CodesEnum||(Mr.CodesEnum={}))});var qc=m(nt=>{"use strict";c();a();Object.defineProperty(nt,"__esModule",{value:!0});nt.UnauthorizedError=nt.BadRequestError=nt.NotFoundError=nt.UnknownError=void 0;var wo=Io(),Hc=class extends Error{constructor(t,n){super(t),this.response=n,this.code=wo.CodesEnum.Unknown}};nt.UnknownError=Hc;var Gc=class extends Error{constructor(t,n){super(t),this.response=n,this.code=wo.CodesEnum.NotFound}};nt.NotFoundError=Gc;var Vc=class extends Error{constructor(t,n){super(t),this.response=n,this.code=wo.CodesEnum.BadRequest}};nt.BadRequestError=Vc;var Wc=class extends Error{constructor(t,n){super(t),this.response=n,this.code=wo.CodesEnum.Unauthorized}};nt.UnauthorizedError=Wc});var Gy=m(Ne=>{"use strict";c();a();var oN=Ne&&Ne.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Hy=Ne&&Ne.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&oN(t,e,n)},By=Ne&&Ne.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(f){try{d(r.next(f))}catch(p){s(p)}}function l(f){try{d(r.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(u,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.createHermes=void 0;var jt=qc(),Xt=Io();Hy(Io(),Ne);Hy(qc(),Ne);function sN({transport:e,defaultMeta:t}){let n={};function r(s,u){var l,d;return By(this,void 0,void 0,function*(){let f=yield e.fetch(s,{body:(l=u?.body)!==null&&l!==void 0?l:{},meta:Object.assign(Object.assign({},t??{}),(d=u?.meta)!==null&&d!==void 0?d:{})});if(!f?.meta.isSuccess)switch(f?.meta.code){case Xt.CodesEnum.BadRequest:throw new jt.BadRequestError("Invalid request",f);case Xt.CodesEnum.NotFound:throw new jt.NotFoundError("Requested resource was not found",f);case Xt.CodesEnum.Unauthorized:throw new jt.UnauthorizedError("Unauthorized to make that request",f);default:throw new jt.UnknownError("Unknown error detected",f)}return f})}function i(s,u){if(n[s])throw new Error("Listener already exists on that path");n[s]=u}function o(s,u){return By(this,void 0,void 0,function*(){let l={body:{},meta:{isSuccess:!0}},d=n[s];if(!d)return l.meta={isSuccess:!1,code:Xt.CodesEnum.NotFound},l;try{yield d(u,l)}catch(f){if(l.meta.isSuccess=!1,f instanceof jt.NotFoundError)l.meta.code=Xt.CodesEnum.NotFound;else if(f instanceof jt.BadRequestError)l.meta.code=Xt.CodesEnum.BadRequest;else if(f instanceof jt.UnauthorizedError)l.meta.code=Xt.CodesEnum.Unauthorized;else throw f}return l})}return{fetch:r,listen:i,handleFetch:o}}Ne.createHermes=sN});c();a();c();a();c();a();var Xr=class extends Error{constructor(t){super(t),this.code="unknown"}},Vn=class extends Error{constructor(t){super(t),this.code="not-found"}},Jr=class extends Error{constructor(t){super(t),this.code="bad-request"}},Qr=class extends Error{constructor(t){super(t),this.code="unauthorized"}};c();a();var zy={red:"#E06C75",green:"#98C379",yellow:"#E5C07B",blue:"#61AFEF",purple:"#C678DD",cyan:"#56B6C2",orange:"#e08d6c",lime:"#a9c379"},gN=Object.values(zy);function X(e,t){return{prefix:e,resolvers:t,handleRequest:async(n,r,i)=>{let o=n.split("/").filter(Boolean);if(!(o[0]in t))throw new Vn("No resource found");let s=t[o[0]];return typeof s=="function"?s(r,i):s.handleFetch(o.slice(1).join("/"),r)}}}var yu=(e,t)=>{if(e==="success")throw new Error("Attempted to convert success code to error");return e==="bad-request"?new Jr(t??"Bad request"):e==="not-found"?new Vn(t??"Not found"):e==="unauthorized"?new Qr(t??"Unauthorized"):new Xr(t??"Unknown error detected")};c();a();var Nt=e=>{e?.body&&console.info("Body",e.body),e?.meta&&console.info("Meta",e.meta)};async function Tu(e,t){return e.then(n=>(t({isSuccess:!0,logInfo:()=>{Nt(n)}}),n)).catch(n=>{throw t({isSuccess:!1,code:n.code,logInfo:()=>{n?.message?console.error(n.message):console.error(n)}}),n})}async function Ky(e,t){let n=eu(6),r=qr({hash:n,label:"Fetch",labelCSS:"color: #67cbff",logInfo:()=>Nt(t),path:e}),i=new Promise((o,s)=>{browser.runtime.sendMessage({path:e,request:t,hash:n,isHermes:!0},u=>{if(!u)return s(browser.runtime.lastError);if(!u.meta.isSuccess)return s(yu(u.meta.code,u.body.message));o(u)})});return Tu(i,r)}function b(e,...t){return Ky(e,{body:t[0]??{},meta:{}}).then(n=>n.body)}c();a();function ye({events:e}){let t=Object.fromEntries(e.map(s=>[s,[]]));function n(s,u){if(!e.includes(s))throw new Error(`Invalid event "${String(s)}" provided`);return Array.isArray(t[s])||(t[s]=[]),t[s]?.push(u),()=>r(s,u)}function r(s,u){if(!Array.isArray(t[s]))return;let l=t[s].indexOf(u);l>-1&&t[s].splice(l,1)}async function i(s,u){if(!Array.isArray(t[s]))return;let l=t[s];for(let d of l)await Promise.resolve(d(u)).catch(console.error)}function o(s,u){return n(s,function l(d){r(s,l),u(d)})}return{on:n,off:r,emit:i,once:o,addEventListener:n,removeEventListener:r}}c();a();c();a();c();a();c();a();c();a();c();a();c();a();c();a();var Vo=K(Qt());Lo();c();a();var $y=b("/feature-flags/get");async function Re(e){return $y.then(t=>{let n=(0,Vo.get)(Oe,"featureFlagOverrides")||{};return n[e]?n[e]:t.features[e]})}async function Su(e){let t=await Re(e);return Wo(e,t),t}function KN(e){return e in((0,Vo.get)(Oe,"featureFlagOverrides")||{})}function $N(e){let[t,n]=Pt({isLoading:!0});return Mn(()=>{Re(e).then(r=>{n({isLoading:!1,variant:r})}).catch(r=>{n({isLoading:!1,error:r})})},[]),t}async function Wo(e,t){if(!t)return;let n=await new Promise(r=>browser.storage.sync.get([e],r));n[e]=n[e]||{},(!n[e].variant||n[e].variant!==t)&&(await new Promise(r=>browser.storage.sync.set({[e]:{...n[e],variant:t}},()=>r())),de("extension_usage_ab_test_variant_assigned",{variant:t,testName:e}),de("extension_usage_ab_test_variant_assigned_new",{variant:t,testName:e}))}c();a();c();a();c();a();c();a();c();a();function Du(e){for(var t=e.length,n=0,r=0;r<t;){var i=e.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<t){var o=e.charCodeAt(r);(o&64512)===56320&&(++r,i=((i&1023)<<10)+(o&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function jy(e,t,n){for(var r=e.length,i=n,o=0;o<r;){var s=e.charCodeAt(o++);if((s&4294967168)===0){t[i++]=s;continue}else if((s&4294965248)===0)t[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<r){var u=e.charCodeAt(o);(u&64512)===56320&&(++o,s=((s&1023)<<10)+(u&1023)+65536)}(s&4294901760)===0?(t[i++]=s>>12&15|224,t[i++]=s>>6&63|128):(t[i++]=s>>18&7|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128)}t[i++]=s&63|128}}var Xy=new TextEncoder,Jy=50;function Qy(e,t,n){Xy.encodeInto(e,t.subarray(n))}function Cu(e,t,n){e.length>Jy?Qy(e,t,n):jy(e,t,n)}var QN=new TextDecoder;c();a();c();a();var Wn=function(){function e(t,n){this.type=t,this.data=n}return e}();c();a();c();a();var Zy=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_u=function(e){Zy(t,e);function t(n){var r=e.call(this,n)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(r,i),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return t}(Error);c();a();function vu(e,t,n){var r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function ei(e,t,n){var r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Iu(e,t){var n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}var eT=-1,tT=4294967296-1,nT=17179869184-1;function rT(e){var t=e.sec,n=e.nsec;if(t>=0&&n>=0&&t<=nT)if(n===0&&t<=tT){var r=new Uint8Array(4),i=new DataView(r.buffer);return i.setUint32(0,t),r}else{var o=t/4294967296,s=t&4294967295,r=new Uint8Array(8),i=new DataView(r.buffer);return i.setUint32(0,n<<2|o&3),i.setUint32(4,s),r}else{var r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,n),ei(i,4,t),r}}function iT(e){var t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function oT(e){if(e instanceof Date){var t=iT(e);return rT(t)}else return null}function sT(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:{var n=t.getUint32(0),r=0;return{sec:n,nsec:r}}case 8:{var i=t.getUint32(0),o=t.getUint32(4),n=(i&3)*4294967296+o,r=i>>>2;return{sec:n,nsec:r}}case 12:{var n=Iu(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new _u("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function aT(e){var t=sT(e);return new Date(t.sec*1e3+t.nsec/1e6)}var wu={type:eT,encode:oT,decode:aT};var bu=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(wu)}return e.prototype.register=function(t){var n=t.type,r=t.encode,i=t.decode;if(n>=0)this.encoders[n]=r,this.decoders[n]=i;else{var o=1+n;this.builtInEncoders[o]=r,this.builtInDecoders[o]=i}},e.prototype.tryToEncode=function(t,n){for(var r=0;r<this.builtInEncoders.length;r++){var i=this.builtInEncoders[r];if(i!=null){var o=i(t,n);if(o!=null){var s=-1-r;return new Wn(s,o)}}}for(var r=0;r<this.encoders.length;r++){var i=this.encoders[r];if(i!=null){var o=i(t,n);if(o!=null){var s=r;return new Wn(s,o)}}}return t instanceof Wn?t:null},e.prototype.decode=function(t,n,r){var i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(t,n,r):new Wn(n,t)},e.defaultCodec=new e,e}();c();a();function Au(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var cT=100,uT=2048,Pu=function(){function e(t){var n,r,i,o,s,u,l,d;this.extensionCodec=(n=t?.extensionCodec)!==null&&n!==void 0?n:bu.defaultCodec,this.context=t?.context,this.useBigInt64=(r=t?.useBigInt64)!==null&&r!==void 0?r:!1,this.maxDepth=(i=t?.maxDepth)!==null&&i!==void 0?i:cT,this.initialBufferSize=(o=t?.initialBufferSize)!==null&&o!==void 0?o:uT,this.sortKeys=(s=t?.sortKeys)!==null&&s!==void 0?s:!1,this.forceFloat32=(u=t?.forceFloat32)!==null&&u!==void 0?u:!1,this.ignoreUndefined=(l=t?.ignoreUndefined)!==null&&l!==void 0?l:!1,this.forceIntegerToFloat=(d=t?.forceIntegerToFloat)!==null&&d!==void 0?d:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(t,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)},e.prototype.ensureBufferSizeToWrite=function(t){var n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)},e.prototype.resizeBuffer=function(t){var n=new ArrayBuffer(t),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(t){t===!1?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)},e.prototype.encodeNumberAsFloat=function(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))},e.prototype.encodeBigInt64=function(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))},e.prototype.writeStringHeader=function(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error("Too long string: ".concat(t," bytes in UTF-8"))},e.prototype.encodeString=function(t){var n=5,r=Du(t);this.ensureBufferSizeToWrite(n+r),this.writeStringHeader(r),Cu(t,this.bytes,this.pos),this.pos+=r},e.prototype.encodeObject=function(t,n){var r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(t)))},e.prototype.encodeBinary=function(t){var n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var r=Au(t);this.writeU8a(r)},e.prototype.encodeArray=function(t,n){var r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error("Too large array: ".concat(r));for(var i=0,o=t;i<o.length;i++){var s=o[i];this.doEncode(s,n+1)}},e.prototype.countWithoutUndefined=function(t,n){for(var r=0,i=0,o=n;i<o.length;i++){var s=o[i];t[s]!==void 0&&r++}return r},e.prototype.encodeMap=function(t,n){var r=Object.keys(t);this.sortKeys&&r.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var o=0,s=r;o<s.length;o++){var u=s[o],l=t[u];this.ignoreUndefined&&l===void 0||(this.encodeString(u),this.doEncode(l,n+1))}},e.prototype.encodeExtension=function(t){var n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(t.type),this.writeU8a(t.data)},e.prototype.writeU8=function(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++},e.prototype.writeU8a=function(t){var n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n},e.prototype.writeI8=function(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++},e.prototype.writeU16=function(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2},e.prototype.writeI16=function(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2},e.prototype.writeU32=function(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4},e.prototype.writeI32=function(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4},e.prototype.writeF32=function(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4},e.prototype.writeF64=function(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8},e.prototype.writeU64=function(t){this.ensureBufferSizeToWrite(8),vu(this.view,this.pos,t),this.pos+=8},e.prototype.writeI64=function(t){this.ensureBufferSizeToWrite(8),ei(this.view,this.pos,t),this.pos+=8},e.prototype.writeBigUint64=function(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8},e.prototype.writeBigInt64=function(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8},e}();function qo(e,t){var n=new Pu(t);return n.encodeSharedRef(e)}c();a();var Ot=(x=>(x.AUDIO_SERVER_V1="audioServerV1",x.CE_HOVER_PLAYER_IGNORED_TAGS="ceHoverPlayerIgnoredTags",x.CE_HOVER_PLAYER_TOP_LEVEL_IGNORED_TAGS="ceHoverPlayerTopLevelIgnoredTags",x.CE_KEYPOINTS_EXTRACTION="ceKeypointsExtraction",x.CE_SALIENCE="ce_salience",x.CE_SPATIAL_PARSING_V3_1="spatialParsingV3_1",x.CE_SPATIAL_PARSING_V4="spatialParsingV4",x.CE_PARSING_MODE="ceParsingMode",x.CE_SUMMARIZATION="ce_summarization",x.CE_SUMMARIZATION_DOMAIN_LIST="ce_summarization_allowed_webpages",x.CVL_VARIANT_FREE="cvlVariantFree",x.CVL_VARIANT_PREMIUM="cvlVariantPremium",x.CVL_VARIANT_TRIAL="cvlVariantTrial",x.DISABLED_FEATURES="disabled_features",x.ENABLE_SPEED_INCREASE_BY_DEFAULT="ceSpeedRampEnabledByDefault",x.FARO_CLOUD="faroCloud",x.FARO_SPEECHIFY="faroSpeechify",x.GRAFANA_ANONYMOUS_TOTAL_VISIT_LOGGING="grafanaAnonymousTotalVisitLogging",x.GRAFANA_ANONYMOUS_UNIQUE_VISIT_LOGGING="grafanaAnonymousUniqueVisitLogging",x.INLINE_PARSER_IMPLEMENTATION="inlineParserImplementation",x.INTRODUCE_AI_AUTOPLAY="introduceAiAutoplay",x.LISTENING_HINTS="listeningHints",x.LISTENING_HINTS_ENABLED="listeningHintsEnabled",x.LISTENING_HISTORY_NOTIFICATION="ListeningHistoryNotification",x.NUDGE_ENABLED_SITES="nudge_enabled_sites",x.OBSERVABILITY_IGNORED_EXCEPTIONS="observabilityIgnoredExceptions",x.OBSERVABILITY_SAMPLE_RATE="observabilitySampleRate",x.OBSERVABILITY_SAMPLE_RATE_FACTOR="observabilitySampleRateFactor",x.ONE_CLICK_UPSELL_NOTIF="oneClickUpsellNotif",x.PILL_PLAYER_DISABLED_SITES="cePillPlayerDisabledSites",x.PILL_PLAYER_ENABLED_SITES="cePillPlayerEnabledSites",x.REMOVE_FREE_TRIAL_WORDS_WORDING="removeFreeTrialWordsWording",x.REMOVE_LISTENING_BAR="removeListeningBar",x.REMOVE_PREMIUM_WORD_TRIAL="removePremiumWordTrial",x.SAFARI_EXTENSION_SELECT_TEXT_DURATION="safariExtDuration",x.SETTINGS_SYNC="settingsSync",x.SHORTCUT_PROMPT_TIMER_STRATEGY="shortcutPromptTimerStrategy",x.SPEECHIFY_ENGINE_VOICES="speechifyEngineVoices",x.SPEECHIFY_ENGINE_VOICES_SAFARI="speechifyEngineVoicesSafari",x.STANDARD_PARSER_IMPLEMENTATION="standardParserImplementation",x))(Ot||{}),xu=(n=>(n.CONTROL="control",n.HYBRID="hybrid",n))(xu||{}),Nu=(n=>(n.CONTROL="control",n.REUSE_STANDARD_PARSER="reuseStandardParser",n))(Nu||{}),Ou=(n=>(n.CONTROL="control",n.DISPLAY="display",n))(Ou||{}),zo=(n=>(n.ENABLED="enabled",n.ENABLED_V2="enabled_v2",n))(zo||{}),Ru=(n=>(n.CONTROL="control",n.WITH_SUMMARIZATION="with_summarization",n))(Ru||{}),Lu=(n=>(n.CONTROL="control",n.NEW="new",n))(Lu||{}),Fu=(n=>(n.CONTROL="control",n.NOTIFICATION="notification",n))(Fu||{}),ku=(n=>(n.CONTROL="control",n.NO_WORDS_SHOWN="noWordsShown",n))(ku||{}),Mu=(n=>(n.CONTROL="control",n.TEST="test",n))(Mu||{}),Yo=(n=>(n.CONTROL="control",n.ENABLED="enabled",n))(Yo||{}),Uu=(n=>(n.CONTROL="control",n.ENABLED="enabled",n))(Uu||{});var Ko=(n=>(n.CONTROL="control",n.ENABLED="introduce-autoplay",n))(Ko||{});var lT={oneClickUpsellNotif:Object.values(Ou),audioServerV1:Object.values(zo),ce_summarization:Object.values(Ru),ceParsingMode:Object.values(xu),standardParserImplementation:Object.values(Lu),ListeningHistoryNotification:Object.values(Fu),removeFreeTrialWordsWording:Object.values(ku),removePremiumWordTrial:Object.values(Mu),inlineParserImplementation:Object.values(Nu),grafanaAnonymousTotalVisitLogging:Object.values(Yo),grafanaAnonymousUniqueVisitLogging:Object.values(Yo),listeningHints:Object.values(Uu),introduceAiAutoplay:Object.values(Ko)};c();a();c();a();c();a();c();a();var ti=new WeakMap,qn=e=>{if(!e.isConnected)return ti.delete(e),{};if(ti.has(e))return ti.get(e);let t=window.getComputedStyle(e);return ti.set(e,t),t};var Bu=new Set(["span","code"]),Hu=new Set(["td","th","tr"]),Gu=new Set(["ul","ol","li"]),Vu=new Set(["a","abbrv","span","address","time","acronym","strong","b","br","sub","sup","tt","var","em","i"]),Wu=new Set(["script","style","noscript","footer","textarea","input"]),Yn=e=>e instanceof HTMLImageElement||e instanceof HTMLVideoElement,qu=e=>e.alt!==""||e.getAttribute("aria-label")!==null,$o=e=>e instanceof Element,Yu=e=>(e.textContent?.trim()??"").length>0,zu=e=>e.parentElement?!(e.parentElement.nodeName==="body"||e.nextSibling||e.previousSibling):!0,Ku=e=>e.parentElement&&!e.parentElement.matches("div,section, article, main, body"),$u=e=>e.parentElement&&!e.parentElement.isSameNode(document.body),ju=(e,t)=>{let n=e.parentElement;if(!n)return!1;let r=n.getBoundingClientRect(),i=qn(n).display;return!(t.top<r.bottom&&t.bottom>r.top&&t.left<r.right&&t.right>r.left)&&i!=="contents"?!1:qn(e).display==="contents"?Array.from(e.children).some(u=>u.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0})):e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0})},dT=["ads","widget","slot","banner","sponsor","promo"],Xu=e=>{let t=n=>dT.some(r=>n.includes(r));return e.className&&typeof e.className=="string"&&t(e.className)||e.id&&t(e.id)},Ju=(e,t=5)=>e.width<t&&e.height<t,Qu=(e,t)=>{let n=0,r=0,i=e,o=t;return i.x+i.width<o.x?n=o.x-(i.x+i.width):o.x+o.width<i.x&&(n=i.x-(o.x+o.width)),i.y+i.height<o.y?r=o.y-(i.y+i.height):o.y+o.height<i.y&&(r=i.y-(o.y+o.height)),Math.sqrt(n*n+r*r)},jo=(e=1.5)=>(t,n)=>{let r=Math.max(0,Math.max(t.x,n.x)-Math.min(t.x+t.width,n.x+n.width)),i=Math.max(0,Math.max(t.y,n.y)-Math.min(t.y+t.height,n.y+n.height)),o=document.body.scrollWidth>document.body.scrollHeight?r:r*e,s=document.body.scrollWidth>document.body.scrollHeight?i*e:i;return o+s},Zu=e=>t=>{let n=window.innerWidth/2,r=fe(t,e),i=r.x+r.width/2;return Math.abs(n-i)},zn=e=>t=>t.map(n=>e[n].node.innerText?.replaceAll(/ {2}|\r\n|\n|\r/gm,"")).join("").length,el=e=>t=>{let n=zn(e)(t);if(n===0)return 0;let r=t.map(i=>e[i].node).reduce((i,o)=>{if(o.closest("a"))return i+(o.innerText??"").length;if(o.closest("h1, h2, h3"))return i;let s=Array.from(o.querySelectorAll("a")).map(u=>u.innerText).join("").length;return i+s},0);return Math.min(1,Math.round(r/n*100)/100)},tl=e=>t=>{let n=fe(t,e),i=t.reduce((s,u)=>{let l=e[u].node;return l.nodeType===Node.TEXT_NODE?s+(l.textContent?.trim()??""):s+(l.innerText??"")},"").split(/\s+/).length,o=n.width*n.height;return o===0?0:i/o},nl=e=>t=>{let n=t.map(i=>e[i].node);return n.reduce((i,o)=>{let s=document.createNodeIterator(o,NodeFilter.SHOW_TEXT),u=s.nextNode(),l=0,d=0;for(;u;){let f=document.createRange();f.setStart(u,0),f.setEnd(u,Math.min((u.textContent??"").length,2));let p=f.getBoundingClientRect();l+=p.height,u=s.nextNode(),d++}return d===0?i:i+l/d},0)/n.length},rl=e=>t=>{let n=new Range;n.setStartBefore(e[t[0]].node),n.setEndAfter(e[t[t.length-1]].node);let r=n.commonAncestorContainer;return r instanceof Element&&(r.closest("article, main")||r.querySelector("h1, h2"))?1:0};var fe=(e,t)=>{let n=Math.min(...e.map(s=>t[s].rect.x)),r=Math.min(...e.map(s=>t[s].rect.y)),i=Math.max(...e.map(s=>t[s].rect.x+t[s].rect.width)),o=Math.max(...e.map(s=>t[s].rect.y+t[s].rect.height));return{x:n,y:r,width:i-n,height:o-r}},il=()=>{let e=new Range,t=new Set(["table","button","a",...Gu]);return n=>{let r=window.scrollY,i=window.scrollX,o;return Yn(n)||t.has(n.tagName.toLowerCase())?o=n.getBoundingClientRect():(e.selectNodeContents(n),o=e.getBoundingClientRect()),{node:n,rect:{x:o.x+i,y:o.y+r,width:o.width,height:o.height}}}};var ol=e=>{let t=new Set(e),n=[];for(let r of e){let i=r.parentNode,o=!1;for(;i;){if(t.has(i)){o=!0;break}i=i.parentNode}o||n.push(r)}return n};var sl=(e,t)=>{document.querySelectorAll(".speechify-cluster").forEach(n=>n.remove()),e.forEach(n=>{fT(n,t)})};var fT=(e,t)=>{let n=`#${Math.floor(Math.random()*16777215).toString(16)}`,r=document.createElement("span");r.classList.add("speechify-cluster"),r.style.backgroundColor=n,r.style.opacity="0.5",r.style.position="absolute",r.style.zIndex="99999999";let i=fe(e.cluster,t);r.style.left=`${i.x}px`,r.style.top=`${i.y}px`,r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.border="4px solid black";let o=1-e.metrics.clusterCentrality,s=1-e.metrics.linkDensity,u=e.metrics.averageFontSize>=.5?e.metrics.averageFontSize:1-Math.abs(e.metrics.averageFontSize-.5)/.5;r.title=`Scores: ${e.score} metrics: ${JSON.stringify(e.metrics)}, adjusted scores: centrality ${o}, link density ${s}, font size ${u}`,document.body.appendChild(r)};c();a();var Xo=K(cl()),ul=(e,t)=>{switch(t){case"SinglePassDBScan":return ll(e);case"TwoPassDBScan":return pT(e);case"GraphBased":return[];default:return[]}},ll=e=>{let{clusters:t}=(0,Xo.default)({dataset:e,epsilon:24,minimumPoints:1,distanceFunction:(n,r)=>jo(1.5)(n.rect,r.rect)});return t},pT=e=>{let t=ll(e),n=[];return t.forEach(r=>{if(r.length>200){n.push(r);return}let i=r.map(u=>e[u]),{clusters:o}=(0,Xo.default)({dataset:i,epsilon:31,minimumPoints:1,distanceFunction:(u,l)=>hT(u,l)?32:jo(1.5)(u.rect,l.rect)}),s=o.map(u=>u.map(l=>r[l]));n.push(...s)}),n},hT=(e,t)=>Jo()||e.node.tagName==="BUTTON"?!1:!!mT(e.node,t.node).some(i=>{if(i.tagName==="HR")return!0;let o=getComputedStyle(i);if(o.borderWidth.split(" ").map(l=>parseInt(l.replace("px",""))).reduce((l,d)=>l+d,0)>0)return!0;let u=o.boxShadow;return!!(u&&u!=="none")}),mT=(e,t)=>{let n=e,r=[];for(;!n.contains(t);)r.push(n),n=n.parentElement;let i=t;for(;i!==n;)r.push(i),i=i.parentElement;let o=Array.from(n.children),s=o.findIndex(l=>l.contains(e)),u=o.findIndex(l=>l.contains(t));for(let l=Math.min(s,u)+1;l<Math.max(s,u);l++)r.push(o[l]);return r};c();a();var We=e=>t=>t.map(n=>e[n]),gT=e=>t=>We(e)(t).reduce((n,r)=>n+(r.node.innerText??"").length,0),ET=e=>{let t=e.reduce((n,r)=>n+(r.node.innerText??"").length,0);return n=>gT(e)(n)/t},yT=e=>t=>We(e)(t).flatMap(r=>{let i=document.createNodeIterator(r.node,NodeFilter.SHOW_TEXT),o=[],s=i.nextNode();for(;s&&r.node.contains(s);){if(s?.textContent?.trim()===""){s=i.nextNode();continue}let u=document.createRange();u.selectNodeContents(s);let l=document.documentElement.scrollTop,d=document.documentElement.scrollLeft,f=u.getBoundingClientRect();o.push({x:f.x+d,y:f.y+l,width:f.width,height:f.height}),s=i.nextNode()}return o}),TT=e=>t=>{let r=We(e)(t).map(s=>(s.node.innerText??"").length),{average:i,standardDeviation:o}=Qo(r);return{averageTextLengthPerNode:i,sdTextLengthPerNode:o}},Qo=e=>{let t=e.reduce((i,o)=>i+o,0)/e.length,n=e.reduce((i,o)=>i+(o-t)**2,0)/e.length,r=Math.sqrt(n);return{average:t,standardDeviation:r}},dl=e=>t=>We(e)(t).map(r=>{let i=qn(r.node).fontSize;return parseFloat(i)}),ST=e=>t=>new Set(dl(e)(t)).size,DT=e=>t=>{let n=dl(e)(t);return n.reduce((r,i)=>r+i,0)/n.length},CT=e=>t=>{let r=We(e)(t).map(i=>{let o=i.node.innerText;return o?o.split(/\s+/).length:0});return r.reduce((i,o)=>i+o,0)/r.length},_T=e=>t=>{let n=We(e)(t),r={elementCount:0,uniqueElementCount:0,linkElementCount:0,mediaElementCount:0,interactiveElementCount:0,headingCount:0,iframeElementCount:0,averageChildElementCount:0,paragraphCount:0,preformattedCount:0,formElementCount:0,tableCount:0,listCount:0,svgElementCount:0},i=new Set,o=u=>{i.has(u.tagName)||(r.uniqueElementCount++,i.add(u.tagName)),u.tagName==="A"&&r.linkElementCount++,(u.tagName==="IMG"||u.tagName==="VIDEO")&&r.mediaElementCount++,u.tagName==="IFRAME"&&r.iframeElementCount++,(u.tagName==="H1"||u.tagName==="H2")&&r.headingCount++,["INPUT","BUTTON","SELECT","TEXTAREA"].includes(u.tagName)&&r.interactiveElementCount++,["FORM","INPUT","BUTTON","SELECT","TEXTAREA","LABEL"].includes(u.tagName)&&r.formElementCount++,(u.tagName==="P"||u.tagName==="BLOCKQUOTE")&&r.paragraphCount++,(u.tagName==="PRE"||u.tagName==="CODE")&&r.preformattedCount++,u.tagName==="TABLE"&&r.tableCount++,(u.tagName==="UL"||u.tagName==="OL")&&r.listCount++,u.tagName==="SVG"&&r.svgElementCount++,r.elementCount++};return n.forEach(u=>{o(u.node)}),n.filter(u=>u.node.children.length>0).forEach(u=>{let l=document.createNodeIterator(u.node,NodeFilter.SHOW_ELEMENT),d=0,f=l.nextNode();for(;f&&u.node.contains(f);)d++,o(f),f=l.nextNode();r.averageChildElementCount+=d}),r.averageChildElementCount/=n.length,r},vT=e=>t=>{let n=new Range,r=e[t[0]].node,i=e[t[t.length-1]].node;if(!(r.isConnected&&i.isConnected))return!1;n.setStartBefore(e[t[0]].node),n.setEndAfter(e[t[t.length-1]].node);let o=n.commonAncestorContainer;return o instanceof Element?!!o.closest("main, section, aside, nav, article, header, footer, figure, summary, details"):!1},IT=e=>{let t=e;for(;t;){if(["main","section","aside","nav","article","header","footer","figure","summary","details"].includes(t.tagName.toLowerCase()))return t.tagName;t=t.parentElement}return null},wT=(e,t)=>{let n=We(t)(e),r=[],i=[];n.forEach(u=>{let l=u.rect;r.push(l.x),i.push(l.y)});let o=Qo(r).standardDeviation,s=Qo(i).standardDeviation;return o>s},bT=(e,t)=>n=>{let r=fe(n,t),i=f=>e.filter(p=>f(fe(p,t))).map(p=>fe(p,t)),o=i(f=>f.y+f.height<r.y),s=i(f=>f.y>r.y+r.height),u=i(f=>f.x+f.width<r.x),l=i(f=>f.x>r.x+r.width),d=f=>f.reduce((p,h)=>{let g=Qu(r,h);return g<p.distance?{distance:g,rect:h}:p},{distance:1/0,rect:{x:0,y:0,width:0,height:0}});return{above:d(o),below:d(s),left:d(u),right:d(l)}},AT=e=>t=>{let n=[];We(e)(t).forEach(u=>{let l=document.createNodeIterator(u.node,NodeFilter.SHOW_ELEMENT),d=l.nextNode();for(;d&&u.node.contains(d);)d.tagName==="A"&&n.push(d),d=l.nextNode()});let i=n.reduce((u,l)=>u+(l.innerText??"").length,0),o=new Set(n.map(u=>u.href)).size,s=n.filter(u=>u.href?new URL(u.href).hostname===window.location.hostname:!1).length;return{textInsideLinks:i,uniqueLinks:o,internalLinks:s}},PT=e=>t=>{let n=[];We(e)(t).forEach(u=>{let l=document.createNodeIterator(u.node,NodeFilter.SHOW_ELEMENT),d=l.nextNode();for(;d&&u.node.contains(d);)(d.tagName==="IMG"||d.tagName==="VIDEO")&&n.push(d),d=l.nextNode()});let i=n.reduce((u,l)=>{let d=l.getBoundingClientRect();return u+d.width*d.height},0),o=fe(t,e),s=o.width*o.height;return{mediaElementAreaRatio:i/s}};function xT(e){let t={positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i},n=0;switch(e.tagName){case"DIV":n+=5;break;case"TD":case"BLOCKQUOTE":n+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":n-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":n-=5;break}typeof e.className=="string"&&e.className!==""&&(t.positive.test(e.className)&&(n+=25),t.negative.test(e.className)&&(n-=25)),typeof e.id=="string"&&e.id!==""&&(t.positive.test(e.id)&&(n+=25),t.negative.test(e.id)&&(n-=25));let r=(e.textContent??"").trim();return r.length>=25&&(n+=1,n+=r.split(",").length-1,n+=Math.min(Math.floor(r.length/100),3)),n}var NT=e=>t=>{let n=We(e)(t),r=n.reduce((o,s)=>o+(s.node.innerText??"").length,0);return n.reduce((o,s)=>o+xT(s.node)*(s.node.innerText??"").length/r,0)},Zo=()=>({viewport:{width:window.innerWidth,height:window.innerHeight},pageDimensions:{width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}}),es=(e,t)=>{let n=zn(e),r=ET(e),i=DT(e),o=ST(e),s=yT(e),u=_T(e),l=vT(e),d=TT(e),f=AT(e),p=PT(e),h=CT(e),g=NT(e);return{extract:S=>({textLength:n(S),percentageOfText:r(S),bounds:fe(S,e),elements:u(S),markup:{isInsideSemanticTag:l(S),semanticTag:l(S)?IT(e[S[0]].node):null},text:{averageFontSize:i(S),uniqueFontSizes:o(S),rects:s(S),...d(S),avgWordCount:h(S)},cluster:{nearestClusterDistance:bT(t,e)(S),isHorizontalDirection:wT(S,e)},links:f(S),media:p(S),contentScore:g(S)})}};c();a();var OT=async(e,t)=>browser.runtime.sendMessage({target:"offscreen",data:{type:e,...t}}),ts=async e=>OT("ai/readability",{data:e,modelName:"gb"}).then(t=>t.result).catch(t=>(iu(t),[]));c();a();c();a();var RT=e=>Wr("nodeType",1)(e);function ni(e){return Array.from(e.children)}function ns(e){return Array.from(e.childNodes).filter(t=>t.nodeType!==Node.COMMENT_NODE)}var ri=bt((e,t)=>Array.from(t.querySelectorAll(e))),_R=bt((e,t)=>t.querySelector(e)),Kn=e=>t=>t.matches(e),rs=bt((e,t)=>t.length>=e);function is(e){let t=RT(e)?e.getBoundingClientRect():LT(e),n={left:t.left<0,right:t.right>(window.innerWidth||document.documentElement.clientWidth)};return n.left||n.right}function LT(e){let t=document.createRange();return t.selectNodeContents(e),t.getBoundingClientRect()}function rn(e){return e instanceof HTMLElement?!!(e.offsetWidth||e.offsetHeight||e.getClientRects?.().length):e instanceof Text?e.nodeType===3&&e.length>0:!0}function fl(e){return e.filter(rn)}var vR=bt((e,t)=>t===-1?e:t);var ml="select, textarea, button, label, audio, video, dialog, embed, menu, nav, noframes, noscript, object, script, style, svg, aside, footer, #footer, pre",FT=`h1, h2, h3, h4, h5, h6, p, [href], ${ml}`,ot=Wr("nodeType",1),kT=Kn(ml),MT=Hr(Kn("code"),Z(Ie("textContent"),VT)),gl=Br([kn(ot),kT,MT]),El=kn(gl),UT=e=>/[\p{L}\p{N}]/gu.test(e.textContent??""),pl=ri(`:scope > *${FT.split(", ").map(e=>`:not(${e})`).join("")}`),oi=Z(Oo(Xc(HTMLElement),Ie("innerText"),Ie("textContent")),Jc),ii=[];function si({startingNode:e=document.body,ignoreCache:t,shouldFindHeadings:n=!0,minimumTotalCharThresholdForGaussianHeuristic:r=1e3,getAllTextBlocksInitialThreshold:i=40,shouldParseShadowRoot:o=!1}={}){return ii.length&&!t||(ii=BT(e,{shouldFindHeadings:n,minimumTotalCharThresholdForGaussianHeuristic:r,getAllTextBlocksInitialThreshold:i,shouldParseShadowRoot:o}).filter(kn(is)).filter(UT)),ii}var as=e=>{for(;e.attributes.length>0;)e.removeAttributeNode(e.attributes[0]);for(let t=0;t<e.children.length;t++)as(e.children[t])};function BT(e,{shouldFindHeadings:t=!0,minimumTotalCharThresholdForGaussianHeuristic:n=1e3,getAllTextBlocksInitialThreshold:r=40,shouldParseShadowRoot:i=!1}={}){let o=hl(r,e,i),s=(l,d,f,p)=>{let h=HT(l,f,p);return d.length>h.mean+2*h.stdev};if(Z(Fn(oi),Fn(Ie("length")),zc(xo,0))(o)<n){o=hl(3,e,i);let l=o.map(oi),d,f;for(let p=3;p<l.length;p++)if(s(l,l[p],0,p)){d=p;break}for(let p=l.length-4;p>=0;p--)if(s(l,l[p+1],p+1,l.length)){f=p+1;break}(d||f)&&(o=o.slice(d||0,f))}return t?o.flatMap((l,d,f)=>[...GT(l,f[d-1],e),l]):o.flatMap(l=>[l])}function hl(e,t,n=!1){let r=h=>h.nodeType===3&&(h.nodeValue??"").trim().length>=2,i=Br([ot,Kn("p"),rn,Z(oi,rs(e))]),o=Br([Z(ns,Jt(r)),Z(oi,rs(e))]),s=Z(ni,Jt(i)),u=Z(ni,h=>h.length>2||h.length>0&&h[0].children.length>2),l=h=>Z(pl,Kc([Jt(o),Jt(s),Jt(l)]))(h),d=h=>h.matches("frame, iframe")&&!!h.contentDocument,f=h=>{if(!(!h||!(h instanceof HTMLElement))){if(d(h)&&h.contentDocument?.body)return f(h.contentDocument.body);if(h.matches("dl"))return it(h);if(h.matches("ol, ul")){let g=ni(h);return g.some(o)?it(h):g.some(s)||g.some(l)?it(h,!0):void 0}if(h.matches("tbody")){if(u(h)){if(l(h))return it(h,!0)}else if(o(h))return it(h)}return s(h)||o(h)?it(h,!0):n&&h.shadowRoot?it(h.shadowRoot,!0):Z(pl,No(El),Fn(f),jc)(h).filter(g=>!!g)}};return(f(t)??[]).filter(Boolean).filter(Hr(rn,kn(is))).filter(h=>h.textContent?.length)}function it(e,t=!1){let r=Z(o=>ot(o)?ri("p, ul, ol, li")(o):[],o=>o.length>0);return!t&&!r(e)?[e]:Z(ns,No(Hr(rn,o=>ot(o)?El(o):!0)))(e).flatMap(Oo(r,it,$c)).filter(Boolean)}function HT(e,t=0,n=e.length){let i=e.slice(t,n).reduce((s,u)=>s+u.length,0)/(n-t),o=e.slice(t,n).reduce((s,u)=>s+(u.length-i)*(u.length-i),0);return{mean:i,stdev:Math.sqrt(o)}}function GT(e,t,n){let r=[],i=ri("h1, h2, h3, h4, h5, h6, p"),o=ot(e)?Z(i,fl,Gr)(e):e,s=os(o||e),u=ss(e,!0);for(;u&&u!==t&&n.contains(u);){let l=ot(u)&&gl(u);!l&&rn(u)&&os(u)<s&&(s=os(u),r.push(u)),u=ss(u,l)}return r.reverse()}function VT(e){let t=e??"",n=(f,p)=>p.map(h=>(f.length-f.replaceAll(h,"").length)/h.length).reduce(xo,0),r=(f,p)=>Array.from(f.matchAll(p)).length,i=r(t,/(\w[\w\d]*|(['"]\w+['"])|(\d+))(\w[\w\d]*|(['"]\w+['"])|(\d+)|(\[\d+\]))?\s{0,2}((={1,3})|(!={1,2})|(&&)|(\|\|)|(<=)|(>=))\s{0,2}(\w[\w\d]*|(['"]\w+['"])|(\d+))/g),o=r(t,/[\d\w]+\(([\w\d]+,?\s*)*[\w\d]*\s*\)/g),s=n(t,["&&","||","!=","==","===",">=","<="]),u=n(t,["(",")","[","]","{","}"]),l=n(t,[";"]);return i*50+(o*20+s*10+(u+l)*8)/t.trim().length>1}var ss=(e,t)=>ot(e)&&Kn("body")(e)?null:ot(e)&&!t&&Ro(Node,"lastChild",e)?e.lastChild:Ro(Node,"previousSibling",e)?e.previousSibling:e.parentElement?ss(e.parentElement,!0):null;function os(e){return!e||!ot(e)||!e.tagName?100:Number(/^H(\d)$/i.exec(e.tagName)?.[1]??100)}c();a();c();a();Yy();function FR(e){return t=>(t.preventDefault(),e?.(t))}function kR(e){return t=>(t.stopPropagation(),e?.(t))}function MR(e){return e instanceof HTMLElement?!!(e.offsetWidth||e.offsetHeight||e.getClientRects?.().length>0):e instanceof Element?e.getClientRects?.().length>0:e.nodeType===3&&e.length>0}function UR(e){let t=e.startContainer,n=e.endContainer;if(t===n)return[t];let r=[];for(;t&&t!==n;)t=WT(t),t&&r.push(t);for(t=e.startContainer;t&&t!==e.commonAncestorContainer;)r.unshift(t),t=t.parentNode;return r}function WT(e){if(e.hasChildNodes())return e.firstChild;let t=e;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null}function cs([e,t,n]){return(e*299+t*587+n*114)/1e3}function BR(e){let t=e.startsWith("#"),n=e.startsWith("rgb("),r=e.startsWith("rgba(");if(t){let i=e.substring(1).match(e.length===7?/(\S{2})/g:/(\S)/g);if(i)return cs([parseInt(i[0],16),parseInt(i[1],16),parseInt(i[2],16)])}if(n){let i=e.match(/\d+/g);if(i)return cs([parseInt(i[0],16),parseInt(i[1],16),parseInt(i[2],16)])}if(r){let i=e.match(/\d+(\.\d+)?/g);if(i){let o=parseInt(i[0]),s=parseInt(i[1]),u=parseInt(i[2]),l=parseFloat(i[3]),d=1-l;return cs([Math.round((l*(o/255)+d)*255),Math.round((l*(s/255)+d)*255),Math.round((l*(u/255)+d)*255)])}}return 255}var HR=e=>{let t=document.createRange();return t.selectNode(e),t.getBoundingClientRect()};function GR(e){return e<160}var yl=CSS.supports("selector(:has(*))");function on(e,t){return yl?(t||document).querySelector(e):(console.warn("has selector is not supported, recommend updating browser"),null)}function VR(e,t){return yl?(t||document).querySelectorAll(e):(console.warn("has selector is not supported, recommend updating browser"),document.querySelectorAll("*:not(*)"))}var ai=[],Tl=0;window.addEventListener("scroll",()=>{Tl=new Date().getTime()});var qT=()=>new Date().getTime()<Tl+2e3;function Sl(e){let{pathname:t,href:n}=new URL(e.oldUrl),i=window.location.pathname.split("/")[1]!==t.split("/")[1];if(!(qT()&&!i))try{let o=window.location.href;ai.forEach(s=>s(n,o))}catch(o){console.error("Failed to emitUrlChanged",o)}}function Dl(e){return ai.push(e),()=>{ai=ai.filter(t=>t!==e)}}function YT(e){let t=n=>{if(e===""){let r=setInterval(()=>{document.readyState==="complete"&&(clearInterval(r),n())},100);return}if(on(e))return n();setTimeout(()=>{YT(e).then(n).catch(()=>{console.error("Failed while waiting for selector... Ignoring error and returning immediately"),n()})},50)};return new Promise(n=>t(n))}var KR=async(e,t={})=>{let{rejectOnFail:n=!1,timeout:r=100,attempts:i=10}=t,o=i,s=(u,l)=>{if(on(e))return u();setTimeout(()=>o-- >0?s(u,l):n?l():u(),r)};return new Promise((u,l)=>s(u,l))},$R=async e=>{let t=n=>{if(!on(e))return n();setTimeout(()=>t(n),300)};return new Promise(n=>t(n))};async function us(){if(!document.body)return new Promise(e=>document.addEventListener("DOMContentLoaded",()=>e()))}async function Cl(e,t){return await us(),new Promise(n=>{let r=Date.now(),i=u=>{u.disconnect(),n()},o,s=new MutationObserver((u,l)=>{for(let d of u)if(d.type==="childList"){if(t>0&&Date.now()-r>t)return;window.clearTimeout(o),o=window.setTimeout(i,e,l);break}});o=setTimeout(i,e,s),s.observe(document.body,{attributes:!0,childList:!0,subtree:!0})})}var _l=e=>{let t=Zu(e),n=zn(e),r=el(e),i=n(Array.from({length:e.length},(d,f)=>f)),o=d=>i===0?0:n(d)/i,s=rl(e),u=tl(e),l=nl(e);return{clusterCentrality:t,totalTextLength:n,linkDensity:r,percentageTextShare:o,isInsideASemanticTag:s,textDensity:u,averageFontSize:l}},ls=(e,t)=>t.find(n=>n.contains(e)),ps=[],hs=[],ms=[],ds=[],zT=e=>{if(Yn(e))return e;let t=e.parentElement;for(;t&&Ku(t)&&Vu.has(t?.tagName.toLowerCase());)t=t.parentElement;for(;t&&zu(t)&&$u(t);)t=t.parentElement;if(!t)throw new Error("disconnected node found, this should not really be possible when traversing through the dom");return Bu.has(t.nodeName.toLowerCase())&&(t=ls(t,ps)??t),t.nodeName.toLowerCase()==="li"&&(t=ls(t,ms)??t),Hu.has(t.nodeName.toLowerCase())&&(t=ls(t,hs)??t),t},KT=()=>{ps.length=0,hs.length=0,ms.length=0,ds.length=0;let e=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT),t=[];for(;e.nextNode();){let o=e.currentNode;if($o(o))Yn(o)&&qu(o)&&t.push(o),Wu.has(o.nodeName.toLowerCase())?ds.push(o):o.nodeName.toLowerCase()==="table"?hs.push(o):o.nodeName.toLowerCase()==="ul"||o.nodeName.toLowerCase()==="ol"?ms.push(o):["pre","code"].includes(o.nodeName.toLowerCase())&&ps.push(o);else{if(!Yu(o))continue;let s=zT(o);if(s.closest('*[class*="speechify"]')||!s||!$o(s)||ds.some(l=>l.contains(s)))continue;let u=s.getBoundingClientRect();if(Ju(u)||!ju(s,u)||Xu(s))continue;t.push(s)}}let n=Array.from(new Set(ol(t))),r=il();return n.map(r)},fs=()=>{let e=document.title??"",t=document.querySelector("meta[property='og:site_name']")?.getAttribute("content")??void 0,n=document.querySelector("meta[name='author']")?.getAttribute("content")??void 0,r=document.querySelector("meta[name='description']")?.getAttribute("content")??document.querySelector("meta[property='og:description']")?.getAttribute("content")??void 0,i=document.querySelector("meta[property='article:published_time']")?.getAttribute("content")??document.querySelector("meta[name='date']")?.getAttribute("content")??void 0,o=document.querySelector("meta[property='article:modified_time']")?.getAttribute("content")??void 0;return{title:e,siteName:t,author:n,description:r,createdAt:i,updatedAt:o}},Le={readableNodes:[],clusters:[]},l0=()=>{Le.readableNodes.length=0,Le.clusters.length=0},$T=(e=!1)=>(!e&&Le.readableNodes.length>0||(Le.readableNodes=KT(),Le.clusters.length=0),Le.readableNodes),jT=(e,t=!1)=>{if(!t&&Le.clusters.length>0)return Le.clusters;let n=ul(e,"TwoPassDBScan");return Le.clusters=n,Le.clusters},XT=(e,t)=>{let n=_l(t);return e.map(r=>{let i={};for(let s of Object.keys(n))i[s]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};let o=Object.entries(n).reduce((s,[u,l])=>(s[u]=l(r),i[u].min=Math.min(i[u].min,s[u]),i[u].max=Math.max(i[u].max,s[u]),s),{});return{cluster:r,metrics:o}})},pe={getAllReadableNodes:e=>$T(e),getAllClusters:(e,t)=>jT(e,t),getCriticalClustersAlgorithmic:(e,t)=>{let n=_l(e),r={};for(let l of Object.keys(n))r[l]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.map(l=>{let d=Object.entries(n).reduce((f,[p,h])=>(f[p]=h(l),r[p].min=Math.min(r[p].min,f[p]),r[p].max=Math.max(r[p].max,f[p]),f),{});return{cluster:l,metrics:d}}).map(l=>{let d=Object.entries(l.metrics).reduce((f,[p,h])=>{if(p==="totalTextLength")return f[p]=h,f;let{min:g,max:S}=r[p],C=(h-g)/(S-g);return f[p]=Number.isNaN(C)?0:C,f},{});return{...l,metrics:d}}).map(l=>{let d=l.metrics,f=1-d.linkDensity,p=1-d.clusterCentrality,h=d.averageFontSize>=.5?d.averageFontSize:1-Math.abs(d.averageFontSize-.5)/.5,g={invertedCentrality:.4,invertedLinkDensity:.3,textDensity:.2,isInsideASemanticTag:.2,percentageTextShare:.3,fontSizeScore:.1},S=g.invertedCentrality*p+g.invertedLinkDensity*f+g.textDensity*d.textDensity+g.isInsideASemanticTag*d.isInsideASemanticTag+g.percentageTextShare*d.percentageTextShare+g.fontSizeScore*h;return{...l,score:S}}).filter(l=>{if(l.metrics.isInsideASemanticTag===0&&l.metrics.totalTextLength<30)return!1;let d=fe(l.cluster,e);return!(d.width<16||d.height<16||d.width>window.innerWidth*.75||l.score<=.7)})},getCriticalClustersModel:async(e,t)=>{let n=es(e,t),r=t.map(s=>({features:n.extract(s)})),i=await ts({clusters:r,...Zo()});return i.length===0?[]:XT(t,e).filter((s,u)=>i[u].label)},getPredictionsForClusters:async(e,t)=>{let n=es(e,t),r=t.map(o=>({features:n.extract(o)})),i=await ts({clusters:r,...Zo()});return i.length===0?[]:t.map((o,s)=>({cluster:t[s],isReadable:i[s].label,probability:i[s].probability}))},getCriticalClusters:async(e,t)=>{let n=await Re("spatialParsingV4");if(n&&n==="model"){let i=await pe.getCriticalClustersModel(e,t);if(i.length>0)return i}return pe.getCriticalClustersAlgorithmic(e,t)},getIsPageReadable:async(e=!0,t=!0)=>{t&&await Cl(500,1e3);let n=pe.getAllReadableNodes(e).filter(_=>_.rect.y<10*window.innerHeight),r=await Re("spatialParsingV4");Wo("spatialParsingV4",r);let i=r&&r==="model",o=pe.getAllClusters(n,e),s=await pe.getCriticalClusters(n,o);i&&(s=s.filter(_=>!_.cluster.every(N=>n[N].node.nodeName.toLowerCase()==="table")));let u=s.reduce((_,P)=>_+P.metrics.totalTextLength,0),l=s.reduce((_,P)=>P.metrics.totalTextLength>_.metrics.totalTextLength?P:_,s[0]);if(fs().author&&l.metrics.totalTextLength/u>.5)return i?l.metrics.totalTextLength>600:!0;let d=16,f=new Map;for(let _ of s){let P=fe(_.cluster,n),N=Math.floor(P.x/d);f.has(N)||f.set(N,[]),f.get(N)?.push(_)}let{column:p}=Array.from(f.keys()).reduce((_,P)=>{let j=(f.get(P)??[]).reduce((Y,z)=>z.metrics.totalTextLength<100?Y:Y+z.metrics.totalTextLength,0);return j>_.totalTextLength?{column:P,totalTextLength:j}:_},{column:-1,totalTextLength:0}),g=(f.get(p)??[]).reduce((_,P)=>_+P.metrics.totalTextLength,0),w=s.filter(_=>fe(_.cluster,n).y<window.innerHeight*2).reduce((_,P)=>_+P.metrics.totalTextLength,0)/u>window.innerHeight/document.documentElement.scrollHeight*.75,T=g/u>.5,y=g>1500,v=p<=Math.ceil(.65*window.innerWidth/d),I=T&&y&&v;return i&&(I=T&&y&&v&&w),ou("readability_test_completed",{isReadable:String(I),isModelParsing:String(i),hasMajorTextShare:String(T),isLongEnough:String(y),isNotRightAligned:String(v),hostname:window.location.hostname,pageUrl:window.location.href,featureFlag:r??"control"}),I},getMetadata:fs,showDetectedClusters:async()=>{let e=pe.getAllReadableNodes(!0),t=pe.getAllClusters(e,!1),n=await pe.getCriticalClusters(e,t);sl(n,e)},getParsedElements:async({useHybridParsingMode:e,invalidateCache:t,shouldParseShadowRoot:n,startingNodeElement:r})=>{let i=si({ignoreCache:t,startingNode:r,shouldParseShadowRoot:n}),o=pe.getAllReadableNodes(t??!1);if(!(o.length<2e3&&e))return i;let l=pe.getAllClusters(o,t??!1),d=await pe.getPredictionsForClusters(o,l);if(d.length===0)return i;let f=i.filter(C=>o.some(w=>w.node.contains(C))),p=i.length>=5?.85:.5,h=d.filter(C=>!C.isReadable&&C.probability[0]>p).flatMap(C=>C.cluster.map(w=>o[w].node)),g=d.filter(C=>C.isReadable&&C.probability[1]>p).flatMap(C=>C.cluster.map(w=>o[w].node));return JT(f,h,g)},printDebugInformation:()=>{let e=pe.getAllReadableNodes(!0),t=pe.getAllClusters(e,!1),r={clusters:pe.getCriticalClusters(e,t),metadata:fs(),viewport:{width:window.innerWidth,height:window.innerHeight}},i=qo(r),o=Buffer.from(i.buffer,i.byteOffset,i.byteLength);console.log(o.toString("hex"))}};function JT(e,t,n){let r=e.filter(s=>!t.some(u=>u.contains(s))),i=[];for(let s of n)if(!r.some(l=>l.contains(s)||s.contains(l)))if(s.tagName==="UL"||s.tagName==="OL"){let l=Array.from(s.querySelectorAll("li"));i.push(...l)}else i.push(s);let o=[...r,...i];return QT(o)}function QT(e){return e.sort((t,n)=>{let r=t.compareDocumentPosition(n);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}var vl=pe;c();a();c();a();c();a();async function Il({source:e,analyticsSource:t=e}){de("extension_paywall_opened",{source:t,usingSDK:!0});let n=new URLSearchParams(`?extensionId=${browser.runtime.id}&source=${e}`);window.open(Gn(`onboarding/sso/?${n.toString()}`,Oe.onboardingUrl))}function v0({source:e}){let t=new URLSearchParams(`?extensionId=${browser.runtime.id}&source=${e}`);window.open(Gn(`onboarding/sso/?${t.toString()}`,Oe.onboardingUrl))}function gs(e){return e?.resource.wordsLeft>0}function ci(e){return e?.isPremium||e&&e.expiresAt>Date.now()/1e3&&!wl(e)}function wl(e){return e?.isOnTrial||e&&e.productId==="chrome.extension.trial"}function I0(e){return ci(e)||wl(e)}function w0(e){return!gs(e)&&ci(e)}async function bl(e="local"){return b("/auth/get-total-words-consumed",{storageType:e}).then(Ie("totalWordsConsumed"))}async function b0(e="local"){return b("/auth/get-words-consumed-since-last-speed-change",{storageType:e}).then(Ie("wordsConsumedSinceLastSpeedChange"))}var eS=e=>e.isAnonymous||!e.email&&!e.phoneNumber&&e.providerData.length===0;function A0(e){return e&&e.uid&&!eS(e)}c();a();c();a();function Al(e){return Math.round(e*200)}c();a();c();a();var tS="firebase",nS="11.0.2";Bn(tS,nS,"app");c();a();c();a();c();a();c();a();function ui(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Gl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Vl=Gl,Wl=new Kr("auth","Firebase",Gl());var hi=new pu("@firebase/auth");function rS(e,...t){hi.logLevel<=Uo.WARN&&hi.warn(`Auth (${jr}): ${e}`,...t)}function fi(e,...t){hi.logLevel<=Uo.ERROR&&hi.error(`Auth (${jr}): ${e}`,...t)}function Lt(e,...t){throw Us(e,...t)}function ql(e,...t){return Us(e,...t)}function Yl(e,t,n){let r=Object.assign(Object.assign({},Vl()),{[t]:n});return new Kr("auth","Firebase",r).create(t,{appName:e.name})}function pi(e){return Yl(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Us(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Wl.create(e,...t)}function R(e,t,...n){if(!e)throw Us(t,...n)}function qe(e){let t="INTERNAL ASSERTION FAILED: "+e;throw fi(t),new Error(t)}function mi(e,t){e||qe(t)}function iS(){return Pl()==="http:"||Pl()==="https:"}function Pl(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function oS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iS()||uu()||"connection"in navigator)?navigator.onLine:!0}function sS(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ss=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,mi(n>t,"Short delay should be less than long delay!"),this.isMobile=au()||lu()}get(){return oS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function aS(e,t){mi(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var gi=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var cS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var uS=new Ss(3e4,6e4);function Ye(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ze(e,t,n,r,i={}){return zl(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});let u=$r(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let d=Object.assign({method:t,headers:l},o);return cu()||(d.referrerPolicy="no-referrer"),gi.fetch()(Kl(e,e.config.apiHost,n,u),d)})}async function zl(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},cS),t);try{let i=new Ds(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw li(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let u=o.ok?s.errorMessage:s.error.message,[l,d]=u.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw li(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw li(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw li(e,"user-disabled",s);let f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Yl(e,f,d);Lt(e,f)}}catch(i){if(i instanceof ko)throw i;Lt(e,"network-request-failed",{message:String(i)})}}async function bi(e,t,n,r,i={}){let o=await ze(e,t,n,r,i);return"mfaPendingCredential"in o&&Lt(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Kl(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?aS(e.config,i):`${e.config.apiScheme}://${i}`}function lS(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ds=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ql(this.auth,"network-request-failed")),uS.get())})}};function li(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ql(e,t,r);return i.customData._tokenResponse=n,i}function xl(e){return e!==void 0&&e.enterprise!==void 0}var Cs=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return lS(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function dS(e,t){return ze(e,"GET","/v2/recaptchaConfig",Ye(e,t))}async function fS(e,t){return ze(e,"POST","/v1/accounts:delete",t)}async function $l(e,t){return ze(e,"POST","/v1/accounts:lookup",t)}function jn(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jl(e,t=!1){let n=Un(e),r=await n.getIdToken(t),i=Xl(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:jn(Es(i.auth_time)),issuedAtTime:jn(Es(i.iat)),expirationTime:jn(Es(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Es(e){return Number(e)*1e3}function Xl(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return fi("JWT malformed, contained fewer than 3 sections"),null;try{let i=su(n);return i?JSON.parse(i):(fi("Failed to decode base64 JWT payload"),null)}catch(i){return fi("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nl(e){let t=Xl(e);return R(t,"internal-error"),R(typeof t.exp<"u","internal-error"),R(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _s(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ko&&pS(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function pS({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var vs=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Jn=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Ei(e){var t;let n=e.auth,r=await e.getIdToken(),i=await _s(e,$l(n,{idToken:r}));R(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Ql(o.providerUserInfo):[],u=hS(e.providerData,s),l=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!u?.length,f=l?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jn(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function Jl(e){let t=Un(e);await Ei(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hS(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Ql(e){return e.map(t=>{var{providerId:n}=t,r=ui(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function mS(e,t){let n=await zl(e,{},async()=>{let r=$r({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=Kl(e,i,"/v1/token",`key=${o}`),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",gi.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gS(e,t){return ze(e,"POST","/v2/accounts:revokeToken",Ye(e,t))}var Xn=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){R(t.idToken,"internal-error"),R(typeof t.idToken<"u","internal-error"),R(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nl(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){R(t.length!==0,"internal-error");let n=Nl(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await mS(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(R(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(R(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return qe("not implemented")}};function Tt(e,t){R(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Qn=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=ui(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jn(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){let n=await _s(this,this.stsTokenManager.getToken(this.auth,t));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return jl(this,t)}reload(){return Jl(this)}_assign(t){this!==t&&(R(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ei(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(pi(this.auth));let t=await this.getIdToken();return await _s(this,fS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,u,l,d,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:v,emailVerified:I,isAnonymous:_,providerData:P,stsTokenManager:N}=n;R(v&&N,t,"internal-error");let j=Xn.fromJSON(this.name,N);R(typeof v=="string",t,"internal-error"),Tt(p,t.name),Tt(h,t.name),R(typeof I=="boolean",t,"internal-error"),R(typeof _=="boolean",t,"internal-error"),Tt(g,t.name),Tt(S,t.name),Tt(C,t.name),Tt(w,t.name),Tt(T,t.name),Tt(y,t.name);let Y=new e({uid:v,auth:t,email:h,emailVerified:I,displayName:p,isAnonymous:_,photoURL:S,phoneNumber:g,tenantId:C,stsTokenManager:j,createdAt:T,lastLoginAt:y});return P&&Array.isArray(P)&&(Y.providerData=P.map(z=>Object.assign({},z))),w&&(Y._redirectEventId=w),Y}static async _fromIdTokenResponse(t,n,r=!1){let i=new Xn;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Ei(o),o}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];R(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Ql(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,u=new Xn;u.updateFromIdToken(r);let l=new e({uid:i.localId,auth:t,stsTokenManager:u,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l}};var Ol=new Map;function Rt(e){mi(e instanceof Function,"Expected a class definition");let t=Ol.get(e);return t?(mi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ol.set(e,t),t)}var yi=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){let n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}};yi.type="NONE";var Is=yi;function ys(e,t,n){return`firebase:${e}:${t}:${n}`}var Ti=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ys(this.userKey,i.apiKey,o),this.fullPersistenceKey=ys("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){let t=await this.persistence._get(this.fullUserKey);return t?Qn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new e(Rt(Is),t,r);let i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||Rt(Is),s=ys(r,t.config.apiKey,t.name),u=null;for(let d of n)try{let f=await d._get(s);if(f){let p=Qn._fromJSON(t,f);d!==o&&(u=p),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new e(o,t,r):(o=l[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new e(o,t,r))}};function Rl(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ES(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CS(t))return"Blackberry";if(_S(t))return"Webos";if(yS(t))return"Safari";if((t.includes("chrome/")||TS(t))&&!t.includes("edge/"))return"Chrome";if(DS(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function ES(e=Ve()){return/firefox\//i.test(e)}function yS(e=Ve()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TS(e=Ve()){return/crios\//i.test(e)}function SS(e=Ve()){return/iemobile/i.test(e)}function DS(e=Ve()){return/android/i.test(e)}function CS(e=Ve()){return/blackberry/i.test(e)}function _S(e=Ve()){return/webos/i.test(e)}function Zl(e,t=[]){let n;switch(e){case"Browser":n=Rl(Ve());break;case"Worker":n=`${Rl(Ve())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${jr}/${r}`}var ws=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,u)=>{try{let l=t(o);s(l)}catch(l){u(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function vS(e,t={}){return ze(e,"GET","/v2/passwordPolicy",Ye(e,t))}var IS=6,bs=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:IS,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,u;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(u=l.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),l}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var As=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Si(this),this.idTokenSubscription=new Si(this),this.beforeStateQueue=new ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rt(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ti.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{let n=await $l(this,{idToken:t}),r=await Qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(tn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i?._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===u)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ei(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(tn(this.app))return Promise.reject(pi(this));let n=t?Un(t):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&R(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return tn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rt(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let t=await vS(this),n=new bs(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Kr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gS(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){let r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){let n=t&&Rt(t)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=await Ti.create(this,[Rt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Zl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;let n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&rS(`Error while retrieving App Check token: ${n.error}`),n?.token}};function ed(e){return Un(e)}var Si=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=fu(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wS(e){return td.loadJS(e)}function bS(){return td.recaptchaEnterpriseScript}var Ps=class{constructor(){this.enterprise=new xs}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},xs=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var AS="recaptcha-enterprise",nd="NO_RECAPTCHA",Ns=class{constructor(t){this.type=AS,this.auth=ed(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,u)=>{dS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{let d=new Cs(l);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(l=>{u(l)})})}function i(o,s,u){let l=window.grecaptcha;xl(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(d=>{s(d)}).catch(()=>{s(nd)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ps().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(u=>{if(!n&&xl(window.grecaptcha))i(u,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bS();l.length!==0&&(l+=u),wS(l).then(()=>{i(u,o,s)}).catch(d=>{s(d)})}}).catch(u=>{s(u)})})}};async function $n(e,t,n,r=!1,i=!1){let o=new Ns(e),s;if(i)s=nd;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}let u=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){let l=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){let l=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ll(e,t,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let u=await $n(e,t,n,n==="getOobCode");return r(e,u)}else return r(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=await $n(e,t,n,n==="getOobCode");return r(e,l)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let u=await $n(e,t,n);return r(e,u).catch(async l=>{var d;if(((d=e._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let f=await $n(e,t,n,!1,!0);return r(e,f)}return Promise.reject(l)})}else{let u=await $n(e,t,n,!1,!0);return r(e,u)}else return Promise.reject(i+" provider is not supported.")}function Ai(e,t){let n=Ho(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(du(o,t??{}))return i;Lt(i,"already-initialized")}return n.initialize({options:t})}function PS(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rt);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var Zn=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qe("not implemented")}_getIdTokenResponse(t){return qe("not implemented")}_linkToIdToken(t,n){return qe("not implemented")}_getReauthenticationResolver(t){return qe("not implemented")}};async function xS(e,t){return ze(e,"POST","/v1/accounts:signUp",t)}async function NS(e,t){return bi(e,"POST","/v1/accounts:signInWithPassword",Ye(e,t))}async function OS(e,t){return bi(e,"POST","/v1/accounts:signInWithEmailLink",Ye(e,t))}async function RS(e,t){return bi(e,"POST","/v1/accounts:signInWithEmailLink",Ye(e,t))}var er=class e extends Zn{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ll(t,n,"signInWithPassword",NS,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return OS(t,{email:this._email,oobCode:this._password});default:Lt(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ll(t,r,"signUpPassword",xS,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return RS(t,{idToken:n,email:this._email,oobCode:this._password});default:Lt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};async function Ts(e,t){return bi(e,"POST","/v1/accounts:signInWithIdp",Ye(e,t))}var LS="http://localhost",Ft=class e extends Zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Lt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=ui(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new e(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let n=this.buildRequest();return Ts(t,n)}_linkToIdToken(t,n){let r=this.buildRequest();return r.idToken=n,Ts(t,r)}_getReauthenticationResolver(t){let n=this.buildRequest();return n.autoCreate=!1,Ts(t,n)}buildRequest(){let t={requestUri:LS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$r(n)}return t}};function FS(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kS(e){let t=Zt(en(e)).link,n=t?Zt(en(t)).deep_link_id:null,r=Zt(en(e)).deep_link_id;return(r?Zt(en(r)).link:null)||r||n||t||e}var Di=class e{constructor(t){var n,r,i,o,s,u;let l=Zt(en(t)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=FS((i=l.mode)!==null&&i!==void 0?i:null);R(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=l.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){let n=kS(t);try{return new e(n)}catch{return null}}};var sn=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(t,n){return er._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){let r=Di.parseLink(n);return R(r,"argument-error"),er._fromEmailAndCode(t,r.code,r.tenantId)}};sn.PROVIDER_ID="password";sn.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Os=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var an=class extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var tr=class e extends an{constructor(){super("facebook.com")}static credential(t){return Ft._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";var nr=class e extends an{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ft._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";var rr=class e extends an{constructor(){super("github.com")}static credential(t){return Ft._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";var ir=class e extends an{constructor(){super("twitter.com")}static credential(t,n){return Ft._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";function MS(e,t){return ze(e,"POST","/v2/accounts/mfaEnrollment:start",Ye(e,t))}function US(e,t){return ze(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ye(e,t))}var Fl="__sak";function BS(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}var Ci=class e{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});let u=Array.from(s).map(async d=>d(n.origin,o)),l=await BS(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};Ci.receivers=[];function HS(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var Rs=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,l)=>{let d=HS("",20);i.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let h=p;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(h.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function kl(){return window}function rd(){return typeof kl().WorkerGlobalScope<"u"&&typeof kl().importScripts=="function"}async function GS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VS(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function WS(){return rd()?self:null}var id="firebaseLocalStorageDb",qS=1,_i="firebaseLocalStorage",od="fbase_key",kt=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pi(e,t){return e.transaction([_i],t?"readwrite":"readonly").objectStore(_i)}function YS(){let e=indexedDB.deleteDatabase(id);return new kt(e).toPromise()}function Ls(){let e=indexedDB.open(id,qS);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(_i,{keyPath:od})}catch(i){n(i)}}),e.addEventListener("success",async()=>{let r=e.result;r.objectStoreNames.contains(_i)?t(r):(r.close(),await YS(),t(await Ls()))})})}async function Ml(e,t,n){let r=Pi(e,!0).put({[od]:t,value:n});return new kt(r).toPromise()}async function zS(e,t){let n=Pi(e,!1).get(t),r=await new kt(n).toPromise();return r===void 0?null:r.value}function Ul(e,t){let n=Pi(e,!0).delete(t);return new kt(n).toPromise()}var KS=800,$S=3,Fs=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ls(),this.db)}async _withRetries(t){let n=0;for(;;)try{let r=await this._openDb();return await t(r)}catch(r){if(n++>$S)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ci._getInstance(WS()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await GS(),!this.activeServiceWorker)return;this.sender=new Rs(this.activeServiceWorker);let r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await Ls();return await Ml(t,Fl,"1"),await Ul(t,Fl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ml(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){let n=await this._withRetries(r=>zS(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ul(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(i=>{let o=Pi(i,!1).getAll();return new kt(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(t.length!==0)for(let{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(let i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;let r=this.listeners[t];if(r)for(let i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Fs.type="LOCAL";function jS(e,t){return ze(e,"POST","/v2/accounts/mfaSignIn:finalize",Ye(e,t))}var ks=class{constructor(t){this.factorId=t}_process(t,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(t,n.credential,r);case"signin":return this._finalizeSignIn(t,n.credential);default:return qe("unexpected MultiFactorSessionType")}}},vi=class{static assertionForEnrollment(t,n){return Ii._fromSecret(t,n)}static assertionForSignIn(t,n){return Ii._fromEnrollmentId(t,n)}static async generateSecret(t){var n;let r=t;R(typeof((n=r.user)===null||n===void 0?void 0:n.auth)<"u","internal-error");let i=await MS(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return wi._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}};vi.FACTOR_ID="totp";var Ii=class e extends ks{constructor(t,n,r){super("totp"),this.otp=t,this.enrollmentId=n,this.secret=r}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(t,n,r){return R(typeof this.secret<"u",t,"argument-error"),US(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(t,n){R(this.enrollmentId!==void 0&&this.otp!==void 0,t,"argument-error");let r={verificationCode:this.otp};return jS(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}},wi=class e{constructor(t,n,r,i,o,s,u){this.sessionInfo=s,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(t){return{sessionInfo:this.sessionInfo,verificationCode:t}}generateQrCodeUrl(t,n){var r;let i=!1;return(di(t)||di(n))&&(i=!0),i&&(di(t)&&(t=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),di(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${t}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function di(e){return typeof e>"u"||e?.length===0}var Bl="@firebase/auth",Hl="1.8.1";var Ms=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function XS(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sd(e){Bo(new Mo("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:u,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zl(e)},d=new As(r,i,o,l);return PS(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Bo(new Mo("auth-internal",t=>{let n=ed(t.getProvider("auth").getImmediate());return(r=>new Ms(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(Bl,Hl,XS(e)),Bn(Bl,Hl,"esm2017")}sd("WebExtension");c();a();var ad=K(Qt());var Ke="speechSynth",xi="local";var ZS=["Google","com.apple.speech","com.apple.eloquence","Grandma","Grandpa","Bells","Trinoids"],aF=ru(({audioServerUrl:e,idToken:t})=>gu(e,{headers:{ContentType:"application/json",Authorization:`Bearer ${t}`,"X-Speechify-Client":Ae()?"SafariExtension":"DesktopExtension","X-Speechify-Client-Version":browser.runtime.getManifest().version}}).then(n=>n.json()));var eD=e=>`${e.split("-")[1]||"US"}.svg`,Ni=e=>e.tabs.find(n=>n.displayName==="All").categories.flatMap(n=>n.voices.map(St)),Hs=(e,t)=>Gs(e,t);var Gs=(e,t)=>(e||={},e?.name?.startsWith("PVL:")?{...St(e),personal:!0}:t.find(r=>tD(e,r))),St=e=>({avatarImage:e.avatarImage?e.avatarImage:eD(e.language),personal:(0,ad.get)(e,"personal")||!1,premium:e.engine!==Ke,...e}),cF=async(e=2e3)=>{if(typeof window>"u"||!window.speechSynthesis)return!1;let t=new Promise(i=>setTimeout(()=>i(!1),e));if(window.speechSynthesis.getVoices().length>0)return!0;let r=new Promise(i=>{let o=()=>{window.speechSynthesis.getVoices().length>0?i(!0):i(!1),window.speechSynthesis.removeEventListener("voiceschanged",o)};window.speechSynthesis.addEventListener("voiceschanged",o),window.speechSynthesis.getVoices().length>0&&(window.speechSynthesis.removeEventListener("voiceschanged",o),i(!0))});return Promise.race([r,t])},cn=async()=>{let e=new Promise(i=>setTimeout(()=>i([]),2e3)),t=new Promise(i=>{let o=speechSynthesis.getVoices();o.length>0&&i(o),speechSynthesis.onvoiceschanged=()=>{speechSynthesis.onvoiceschanged=null,i(speechSynthesis.getVoices())}});return(await Promise.race([t,e])).filter(i=>i.voiceURI&&!ZS.find(o=>i.voiceURI.startsWith(o))).map(i=>({name:i.voiceURI,displayName:i.name,localizedDisplayName:{},labels:[],engine:Ke,gender:"notSpecified",language:i.lang}))},Bs={en:({country:e,language:t,name:n})=>`Hi, my name is ${n}. I am an ${t} voice from ${e==="Australia"?"":"the "}${e}.`,ar:({country:e,language:t,name:n})=>`Marhaba, ismy ${n}. souty bil-lougha ${t} al ${e}.`,da:({name:e})=>`Hej, jeg hedder ${e}. Jeg er en dansk stemme.`,de:({language:e,name:t})=>`Hallo, mein Name ist ${t}. Ich bin eine ${e} Stimme.`,es:({country:e,name:t})=>`Hola, Soy ${t}! Soy una voz española de ${e}.`,fr:({country:e,language:t,name:n})=>`Bonjour, je m'appelle ${n}. Je suis un voix ${t} provenant de ${e}.`,hi:({name:e,language:t})=>`नमस्ते, मेरा नाम ${e} है। मैं एक ${t} की आवाज हूं।`,te:()=>"హాయ్ నా పేరు నరేంద్ర, నేను తెలుగు వాణిని",it:({name:e})=>`Hej, jeg hedder ${e}. Jeg er en italiensk stemme.`,ja:void 0,ko:void 0,nb:({name:e})=>`Hei, jeg heter ${e}. Jeg er en svensk stemme.`,nl:({country:e,language:t,name:n})=>`Hi, mijn naam is ${n}. Ik ben een ${e} ${t} stem.`,pl:({name:e})=>`Cześć, nazywam się ${e}. Jestem polskim głosem.`,pt:({name:e})=>`Olá, meu nome é ${e}. Eu sou uma voz portuguesa.`,ru:({country:e,language:t,name:n})=>`Привет, меня зовут ${n}. Я ${e} ${t}.`,sv:({name:e})=>`Hej, jag heter ${e}. Jag är en svensk röst.`,tr:({name:e})=>`Merhaba, benim adım ${e}. Ben isveç sesim.`,zh:({country:e,language:t,name:n})=>`您好，我是 ${n}。我是 ${e} ${t} 的声音。`,uk:({country:e,name:t})=>`Привіт, мене звати ${t}. Я голос з ${e}.`,bg:({country:e,name:t})=>`Здравейте, казвам се ${t}. Аз съм от ${e}.`},cd=({language:e,...t})=>{let[n,r="US"]=e.split("-").filter(Boolean).map(u=>u.toLowerCase()),i=new Intl.DisplayNames([e],{type:"region"}),o=new Intl.DisplayNames([e],{type:"language"});return Bs[n],(Bs[n]??Bs.en)({name:t.displayName??t.name,language:o.of(n),country:i.of(r.toUpperCase())})},uF=e=>`${e?.language||""}-${e?.name||""}-${e?.engine||""}`.toLowerCase(),tD=(e,t)=>["language","name","engine"].every(r=>{let i=e[r],o=t[r];return!i||!o?!0:(r==="engine"&&(i=i===xi?Ke:i,o=o===xi?Ke:o),(i||"").toLowerCase()===(o||"").toLowerCase())});var $e=K(nn());c();a();c();a();function Vs(e){this.message=e}Vs.prototype=new Error,Vs.prototype.name="InvalidCharacterError";var ud=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Vs("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function nD(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(ud(n).replace(/(.)/g,function(r,i){var o=i.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(t)}catch{return ud(t)}}function Oi(e){this.message=e}function rD(e,t){if(typeof e!="string")throw new Oi("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(nD(e.split(".")[n]))}catch(r){throw new Oi("Invalid token specified: "+r.message)}}Oi.prototype=new Error,Oi.prototype.name="InvalidTokenError";var ld=rD;c();a();var oe=(e,{argsToKey:t=()=>"key",timeout:n}={})=>{let r=new Map,i=async(...o)=>{let s=await Promise.resolve(t(...o));if(s==null)throw new Error("Cache: argsToKey did not return a valid key: "+s);if(!r.has(s)||n&&performance.now()-r.get(s).createdAt>n){let u=e(...o).then(l=>(r.get(s)?.value===u&&r.set(s,{...r.get(s),value:l}),l));r.set(s,{value:u,createdAt:performance.now()})}return r.get(s).value};return i.invalidateCache=(...o)=>{if(o.length===0){r=new Map;return}let s=t(...o);r.delete(s)},i.setCache=({args:o,key:s,value:u})=>{s||(s=t(...o??[])),r.set(s,{value:u,createdAt:performance.now()})},i.getCacheSync=({args:o,key:s}={})=>{if(s||(s=t(...o??[])),!(r.get(s)?.value instanceof Promise))return r.get(s)?.value},i};var Ws=oe((e={})=>b("/tts/get-token",e)),qs=oe((e={})=>b("/auth/get-id-token",e)),dd=e=>{let t=ld(e),n=Date.now()/1e3;return(t.exp??Number.MAX_VALUE)<n},fd=async()=>{let{AuthorizationTokenProvider:e,AuthorizationHeaderScheme:t,Result:n,SDKError:r}=await M(),i=await Ws();return new class extends e{getToken(){return i}getValidToken(o){let s=i;dd(s)?(Ws.invalidateCache(),Ws({forceRefresh:!0}).then(u=>{i=u,o(new n.Success(u))}).catch(u=>{o(new n.Failure(new r.OtherException(u)))})):o(new n.Success(s))}get scheme(){return t.Bearer}}},pd=async()=>{let{AuthorizationTokenProvider:e,AuthorizationHeaderScheme:t,Result:n,SDKError:r}=await M(),{idToken:i}=await qs();return new class extends e{getToken(){return i}getValidToken(o){let s=i;dd(s)?(qs.invalidateCache(),qs({forceRefresh:!0}).then(({idToken:u})=>{i=u,o(new n.Success(u))}).catch(u=>{o(new n.Failure(new r.OtherException(u)))})):o(new n.Success(s))}get scheme(){return t.Bearer}}};var hd=!1,M=async()=>{let e=await import("./multiplatform-sdk-5RH3NQKF.js");if(!hd){let{SimpleDiagnosticReporter:t}=await import("./diagnostic-2OGA2A7B.js"),{SpeechifySDKDiagnostics:n}=e.default,r=new t;n.setupDiagnosticReporter(r),hd=!0}return e.default},iD=hu(Oe.firebaseOptions),oD=()=>M().then(({AudioMediaFormat:e})=>Ae()?e.MP3:e.OGG),ki=async()=>{let{AudioConfig:e,BookReadingBundlerConfig:t,BundlerFactoryConfig:n,ClassicReadingBundlerConfig:r,EmbeddedReadingBundlerConfig:i,ListeningBundlerConfig:o,ListeningBundlerOptions:s,ContentBundlerConfig:u,ContentBundlerOptions:l,ClassicReadingBundlerOptions:d,BookReadingBundlerOptions:f,EmbeddedReadingBundlerOptions:p,VoiceSpec:h,VoicePreferenceWithStaticValue:g,VoicePreferences:S}=await M(),C=await Li(),w=Ni(C),T=await md(w),{voice:y,playbackSpeed:v}=await J(),I=Gs(y,[...w]),_=I?await or(I):y.engine===Ke?new h.Local(y.displayName,y.name,""):await or(St(C.config.defaultVoice));return new n(new r(new d),new t(new f($e.ContentSortingStrategy.ExperimentalV1)),new i(new p),new o(new e(await oD()),Fi(v),T,new S(new g(_),new g(_)),new s),new u(new l))},sD=async e=>{let{WebAdapterFactory:t}=await import("./adapters-A53YKHAM.js"),n=new t(Ai(iD,{})),{AppEnvironment:r,ClientConfig:i,FirebaseDynamicLinksConfig:o,SpeechifyClientFactory:s}=await M();$e.SpeechifySDKTelemetry.enable();let u=new o(e.firebaseOptions.apiKey,e.firebaseConfig.uriPrefix,e.firebaseConfig.androidApp,e.firebaseConfig.iosApp),l=await Re("audioServerV1"),d;switch(l){case"enabled":d=new $e.ClientOptions(new $e.AudioServerConfiguration(await fd()));break;case"enabled_v2":d=new $e.ClientOptions,d.enableAudioServerV2(await pd());break;default:Et(new Error(`Unknown AUDIO_SERVER_V1_VARIANTS: ${l}`)),d=new $e.ClientOptions;break}let f=new i(Ae()?r.SAFARI_EXTENSION:r.DESKTOP_EXTENSION,browser.runtime.getManifest().version,e.paymentServer.baseUrl,e.cloudFunctions.baseUrl,e.audioServer.baseUrl,e.voiceoverServer.baseUrl,e.catalogService.baseUrl,e.firebaseOptions.projectId,u,e.speechifyWebApp.baseUrl,e.platformMLPageParsingUrl,d,"",e.booksUrl,e.diagnosticServer.baseUrl),p=new s(f,n),h=p.getClient();return{platform:n,factory:p,client:h}},Ri,aD=gt(1),cD=async()=>Ri||(Ri=await sD(Oe),Ri),sr=async()=>aD(()=>cD());requestIdleCallback(()=>{sr()});var JF=({forceRefetch:e=!1})=>b("/personal-voices/get-personal-voices",{forceRefetch:e}),Li=()=>b("/remote-config/get-voice-list");var uD=(e,t)=>e===t||e===Ke&&t===xi,lD=(e,t)=>e.displayName===t.displayName&&uD(t.engine,e.toVoiceMetadata().engine),gd=(e,t)=>t.find(n=>lD(n,e)),Fi=Al,md=async e=>{let t=await(await cn()).map(St),n=await Promise.all(t.filter(i=>!i.name.startsWith("Google")).filter(i=>!i.name.startsWith("com.apple")||!i.name.includes("synthesis")).map(i=>Ed(i))),r=await Promise.all(e.map(i=>yd(i)));return[...n,...r]},Ed=e=>M().then(({VoiceSpec:t})=>new t.Local(e.displayName,e.name,e.avatarImage)),yd=e=>M().then(async({VoiceGender:t,VoiceSpec:n})=>new n.CVLVoiceSpec(e.displayName,!0,e.engine,e.language,e.gender==="male"?t.MALE:t.FEMALE,e.avatarImage,e.labels??["premium"],new mu(e.localizedDisplayName),e.previewAudio,cd(e),e.name)),or=e=>e.engine==="speechSynth"?Ed(e):yd(e);var Te={autoScrollTemporary:!0,focusMode:!1,salience:!0,screenshotMode:{enabled:!1,helpMode:!0,takingScreenshot:!1,isDraggable:!1},isSummarizationEnabled:!1,summarizationFullscreenMode:!1,summarizationTextArr:[]},te=ye({events:["speedUpdate","update"]}),dD=oe(async()=>Ni(await Li()));async function fD(e){if(e?.engine===Ke){let t=await cn();return Hs(e,t.map(St))}return e&&Hs(e,await dD())}var Td=()=>Te,Mt=oe(async()=>b("/user-settings/get").then(async({voice:e,...t})=>({voice:await fD(e),...t})));Mt();async function J(e=!1){e&&Mt.invalidateCache();let t=await Mt();return{...Te,...t}}async function Sd(e){Te.autoScrollTemporary=e,te.emit("update",await J())}async function Tk(){Te.screenshotMode.enabled=!0,Te.screenshotMode.takingScreenshot=!1,Te.screenshotMode.takingScreenshot=!0,Te.screenshotMode.isDraggable=!0,Te.screenshotMode.visibleTabDataUrl=void 0,te.emit("update",await J())}async function Sk(){Te.screenshotMode.takingScreenshot=!1,Te.screenshotMode.isDraggable=!1,Te.screenshotMode.visibleTabDataUrl=void 0,te.emit("update",await J())}async function Dk(){Te.screenshotMode.helpMode=!1,te.emit("update",await J())}async function Ck(){Te.screenshotMode={enabled:!1,helpMode:!0,takingScreenshot:!1,isDraggable:!1},te.emit("update",await J())}async function _k(){browser.runtime.sendMessage({name:"take-screenshot"},async({visibleTabDataUrl:e})=>{Te.screenshotMode.visibleTabDataUrl=e,te.emit("update",await J())})}async function vk(e,t,n){e=Math.max(.5,Math.min(e,4.5)),e=parseFloat(e.toPrecision(3));let r=await un();return e>t&&!gs(r)&&(!ci(r)||r.status==="expired")&&!n?(b("/user-settings/set-playback-speed",{playbackSpeed:t}),Il({source:"playback_speed"})):(te.emit("speedUpdate",{playbackSpeed:e,isAutoIncrease:n}),b("/user-settings/set-playback-speed",{playbackSpeed:e}))}async function Ik(e,{isUserSelection:t}={}){return t&&de("extension_usage_voice_selected",{voice_id:e.displayName||e.name}),b("/user-settings/set-voice",{voice:e})}async function wk(e){let t=e??ln();return b("/user-settings/set-has-seen-skip-sentences",{domain:t})}async function bk(e,t){return b("/user-settings/set-highlighting",{highlighting:e,domain:t})}async function Ak(e,t){return b("/user-settings/set-auto-scroll",{autoScroll:e,domain:t})}async function Pk(e){return b("/user-settings/set-auto-speed-up",{autoSpeedUp:e})}async function xk(e){return b("/user-settings/set-has-seen-feedback-csat",{hasSeenFeedbackCsat:e})}async function Nk(e){return b("/user-settings/set-dont-show-hide-modal",{value:e})}async function Ok(e){return b("/user-settings/set-has-seen-settings-modal",{value:e})}async function Rk(e){return b("/user-settings/set-dyslexic-font",{dyslexicFont:e})}async function Lk(e){return b("/user-settings/set-font-size",{fontSize:e})}async function Fk(e){return b("/user-settings/add-reported-domain",{domain:e})}var Dd=!1;te.on("update",e=>{Dd=e.screenshotMode.enabled&&!!e.screenshotMode.textFromOcr});var ln=()=>window.location.hostname.replace(/^www\./,""),Cd=()=>window.location.host;var Wk=()=>window.location.origin==="https://drive.google.com",he=()=>window.location.origin==="https://docs.google.com"&&window.location.pathname.startsWith("/document/d");var ar=()=>{let e=window.location.href.match(/\/document\/d\/([a-zA-Z0-9-_]+)/g)?.[0];return he()&&e?`https://docs.google.com/${e}`:window.location.href},_d=()=>Dd,qk=()=>window.location.href.includes("linkedin.com"),Yk=()=>window.location.href.includes("linkedin.com")&&window.location.href.includes("/feed");var zk=()=>window.location.href.includes("facebook.com"),vd=()=>window.location.href.includes("mail.google.com"),Kk=()=>window.location.href.includes("read.amazon");var Id=()=>vd()&&!Ys()&&window.location.href.includes("inbox"),Ys=()=>vd()&&window.location.href.includes("compose"),$k=()=>window.location.href.includes("google.com/search"),jk=()=>window.location.href.includes("reddit.com"),zs=()=>window.location.hostname.includes("chat.openai.com")||window.location.hostname.includes("chatgpt.com"),Xk=()=>window.location.hostname.includes("youtube.com")||window.location.hostname.includes("youtu.be"),pD=()=>window.location.hostname.includes("claude.ai"),hD=()=>window.location.hostname.includes("gemini.google"),mD=()=>window.location.hostname.includes("perplexity.ai"),Ks=()=>window.location.hostname.includes("deepseek.com"),gD=()=>window.location.hostname.includes("grok.com"),wd=()=>window.location.hostname.includes("x.com")&&window.location.pathname.includes("i/grok"),Jo=()=>(window.location.href.includes("twitter.com")||window.location.href.includes("x.com"))&&!wd(),Jk=()=>Jo(),Qk=()=>zs()||pD()||hD()||mD()||Ks()||gD()||wd(),Zk=()=>window.location.href.includes("outlook.office.com")||window.location.href.includes("outlook.live.com"),eM=()=>/^https:\/\/outlook\.live\.com\/mail\/0\/inbox\/id\/[A-Za-z0-9%+]+$/.test(window.location.href),tM=()=>window.location.href.includes("app.speechify"),nM=()=>!!["nytimes.com","wattpad.com","msn.com"].find(e=>window.location.href.includes(e)),bd=e=>(e||document).body.querySelector('body > embed[type="application/pdf"][src="about:blank"]');var rM=async()=>{let t=(await Re("nudge_enabled_sites")??"").split(" ").find(r=>window.location.hostname.includes(r)&&window.location.pathname!=="/"),n=await vl.getIsPageReadable(!1,!1);return!!t||n},iM=(e,t,n,r="/")=>{if(!e||!t)return!1;try{let i=new URL(e),o=new URL(t),s=n?o.hostname===n:i.hostname===o.hostname,u=i.pathname===r&&o.pathname!==r;return s&&u}catch{return!1}},oM=(e,t,n,r="/")=>{if(!e||!t)return!1;try{let i=new URL(e),o=new URL(t),s=n?o.hostname===n:i.hostname===o.hostname,u=i.pathname!==r&&o.pathname===r;return s&&u}catch{return!1}},sM=(e,t)=>e+"#inbox"===t;c();a();c();a();c();a();function Mi(e){let t=Object.fromEntries(Object.entries(e).map(([i])=>[i,[]]));return{registerHook:(i,o)=>(t[i].push(o),()=>{t[i]=t[i].filter(s=>s!==o)}),triggerHooks:async(i,o)=>{for(let s of t[i])await s(o)}}}c();a();c();a();var Ut=K(Qt());c();a();var ED=e=>(t,n,r)=>{let i=r.subscribe;return r.subscribe=(s,u,l)=>{let d=s;if(u){let f=l?.equalityFn||Object.is,p=s(r.getState());d=h=>{let g=s(h);if(!f(p,g)){let S=p;u(p=g,S)}},l?.fireImmediately&&u(p,p)}return i(d)},e(t,n,r)},Ui=ED,pM=(e,t)=>(...n)=>Object.assign({},e,t(...n));c();a();var yD=(e,t)=>`${e}/${t.split("/")[1]}`,st=e=>{let t=new URL(e||window.location.href),n=t.hostname,r=t.pathname;return n==="docs.google.com"&&r&&(n=yD(n,r)),n};c();a();c();a();c();a();var TD=b("/remote-config/get");async function Ad(){return TD.then(e=>e.config)}c();a();var DD=!1,CD=({support:e="supported",isHttp:t=!1,isPdf:n=!1,isFile:r=!1})=>e==="unsupported"?[{name:"pill-player",lifecycles:["browser-action","audio-loading","introduce-ai-autoplay"],config:{defaultRoute:"/unsupported",hidePlayerPill:!0,allowCollapse:!1,noSaveToMobile:!0}},{name:"notifications",lifecycles:["init"],config:{}},{name:"player-actions",lifecycles:["init"],config:{}}]:[{name:"player-actions",lifecycles:["init"],config:{}},{name:"paragraph-player",lifecycles:["audio-loading"],config:{}},{name:"media-session",lifecycles:["audio-loading"],config:{}},{name:"hover-player",lifecycles:["init"],config:{}},{name:"pill-player",lifecycles:n?["init"]:["readable","browser-action","audio-loading","introduce-ai-autoplay"],config:{noSaveToMobile:r,isPDF:n}},{name:"sentence-player",lifecycles:["init","audio-loading"],config:{}},{name:"track-listen-history",lifecycles:["audio-loading"],config:{}},{name:"history-notification",lifecycles:["init"],config:{}},{name:"force-login",lifecycles:["init","toggle-force-login"],config:{}},{name:"notifications",lifecycles:["init"],config:{}},{name:"settings-sync",lifecycles:["init"],config:{}},{name:"shortcuts-prompt",lifecycles:["readable"]},{name:"anonymous-site-visit-logging",lifecycles:["init"],config:{}},{name:"debugger",lifecycles:DD?["init"]:[],config:{}},{name:"canvas-notification",lifecycles:["init"],config:{}},{name:"selection-player",lifecycles:["init"],config:{}},{name:"screenshot-mode",lifecycles:["init"],config:{}},{name:"standard-player",lifecycles:["init"],config:{}},{name:"http",lifecycles:t?["init"]:[],config:{}},{name:"keypoint-extraction",lifecycles:["init","onetime-keypoint-extraction"],config:{}},{name:"dyslexic-font-size",lifecycles:["init"],config:{}},{name:"settings-modal",lifecycles:["init","show-settings-modal"],config:{}},{name:"paywall-modal",lifecycles:["show-paywall-modal"],config:{}}].filter(i=>i.lifecycles.length>0),$s=({support:e="supported",isHttp:t=!1,isPdf:n=!1,isFile:r=!1})=>({features:CD({support:e,isHttp:t,isPdf:n,isFile:r}),support:e});c();a();function Hi(){return{domain:window.location.hostname,path:window.location.pathname,protocol:window.location.protocol,query:new URLSearchParams(window.location.search)}}function _D(){return(new URLSearchParams(window.location.search).get("response-content-disposition")||"").indexOf(".pdf")>-1}function js(){return window.location.pathname.indexOf(".pdf")>-1||_D()}function Xs(){return Hi().protocol==="file:"}function Js(){return Hi().protocol==="http:"}function Qs(e,t){if(typeof e=="string")switch(e){case"!isMobileBuild":case"!isMobileBuild()":return!Ae();case"isMobileBuild":case"isMobileBuild()":return Ae();default:return new RegExp(e).test(t)}return e}function Pd(e){return{check:({path:t})=>Qs(e.check,t),subdomainSensitivity:e.subdomain,config:{...e.config,features:(e.config.features??[]).map(t=>typeof t=="string"?{name:t,lifecycles:["init"],config:{}}:t.lifecycles?t:{...t,lifecycles:["init"]})}}}var vD=(e,t)=>{let n=t[e];if(n)return n;let r=e.replace("www.",""),i=t[r];if(i&&(Array.isArray(i)?i.some(l=>l.subdomainSensitivity==="ignore-www"):i.subdomainSensitivity==="ignore-www"))return i;let o=e.split(".").slice(-2).join("."),s=t[o];return s&&(Array.isArray(s)?s.some(l=>l.subdomainSensitivity==="ignore"):s.subdomainSensitivity==="ignore")?s:null},ID=(e,t)=>Array.isArray(e)?e.find(n=>xd(n,t))??null:e&&xd(e,t)?e:null,xd=(e,t)=>typeof e.check=="function"?e.check(t):Qs(e.check,t.path),wD=async e=>{let t=await Ad(),n=ID(vD(e.domain,t),e);return n?Pd(n):null},Nd=async e=>{let t=await wD(e),n=$s({isHttp:Js(),isPdf:js(),isFile:Xs()});if(t){if(t.config.support==="unsupported")return $s({isHttp:Js(),isPdf:js(),isFile:Xs(),support:"unsupported"});let i=n.features.filter(o=>!t.config.features?.some(s=>s.name===o.name));return{...t.config,features:[...i,...t.config.features??[]]}}return n};c();a();var Gi=Yr("orchestration","cyan");c();a();var Zs=K(Qt());c();a();var Pe={CONFIG:"config",FEATURE_FLAGS:"featureflags",USER:"user"};function QM(e){return e.mode==="selectors"}function ZM(e){return e.mode==="custom"}var dn=[];function Vi(e){return dn.push(e),bD(),()=>{let t=dn.indexOf(e);t!==-1&&dn.splice(t,1)}}function bD(){dn.sort((e,t)=>e.priority===void 0&&t.priority===void 0?0:e.priority===void 0?1:t.priority===void 0?-1:e.priority-t.priority)}async function AD(e,t){let n=dn.filter(i=>i.priority!==void 0),r=dn.filter(i=>i.priority===void 0);for(let i of n)try{await i.fn(e,t)}catch(o){console.error(`Error running middleware for feature ${e}. Action: ${t}`,o)}await Promise.all(r.map(i=>i.fn(e,t).catch(o=>{console.error(`Error running middleware for feature ${e}. Action: ${t}`,o)})))}function Od(e,t,n,r,i){let o=r(),s=o?.[e]||{config:{},lifecycles:[],status:"active"},u={...s.config};(0,Zs.set)(u,t,n);let l={...o??{},[e]:{...s,config:u}};i(l),b("/orchestration/set-layer-config",{layer:Pe.USER,config:l,domain:st()})}async function ea(e,t,n,r){let i=n();i[e]?(r({...i,[e]:{...i[e],status:t}}),await AD(e,"setStatus")):r({...i,[e]:{status:t,config:{},lifecycles:[]}})}c();a();var Rd={"hover-player":["ceHoverPlayerIgnoredTags","ceHoverPlayerTopLevelIgnoredTags"],"individual-posts-player":["introduceAiAutoplay"],"pill-player":["cePillPlayerEnabledSites","cePillPlayerDisabledSites"],"keypoint-extraction":["ceKeypointsExtraction"],"anonymous-site-visit-logging":["grafanaAnonymousTotalVisitLogging","grafanaAnonymousUniqueVisitLogging"],"shortcuts-prompt":["shortcutPromptTimerStrategy"],"standard-player":["ceParsingMode"]};c();a();var PD={},Ld=PD;var ta=yt(Ui(()=>({}))),xD={"pill-player":async()=>{let e=await Nd(Hi()),n=e.features?.find(i=>i.name==="embedded-player")?.lifecycles?.length,r=e.features?.find(i=>i.name==="pill-player");if(n&&r)return(r.lifecycles||[]).filter(i=>!["init","readable"].includes(i))}};async function PU(){let e=(await Re("disabled_features"))?.split(" ")||[],t={};for(let r of Object.values(At)){let i=Rd[r]||[],o=await Promise.all(i.map(async d=>{let f=await Su(d);return[d,f||""]})),s=Object.fromEntries(o),u=xD[r],l=u?await u(s):void 0;t[r]={config:s,lifecycles:l},e.includes(r)&&(t[r].status="inactive")}Gi.debug("Initializing feature flag store with state",t),ta.setState(t,!0);let n=Object.values(Ld).map(Vi);return()=>{ta.setState({},!0),n.forEach(r=>r())}}function Fd(){return ta.getState()}c();a();var ND={},kd=ND;var je=yt(Ui(()=>({})));async function cr(){let e=await b("/orchestration/get-layer-config",{layer:Pe.USER,domain:st()}),t=(0,Ut.isEmpty)(e)?{}:e;Gi.debug("Initializing user store with state",t),je.setState(t,!0)}async function JU(){await cr();let e=Object.values(kd).map(Vi),t=je.subscribe(async()=>{});return()=>{t(),e.forEach(n=>n()),je.setState({})}}var OD=()=>{document.hidden||cr()};document.addEventListener("visibilitychange",OD);async function RD(e,t){await ea(e,t,je.getState,je.setState)}function Wi(){return je.getState()}var ur={playButtons:{getForUrl:async(e,t,n)=>{let r=await b("/orchestration/get-layer-config",{layer:Pe.USER,domain:st(e)});return(0,Ut.get)(r,[t,"config","playButtons",n],{})},setForUrl:async(e,t,n,r,i)=>{let o=await b("/orchestration/get-layer-config",{layer:Pe.USER,domain:st(e)}),s=(0,Ut.set)(o,[t,"config","playButtons",n,r],i);return await b("/orchestration/set-layer-config",{domain:st(e),layer:Pe.USER,config:s}),s[t].config.playButtons[n]},getDefaultValue:(e,t)=>{if(t==="autoplayResponses"){let r=Fd()["individual-posts-player"]?.config?.introduceAiAutoplay==="introduce-autoplay",i=Object.values(Qc).includes(e);return r&&i?void 0:!0}return!0},get:(e,t,n)=>{let r=ur.playButtons.getDefaultValue(t,n);return(0,Ut.get)(je.getState(),[e,"config","playButtons",t,n],r)},set:(e,t,n,r)=>{Od(e,["playButtons",t,n],r,je.getState,je.setState)}},toggleFeature:(e,t)=>{RD(e,t?"active":"inactive")},async toggleFeatureOnDomain(e,t,n){let r=st(),i=Wi(),o=n||r,s=await b("/orchestration/get-all-config-for-layer",{layer:Pe.USER});await b("/orchestration/set-layer-config",{layer:Pe.USER,config:{...s[o],[e]:{...i[e],...s[o]?.[e],status:t?"active":"inactive"}},domain:o}),await cr()},async toggleFeatureGlobally(e,t){let r=(await b("/orchestration/get-all-config-for-layer",{layer:Pe.USER}))["*"]??{};await b("/orchestration/set-layer-config",{layer:Pe.USER,config:{...r,[e]:{...r[e],status:t?"active":"inactive"}},domain:"*"}),await cr()},async forceManageInitPillPlayer(e,t){let n=Wi()["pill-player"]?.lifecycles||[],r=e&&!n.includes("init")?[...n,"init"]:e?n:n.filter(i=>i!=="init");await b("/orchestration/set-layer-config",{layer:Pe.USER,config:{...Wi(),"pill-player":{...Wi()["pill-player"],status:e?"active":"inactive",lifecycles:r}},domain:t||st()}),await cr()}},QU={useConfig:()=>je(e=>e)};c();a();var Bt=async e=>new Promise(t=>setTimeout(t,e));var nB=async(e,t=50,n=1e4)=>{let r=0;for(;await e()&&(await Bt(t),r+=t,!(r>n)););};var _t=K(nn());c();a();c();a();var Dt,qi,uB=e=>{qi=e==="dark"?"lighten":"multiply",Dt||Ud(),Dt&&(Dt.style.mixBlendMode=qi)},Ud=()=>{Dt=document.createElement("div");let e=he()?document.querySelector(".kix-rotatingtilemanager")??document.body:document.body,t=Ks()?LD():e.scrollHeight,n=e.getBoundingClientRect(),r=e===document.body?0:n.top-e.scrollTop,i=e===document.body?0:n.left;Dt.setAttribute("style",`position: absolute; height: ${t}px; width: 100%; top: ${-r}px; left: ${-i}px; pointer-events: none; mix-blend-mode: ${qi}; z-index: 2147483641;`),e.append(Dt)},LD=()=>{let n=window.getComputedStyle(document.body).getPropertyValue("--app-height").trim();if(n==="")return 1200;let r=parseFloat(n);return isNaN(r)?1200:r},we=e=>(e&&e.vertices)??!1,na=(e,t)=>e.slice(0,t).reduce((n,r)=>r.text.length+n,0),Md=e=>{let[t,n,r,i]=e;return[t.x-4,t.y-2,r.x-(t.x-4),r.y+2-t.y]},Bd={condition:e=>!!e.sentenceOverlayRanges.find(t=>we(t.ref.value.ref)),highlight:e=>{Dt||Ud();let t=e.sentenceOverlayRanges,n=e.wordOverlayRanges,r=t.find(f=>!!f.startIndex||!!f.endIndex),i=n.find(f=>!!f.startIndex||!!f.endIndex);if(!r||!i)return ee(null);let o=r.ref.value.ref,s=o.children?.find((f,p)=>na(o.children??[],p)>=i.startIndex),u=o.children?.filter((f,p)=>na(o.children??[],p)<=r.endIndex&&na(o.children??[],Math.max(p-1,0))>=r.startIndex);if(!u||!s)return ee(null);let l=u.reduce((f,p,h)=>(f.find(g=>Math.abs(g.vertices[2].y-p.vertices[2].y)<=6)||(h!==0&&f.push(u[h-1]),f.push(p)),h===u.length-1&&f.push(p),f),[]),d=[];for(let f=0;f<l.length;f+=2){let p=[l[f].vertices[0],l[f+1].vertices[1],l[f+1].vertices[2],l[f].vertices[3]];d.push(p)}return ae({rawSentencesVec:d.map(Md),rawWordsVec:Md(s.vertices),element:Dt,elementColor:qi==="lighten"?"#ffffff":"#000000"})}};c();a();var ra=class extends CustomEvent{constructor(t){super("speechify:interrupt",{detail:{...t},bubbles:!0,cancelable:!0})}};var Hd=e=>{window.dispatchEvent(new ra(e))};var ia=()=>{let e=new AbortController,t=n=>{e.signal.aborted||e.abort(n.detail)};return e.signal.addEventListener("abort",()=>{window.removeEventListener("speechify:interrupt",t)},{once:!0}),window.addEventListener("speechify:interrupt",t,{once:!0}),e};var FD=async(e,t,n,r)=>{let{TextWithRef:i}=await M();return n.Chunk(e.map(o=>{let s=t(o,r);return s.text.trim()===""?null:n.ParagraphParts([new i(s.text,s.ref)])}).filter(o=>o!==null))},kD=async e=>{let{DynamicContentProviderForMutableLimitedLifeContent:t}=await M();return new class extends t{invalidateCache;abortController;chunkIndex;constructor(){super(),this.invalidateCache=!1,this.chunkIndex=null,this.abortController=ia(),this.abortController.signal.addEventListener("abort",r=>{this.chunkIndex=r.target.reason.chunk??null})}async getContent(r,i,o,s){s.onAborted(()=>this.abortController.abort()),r.coordinates?.chunkIndex===this.chunkIndex&&(this.chunkIndex=null,this.abortController=ia(),this.abortController.signal.addEventListener("abort",d=>{this.chunkIndex=d.target.reason.chunk??null}));let l=await(async()=>{let d=r.coordinates?.chunkIndex??0,f=e.getState().currentContent;if(!f)return console.warn("Content not found in playback state, this is self healing "),{chunks:o.Chunk([]),chunksAfter:0,chunksBefore:0};let p=await f.getContent({index:d,invalidateCache:this.invalidateCache,abortSignal:this.abortController.signal});return{chunks:await FD(p.content,f.converter,o,d),chunksAfter:p.chunksAfter,chunksBefore:p.chunksBefore}})();this.invalidateCache&&(this.invalidateCache=!1),r.coordinates&&l?.chunksAfter===0&&l.chunksBefore!==0?i.EarlyLastChunk(r.coordinates.chunkIndex,l.chunks):l&&l.chunksAfter<0?i.MatchingChunk(l.chunks):i.MatchingChunkWithEstimate(l?.chunksBefore,l?.chunksAfter,l?.chunks??o)}isAlive(r){let i=r.value.ref;return!i||we(i)?!0:(i.isConnected===!1&&(this.invalidateCache=!0),i.isConnected)}get doesPullingContentCauseEffectOnUser(){return e.getState().currentContent?.options?.sideEffects??!1}destroy(){}}},Gd=async e=>{let{DynamicStandardView:t}=await M(),n=await kD(e);return t.forMutableLimitedLifeContent(n,0)};c();a();var oa=class extends Error{constructor(n,r,i){super(r);this.originalError=i;this.name=n,this.cause=i}name;cause},Yi=class extends oa{};c();a();c();a();c();a();c();a();async function Vd(e){let{pillPlayer:t}=await J();return(t?.domainFeatures?.[ln()]||{})[e]}async function lr(e){return await Vd(e)===!1}async function dr(e){return await Vd(e)===!0}c();a();c();a();c();a();c();a();function sa(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}var Wd=e=>{if(e.sentenceOverlayRanges.length===0)return null;let n=e.sentenceOverlayRanges[0].ref.value.ref;return we(n)?null:n.nodeType===Node.ELEMENT_NODE?n:n.parentElement};var aa=(e,t=0)=>{let n=e.previousSibling;return n?(n.textContent??"").length+aa(n,t):t};var qd=e=>({top:e.y,left:e.x,width:e.width,height:e.height}),Yd=e=>"rawSentencesVec"in e;function zd(e){let t=e instanceof HTMLElement?e:e.parentElement;return window.getComputedStyle(t).color}c();a();var ua=K($d());var la=e=>[e[0],e[0]+e[2]],ca=e=>[e[1],e[1]+e[3]],UD=bt((e,t)=>Math.max(e[0],t[0])<Math.min(e[1],t[1])),jd=e=>({x:e.x,y:e.y,width:e.width,height:e.height}),Xe=e=>[e.x,e.y,e.width,e.height],Xd=e=>({x:e[0],y:e[1],width:e[2],height:e[3]}),Jd=(e,t)=>n=>({x:Math.max(n.x-e,0),y:n.y,width:n.width+e*2,height:n.height*t}),Qd=e=>{let t=Z(Gr,Xe,ca)(e),n=e.filter(Z(Xe,ca,UD(t)));return{x:e[0].x,y:e[0].y,width:Math.max(...n.map(Z(Xe,la,ua.default)))-e[0].x,height:Math.max(...n.map(Z(Xe,ca,ua.default)))-e[0].y}},zi=(e,t)=>[Math.max(t[0]-e[0],0),Math.max(t[1]-e[1],0),Math.min(t[2],e[2]),Math.min(t[3],e[3])];"CSS"in globalThis&&"paintWorklet"in globalThis.CSS&&CSS.paintWorklet.addModule(browser.runtime.getURL("/houdini.js"));var BD=!("CSS"in globalThis&&"paintWorklet"in globalThis.CSS),Ki=2,HD=1.1,da=re.hgltSec,fa=re.hgltPrim;function ma(e,t){let n=`--${e}ElemColor`,r=`--${e}ElemMatrix`,i=`--${e}HighlightWordInfo`,o=`--${e}HighlightWordClipInfo`,s=`--${e}HighlightSentenceInfo`,u=`--${e}SentenceHighlightColorDark`,l=`--${e}SentenceHighlightColorLight`,d=`--${e}WordHighlightColorDark`,f=`--${e}WordHighlightColorLight`,p=0,h=new Map,g=qD();function S(D){let L={scaleX:1,scaleY:1,skewX:0,skewY:0,translateX:0,translateY:0};if(!g)return L;for(;D;){let O=window.getComputedStyle(D),k=O.transform||O.webkitTransform;if(k&&k!=="none"){let V=k.match(/^matrix\((.+)\)$/);if(V){let F=V[1].split(", ").map(parseFloat);if(F.length===6){let G=F[0],le=F[3],Ee=Math.atan(F[1]),se=Math.atan(F[2]),x=F[4],_e=F[5];return{scaleX:G,scaleY:le,skewX:Ee,skewY:se,translateX:x,translateY:_e}}}}D=D.parentElement}return L}function C(D){let L=h.get(D);if(L){let{ctx:k,id:V}=L;return k.clearRect(0,0,D.scrollWidth,D.scrollHeight),{ctx:k,id:V}}return L={ctx:document.getCSSCanvasContext("2d",`${e}-highlighting-${p}`,D.scrollWidth,D.scrollHeight),id:`${e}-highlighting-${p}`},h.set(D,L),p++,L}function w(D){D.style.removeProperty(n),D.style.removeProperty(i),D.style.removeProperty(o),D.style.removeProperty(s),D.style.removeProperty(u),D.style.removeProperty(l),D.style.removeProperty(d),D.style.removeProperty(f),D.style.removeProperty(r);let O=D.style.getPropertyValue("background-image").split(",").filter(k=>!k.includes(e)).join(",");O===""?D.style.removeProperty("background-image"):D.style.setProperty("background-image",O),D.removeAttribute(`data-${e}-highlight`),D.removeAttribute(`data-${e}-no-background`)}async function T(D,{elemColor:L,elemMatrix:O,sentencePositions:k,wordPositions:V,wordClipPositions:F,highlightColor:G,sentenceOnly:le,isKeypoint:Ee}){async function se(){let{ctx:_e,id:Ge}=C(D);D.style.setProperty("background-image",`-webkit-canvas(${Ge})`);let{paint:ht}=await import("./houdini-4H36P75U.js"),be=Ee?da:G.sentence,ve=Ee?fa:G.word;le?ht(_e,{elemColor:L,elemMatrix:O,sentencePositions:k,sentenceColor:be,wordColor:ve}):ht(_e,{elemColor:L,elemMatrix:O,wordPositions:V,wordClipPositions:F,sentencePositions:k,sentenceColor:be,wordColor:ve})}function x(){if(D.style.getPropertyValue("transform"))D.style.removeProperty("transform");else{let _e=getComputedStyle(D).transform;D.style.setProperty("transform",_e==="none"?"translateZ(0)":_e)}}await se(),x()}function y(D,{elemColor:L,elemMatrix:O,sentencePositions:k,wordPositions:V,wordClipPositions:F,highlightColor:G,sentenceOnly:le,unsetColor:Ee,isKeypoint:se}){Ee&&(D.style.color="unset"),D.style.setProperty(n,L??null),D.style.setProperty(s,k?.join(",")??null);let x=D.style.getPropertyValue("background-image");if(x!==""){let _e=x.split(",").filter(Ge=>!Ge.includes(e)).join(",");D.style.setProperty("background-image",`${_e}, paint(${e})`)}else D.style.setProperty("background-image",`paint(${e})`);se?(D.style.setProperty(u,da),D.style.setProperty(l,da),D.style.setProperty(d,fa),D.style.setProperty(f,fa)):(D.style.setProperty(u,G.sentence.dark),D.style.setProperty(l,G.sentence.light),D.style.setProperty(d,G.word.dark),D.style.setProperty(f,G.word.light)),O&&D.style.setProperty(r,v(O)),le?(D.style.removeProperty(i),D.style.removeProperty(o)):(D.style.setProperty(i,V?.join(",")??null),D.style.setProperty(o,F?.join(",")??null))}function v(D){let{scaleX:L,scaleY:O,skewX:k,skewY:V,translateX:F,translateY:G}=D,le=Math.tan(k),Ee=Math.tan(V);return`${L},${O},${le},${Ee},${F},${G}`}async function I(D,{wordPositions:L,wordClipPositions:O,sentencePositions:k,elemColor:V,elemMatrix:F,unsetColor:G,isKeypoint:le}={},Ee=t){let se={...t,...Ee},{keepBackgrounds:x}=se;BD?await T(D,{wordPositions:L,wordClipPositions:O,sentencePositions:k,elemColor:V,elemMatrix:F,isKeypoint:le,...se}):y(D,{wordPositions:L,wordClipPositions:O,sentencePositions:k,elemColor:V,elemMatrix:F,unsetColor:G,isKeypoint:le,...se}),D.setAttribute(`data-${e}-highlight`,"true"),x||D.setAttribute(`data-${e}-no-background`,"true")}let _=D=>{let L=Array.from(D?.querySelectorAll(`[data-${e}-highlight="true"], [data-${e}-no-background="true"], [style*="${s}"]`)??[]).filter(O=>O instanceof HTMLElement);for(let O of L)w(O)};async function P(D=null){let L=D??document.body,O=Array.from(L.querySelectorAll(`[data-${e}-highlight="true"], [data-${e}-no-background="true"], [style*="${s}"]`)).filter(k=>k instanceof HTMLElement);_(document.body);for(let k of O)w(k)}function N(D,L,O,k,V=t){let F=ha(D,O[0],O[1]),G=ha(D,k[0],k[1]);return Y(L,F,G,{...t,...V})}let j=performance.now();function Y(D,L,O,k=t){let{sentenceOnly:V,keepBackgrounds:F,highlightColor:G,rectOnly:le,...Ee}={...t,...k},se=Zd(O,Ki);if(!V&&(se.length===0||se[0].width===0))return;let x=se[0],_e=Xe(x??{x:0,y:0,width:0,height:0}),Ge=Zd(L,Ki,!0),ht=Ge.map(Xe),be=Qd(Ge);if(le||!D)return{lineRect:be};let ve=performance.now();for(let rt of D){let mt=rt.closest("a")?.parentElement||rt;if(!L.intersectsNode(mt)){w(mt);continue}ge(mt,_e,ht,ve-j,{sentenceOnly:V,keepBackgrounds:F,highlightColor:G,...Ee})}return j=ve,{lineRect:be}}let z,W,He=[];function ge(D,L,O,k,V=t){let F=D instanceof HTMLElement?D:D.parentElement,{avoidGlobalSpaceTransformation:G,sentenceOnly:le,keepBackgrounds:Ee,highlightColor:se,elementColor:x,unsetColor:_e}={...t,...V},Ge=getComputedStyle(F);x||=zd(F);let ht=Xe(F.getBoundingClientRect()),be=G?L:zi(ht,L),ve=G?O:O.map(wt=>zi(ht,wt));z??=be,W&&Math.abs(W[1]-be[1])>8&&(He.push({start:[...W],current:[...W],target:Xe({...Xd(W),x:la(W)[1],width:0})}),z=be,z[2]=0),W=[...be];let rt=ef(z,be,k),mt=[...rt];z=le?void 0:[...rt];for(let wt in He){let A=He[wt];if(Math.abs(A.current[2]-A.target[2])<.5){He.splice(Number(wt),1);continue}let Ln=ef(A.current,A.target,k),Ur=A.start;rt.push(...Ur),mt.push(...Ln),A.current=Ln}if(Ge.display==="inline"){let wt=Array.from(F.getClientRects()).map(Xe).map(Po=>zi(ht,Po)),A=Ge.direction==="rtl"?WD:VD,Ln=Ge.direction==="rtl"?ve.at(-1):ve.at(0),Ur=A(wt,be);rt=pa(Ur,rt),mt=pa(Ur,mt);let Wy=A(wt,Ln);ve=[pa(Wy,[Ln[0],ve[0][1],ve.reduce((Po,qy)=>Po+qy[2]-Ki,Ki),ve[0][3]])]}I(F,{wordPositions:rt,wordClipPositions:mt,sentencePositions:ve.flat(),elemColor:x,elemMatrix:S(F),unsetColor:_e,isKeypoint:V.isKeypoint},{sentenceOnly:le,keepBackgrounds:Ee,highlightColor:se})}return{removeHighlights:P,highlightElement:N,highlightVec:ge}}function Zd(e,t,n){let r=Array.from(e.getClientRects()).map(jd).map(Jd(t,HD)),i=r[r.length-1];return n&&i&&(i.width-=t*2),r}function ef(e,t,n){let r=Math.min(.15*Math.sqrt(Math.max(1,n)),1),i=1-r;return[e[0]*i+t[0]*r,e[1]<=t[1]?e[1]*i+t[1]*r:t[1],e[2]*i+t[2]*r,e[3]<=t[1]?e[3]*i+t[3]*r:t[3]]}function ha(e,t,n){let r=tf(e,t),i=tf(e,n),o=new Range;try{o.setStart(r.node,r.offset),o.setEnd(i.node,i.offset)}catch{}return o}function tf(e,t){let n=GD(e,NodeFilter.SHOW_TEXT),r=0,i=e;for(let o of n){if((o.textContent?.length??0)+r>t)return{node:o,offset:t-r};r+=o.textContent?.length||0,i=o}return{node:i,offset:i?.textContent?.length??0}}function*GD(e,t){let n=e.ownerDocument.createNodeIterator(e,t),r=n.nextNode();for(;r;)yield r,r=n.nextNode()}function pa(e,t){return[t[0]+e.totalXOffset-(t[1]===0?e.xMarginOffset:0),0,t[2]-2,t[3]]}function VD(e,t){let n=e.findIndex(s=>s[1]===t[1]),r=e.slice(0,Math.max(0,n)),i=r.length===0?e[0]?.[0]??0:0,o=r.reduce((s,u)=>s+u[2],0)+1;return{xMarginOffset:i,totalXOffset:o}}function WD(e,t){let n=e.findIndex(s=>s[1]===t[1]),r=e.slice(Math.max(0,n)+1),i=0,o=r.reduce((s,u)=>s+u[2],0)+1-e[n]?.[0];return{xMarginOffset:i,totalXOffset:o}}function qD(){let e=document.querySelectorAll("*");for(let t of e){let r=getComputedStyle(t).transform;if(r.startsWith("matrix")){let i=r.match(/matrix\(([^)]+)\)/)?.[1].split(",").map(parseFloat);if(i){let o=i[0],s=i[3];if(o!==1||s!==1)return!0}}}return!1}c();a();var rf,ga=1e4,ji=!1,Ht=0,fn,fr,ya;function YD({targetY:e,currentY:t,element:n=window}){ya=e,!ji&&(fr=t,fn=document.timeline.currentTime,Ht=0,ji=!0,requestAnimationFrame(r=>Ea(r,n)))}var Ta=!0,of=!0;te?.on("update",e=>{Ta=e.autoScrollTemporary,of=e.autoScroll});function Ea(e,t){let n=Ta&&of,r=ya-fr;if(ji=n&&(Math.abs(r)>15||Math.abs(Ht)>10),!ji)return;if(Je){requestAnimationFrame(s=>Ea(s,t));return}let i=e-(typeof fn=="number"?fn:fn?fn.to("ms").value:0);fn=e;let o=Math.ceil(i*10);for(let s=0;s<o;s++)zD(i/o);uf({top:fr},t),requestAnimationFrame(s=>Ea(s,t))}function zD(e){let t=e/1e3,n=ya-fr,r=Math.sign(Ht)*Ht**2/2/ga>n,o=(n<0?!r:r)?Math.min(Ht**2/2/ga/Math.abs(n),1.1):1;Ht+=(r?-1:1)*ga*o*t,fr+=Ht*t}function Xi({top:e,behavior:t},{element:n=window}={}){t==="smooth"?YD({targetY:Math.max(e,0),currentY:n===window?window.scrollY:n.scrollTop,element:n}):uf({top:e,behavior:t},n)}var $i=!1,Je=!1,pn=!1,sf=0,af=0,Ji=e=>e.pointerType==="touch";window.addEventListener("pointerdown",e=>{!Ji(e)||Je||(Je=!0,sf=e.screenX??0,af=e.screenY??0)});window.addEventListener("pointermove",e=>{if(!Ji(e)||!Je||pn)return;let t=e.screenX??0,n=e.screenY??0;pn=Math.sqrt((t-sf)**2+(n-af)**2)>32});window.addEventListener("pointerup",e=>{Ji(e)&&(Je=!1,pn=!1)});window.addEventListener("pointercancel",e=>{Ji(e)&&(Je=!1,pn=!1)});var cf=!1;function xe(){if(Ae()&&(!Je||Je&&!pn)||$i){$i&&($i=!1);return}Ta&&cf&&Sd(!1),rf=performance.now()}function Sa(e){cf=e}var nf=()=>window.location.origin==="https://docs.google.com"&&window.location.pathname.startsWith("/document/d");function uf(e,t=window){e?.behavior==="smooth"&&(console.warn("Smooth scroll breaks auto scroll...ignoring"),delete e.behavior),Je&&(rf=performance.now()),!pn&&(Je||t.scrollTo(e),$i=!0)}var KD=async e=>(await us(),e?document.querySelector(e)?.addEventListener("scroll",xe):nf()?document.querySelector(".kix-appview-editor")?.addEventListener("scroll",xe):window.addEventListener("scroll",xe),()=>{e?document.querySelector(e)?.removeEventListener("scroll",xe):nf()?document.querySelector(".kix-appview-editor")?.removeEventListener("scroll",xe):window.removeEventListener("scroll",xe)});KD();c();a();var hn=K(Fo());c();a();var Qe=K(Fo());c();a();Lo();function Qi(){let[e,t]=Pt({...Mt.getCacheSync()??{},...Td()});return Mn(()=>{J().then(t)},[]),Mn(()=>te.on("update",t),[]),e}var lf=()=>Qi().playbackSpeed;var pH=()=>Qi().shortcutReminder,hH=()=>Qi().voice?.personal,mH=()=>{let e=ln();return Qi().hasSeenSkipSentences?.[e]??!1};function Da(){let e=U.useTime();return(0,Qe.useMemo)(()=>e.isLoading===!0?{isLoading:!0}:{isLoading:!1,duration:e.totalEstimatedDuration},[e])}var CH=(e,t)=>{let n=Da(),[r,i]=(0,Qe.useState)({isLoading:!0});return(0,Qe.useEffect)(()=>{e&&df(e).then(s=>{i({isLoading:!1,duration:s})})},[e]),{duration:(0,Qe.useMemo)(()=>t&&n.isLoading===!1&&n.duration>0?n:r,[t,n,r])}};function _H(){let e=lf(),t=U.useTime(),[n,r]=(0,Qe.useState)(0),[i,o]=(0,Qe.useState)(0);return(0,Qe.useEffect)(()=>{if(t.isLoading===!0)return;let s=n/(e??1);r(t.totalEstimatedDuration),o(n-s)},[n,t]),t.isLoading?{isLoading:!0}:{isLoading:!1,duration:n,durationSaved:i}}var Zi=e=>["buffering","playing"].includes(e),Ca=e=>e==="playing";var FH=e=>{let{usePlayingState:t,useBundleInfo:n}=U,{play:r,pause:i}=ne,o=t(),{currentContent:s}=n(),u=Da(),[l,d]=(0,hn.useState)(null),f=(0,hn.useCallback)(()=>{if(!e)return;if((window.getSelection()??"").toString().length>0)return r();let h=Gt(e,!0);d(h)},[e]),p=(0,hn.useMemo)(()=>!!l&&l?.id===s?.id,[l,s]);return{state:o,play:r,pause:i,isActive:p,queueAndPlayContent:f,duration:u}},ff=async(e,t)=>{let n=e.options?.sideEffects??!1,r=0,i=0,o=[],s=new AbortController;Bt(5e3).then(()=>{s.abort()});do{let u=await e.getContent({index:r,invalidateCache:t,abortSignal:s.signal});if(o.push(...u.content),i=u.chunksAfter,r++,n)break}while(i>0);return o},$D=async e=>ff(e,!1),pf=async e=>ff(e,!0),df=async e=>{let t=await $D(e),{EmbeddedBundleMetadata:n,ObjectRef:r,PlaybackTime:i,ContentType:o,StaticStandardView:s}=await M(),u=new s.Builder;t.forEach(h=>{let g=e.converter(h);u.addParagraph(g.text??"",new r({ref:null}))});let l=u.build(),d=(await sr()).client.createBundlerFactory(await ki(),h=>h).createEmbeddedReadingBundler();if(!l)return 0;let f=new n("website",o.HTML,window.location.href);f.disableTelemetryOfCreate=!0,f.disableTelemetryOfCreateToPlaying=!0,f.disableTelemetryOfCreateToUIReady=!0;let p=await Hn(d.createBundleForStandardView.bind(d))(l,f);if(zr(p))return 0;try{return await Promise.race([new Promise(g=>{p.value.playbackControls.state.playbackTime instanceof i.Ready&&g(p.value.playbackControls.state.playbackTime.totalTimeSeconds);let S=p.value.playbackControls.addListener(C=>{C.playbackTime instanceof i.Ready&&(g(C.playbackTime.totalTimeSeconds),S())})}),new Promise((g,S)=>{setTimeout(()=>{S(new Error("estimateDurationForContent timed out after 5s"))},5e3)})])}catch(h){return Et(h),0}};c();a();c();a();function _a(e,t=0){let n=e.previousElementSibling;return n?_a(n,n.ariaLabel.length+t)+1:t}function hf(e,t=!1){let n=t?e.height:0;return[e.transform.e+e.left-2,e.transform.f+e.top-n+2,e.width+2,e.height+2]}function mf(e){let t=document.getElementsByTagName("canvas")[0].getContext("2d");return e.map(n=>{let r=n.ref.value.ref;if(!r)return{div:null,rects:[]};let i=r.ownerSVGElement;if(!i)return{div:null,rects:[]};let o=i?.parentElement,l=Array.from(r.querySelectorAll("rect")).filter(d=>{let f=_a(d),p=f+d.ariaLabel.length;return f<=n.startIndex&&p>=n.endIndex||f>=n.startIndex&&f<=n.endIndex||p>=n.startIndex&&p<=n.endIndex}).map(d=>{let f=_a(d);t.font=d["data-font-css"];let p=t.measureText(d.ariaLabel),h=d.width.animVal.value/p.width,g=t.measureText(d.ariaLabel.substring(0,n.startIndex-f)),S=t.measureText(d.ariaLabel.substring(n.startIndex-f,n.endIndex-f)),C=d.transform.baseVal[0].matrix;return{top:d.y.animVal.value,left:d.x.animVal.value+g.width*h,width:S.width*h,height:d.height.animVal.value,transform:C}});return{div:o,rects:l}})}var gf={condition:e=>{let t=e.sentenceOverlayRanges[0]?.ref.value.ref;return t&&we(t)?!1:!!he()},highlight:e=>{let t=mf(e.sentenceOverlayRanges),n=mf(e.wordOverlayRanges),r=t[0].div;return r?(r.style.mixBlendMode="multiply",ae({rawSentencesVec:t.flatMap(i=>i.rects.map(o=>hf(o))),rawWordsVec:hf(n[0].rects[0]),element:r})):ee(null)}};c();a();var Ef=e=>{let t=e.nodeType===Node.TEXT_NODE,n=e.tagName==="A";return!!(t||n)},va=e=>{let n=e.sentenceOverlayRanges.find(r=>!!r.startIndex||!!r.endIndex);if(n&&!we(n.ref.value.ref))return Ef(n.ref.value.ref)?n.ref.value.ref.parentElement:n.ref.value.ref};function*jD(e,t){let n=e.ownerDocument.createNodeIterator(e,t),r=n.nextNode();for(;r;)yield r,r=n.nextNode()}function XD(e,{sentenceStart:t,sentenceEnd:n,wordStart:r,wordEnd:i}){let o={sentenceStart:t,sentenceEnd:n,wordStart:r,wordEnd:i};if(!e.querySelector("style,script"))return o;let s=Math.max(n,i),u=0,l=jD(e,NodeFilter.SHOW_TEXT);for(let d of l)if(d.parentElement?.tagName==="STYLE"||d.parentElement?.tagName==="SCRIPT")u<t&&(o.sentenceStart+=d.textContent?.length??0),u<n&&(o.sentenceEnd+=d.textContent?.length??0),u<r&&(o.wordStart+=d.textContent?.length??0),u<i&&(o.wordEnd+=d.textContent?.length??0);else if(u+=d.textContent?.length??0,u>=s)break;return o}var yf={condition:e=>!!Wd(e),highlight:e=>{if(e.sentenceOverlayRanges.length===0||e.wordOverlayRanges.length===0)return ee(null);let t=va(e),n=e.sentenceOverlayRanges[0].ref.value.ref;if(we(n)||!t)return ee(null);let r=e.sentenceOverlayRanges.find(h=>!!h.startIndex||!!h.endIndex),i=e.wordOverlayRanges.find(h=>!!h.startIndex||!!h.endIndex);if(!r||!i)return ee(null);let{startIndex:o}=e.sentenceOverlayRanges[0],s=sa(e.sentenceOverlayRanges,h=>h.endIndex!==0)?.endIndex||0,u=e.sentenceOverlayRanges[0].ref.value.highlightInfo?.startOffset??0,l=Ef(n)?aa(n):0,d=XD(t,{sentenceStart:o+l+u,sentenceEnd:s+l+u,wordStart:i.startIndex+l+u,wordEnd:i.endIndex+l+u}),f=[d.sentenceStart,d.sentenceEnd],p=[d.wordStart,d.wordEnd];return ae({element:t,sentenceBounds:f,wordBounds:p})}};var JD=[gf,yf,Bd],Tf=JD;var{removeHighlights:Ia,highlightVec:QD,highlightElement:ZD}=ma("speechifyPlaybackHighlighter",{highlightColor:{word:{light:"#B4BBFE",dark:"#3a72e0"},sentence:{light:"#E6E8FF",dark:"#374b64"}}}),Sf=async()=>{let{highlighting:e,autoScroll:t}=await J(),n=await lr("autoScroll"),r=await dr("autoScroll"),i=await lr("highlighting"),o=await dr("highlighting"),s={event:null,shouldApplyHighlight:e&&!i||o,autoscroll:t&&!n||r,scrollElement:null},u=te.on("update",async l=>{let{autoScroll:d,highlighting:f,autoScrollTemporary:p}=l,h=await lr("autoScroll"),g=await dr("autoScroll"),S=await lr("highlighting"),C=await dr("highlighting");s.autoscroll=d&&p&&!h||g&&p,s.shouldApplyHighlight=f&&!S||C});return{state:s,cleanup:u}},eC=(e,t,n=!0)=>{let{event:r}=e;if(!r)return ee(null);let i=Tf.find(h=>h.condition(r));if(!i)return ee(null);let o=i.highlight(r);if(zr(o))return ee(null);let s=!!r.sentenceOverlayRanges[0].ref.value.highlightInfo?.unsetColor,u=!!r.sentenceOverlayRanges[0].ref.value.highlightInfo?.isKeypoint;if(Yd(o.value)){let{element:h,rawSentencesVec:g,rawWordsVec:S,elementColor:C}=o.value;n&&QD(h,S,g,t,{avoidGlobalSpaceTransformation:!0,keepBackgrounds:!0,unsetColor:s,elementColor:C,isKeypoint:u});let w=e.event?.wordOverlayRanges??[];if(!w.length)return ee(null);let T=we(w[0].ref.value.ref)?S[1]:w[0].ref.value.ref.getBoundingClientRect().top;return we(w[0].ref.value.ref)?ee(null):ae({top:T,left:S[0],width:S[2],height:S[3]})}let{element:l,sentenceBounds:d,wordBounds:f}=o.value,{lineRect:p}=ZD(l,[l],d,f,{rectOnly:!n,sentenceOnly:!1,keepBackgrounds:!0,unsetColor:s,isKeypoint:u})??{};return p?ae(qd(p)):ee(null)},wa=e=>window===e,ba=e=>e.sentenceOverlayRanges[0]?.ref.value.highlightInfo?.scrollElement??window,Cf=100,Df=e=>{e.stopPropagation(),xe()},tC=()=>{window.addEventListener("scroll",Df,!0),setTimeout(()=>{window.removeEventListener("scroll",Df,!0)},Cf)},nC=(e,t)=>{let{top:n}=e,r=n;wa(t)||(r-=t.getBoundingClientRect().top);let i=r-(wa(t)?window.innerHeight:t.clientHeight)/2,o=wa(t)?window.scrollY:t.scrollTop,s=Math.max(o+i,0);tC(),Xi({top:s,behavior:"smooth"},{element:t})},rC=e=>{let t=performance.timeOrigin??0,n=null,r=U.getPlayingState(),i=null,o=0,s=u=>{let l=u-t,d=u-o;if(t=u,Ca(U.getPlayingState())){if(Sa(!0),Ia(i),e.event){let f=eC(e,l,e.shouldApplyHighlight),p=va(e.event);if(p&&p.getRootNode()instanceof ShadowRoot&&p.getRootNode()!==i&&(i=p.getRootNode()),d>Cf&&(o=u,xt(f)&&e.autoscroll)){let h=e.scrollElement??ba(e.event);nC(f.value,h)}}}else!Ca(U.getPlayingState())&&r==="playing"&&(Sa(!1),Ia());r=U.getPlayingState(),n=requestAnimationFrame(s)};return s(performance.now()),()=>{n&&cancelAnimationFrame(n),Ia()}},_f=async e=>{let{OriginalContentOverlayProvider:t}=await M(),{CurrentWordAndSentenceOverlayHelper:n}=await M(),r=new t,i=new n(e.playbackControls,r),o=await Sf(),s=rC(o.state),u=i.addEventListener(d=>{o.state.event=d;let f=ba(d);f!==o.state.scrollElement&&(o.state.scrollElement&&o.state.scrollElement.removeEventListener("scroll",xe),o.state.scrollElement=f,o.state.scrollElement.addEventListener("scroll",xe))}),l=await vf("PLAYABLE_CONTENT_UPDATED",async()=>{u();let d=U.getBundleState().bundle;if(!d){o.cleanup(),o=await Sf();return}u=new n(d.playbackControls,r).addEventListener(p=>{o.state.event=p;let h=ba(p);h!==o.state.scrollElement&&(o.state.scrollElement&&o.state.scrollElement.removeEventListener("scroll",xe),o.state.scrollElement=h,o.state.scrollElement.addEventListener("scroll",xe))})});return()=>{s(),u(),l(),o.cleanup()}};c();a();var eo=e=>async t=>{let{bundle:n}=t.getState();return n?e(n):()=>{}};c();a();var iC=async e=>{let t,n;return te.on("update",async r=>{let{playbackSpeed:i,voice:o}=r;if(t===o&&n===i)return;t=o,n=i;let s=Fi(i);if(s!==e.playbackControls.state.wordsPerMinute&&e.playbackControls.setSpeed(s),o?.personal){let l=await or(o);e.playbackControls.setVoice(l)}else{let l=gd(o,e.listeningBundle.voices.map(p=>p.voice)),d=e.playbackControls.state,f=d.voiceOfPreferenceOverride??d.voiceOfCurrentUtterance;l&&f&&l.idQualified!==f.idQualified&&e.playbackControls.setVoice(l)}})},If=eo(iC);c();a();c();a();var wf=async e=>{let t=(r,i)=>({state:r,stateDetail:i}),{AudioControllerEvent:n}=await M();return e===n.Buffering?t("buffering"):e===n.Ended?t("ended"):e instanceof n.Paused?t("paused"):e instanceof n.Playing?t("playing"):e instanceof n.Errored?t("errored",e.error):e instanceof n.Seeking?t("seeking"):t("stopped")},bf=e=>!!e.cursor;c();a();function Af(e){return(...t)=>e(...t)}var Pf=K(nn());var oC=gt(1),sC=Af(()=>{Go("audio-loading"),Go("audio-loaded")});async function xf(e){let{AudioControllerEvent:t}=await M(),{bundle:n}=e.getState();if(!n)return()=>{};let r=()=>{let s=n.playbackControls.state.playbackTime instanceof Pf.PlaybackTime.Ready?{isLoading:!1,currentTime:n.playbackControls.state.playbackTime.currentTimeSeconds,totalEstimatedDuration:n.playbackControls.state.playbackTime.totalTimeSeconds}:{isLoading:!0};return e.getState().time!==s?{hasChanged:!0,time:s}:{hasChanged:!1}},i=r();i.hasChanged&&e.setState({time:i.time});let o=async s=>{let u=await wf(s),l={},d=r();if(d.hasChanged&&(l.time=d.time),s instanceof t.Playing){let f=Math.round(n.playbackControls.state.uiPlaybackProgressFraction*1e3)/1e3;e.getState().currentProgress!==f&&(l.currentProgress=f),bf(s)&&(l.cursor=s.cursor)}e.getState().state!==u.state&&((u.state==="playing"||u.state==="buffering")&&sC(),l.state=u.state,u.state==="errored"&&de("extension_usage_error",{webpage:window.location.href,hostname:window.location.hostname,errorType:u.stateDetail?.toString()})),Object.keys(l).length>0&&e.setState({...l})};return n.listeningBundle.audioController.addEventListener(s=>oC(o,s))}c();a();var aC=20;async function Aa(e){let{WordsListenedHelper:t}=await M(),{bundle:n}=e.getState();if(!n)return()=>{};let r=new t(n.listeningBundle.audioController),i=0,o=null,s=0,u=f=>{let p=!!o?.isPremium;Nf(f,p)},l=e.subscribe(({state:f})=>{f==="ended"&&s>0&&u(s)}),d=r.addEventListener(f=>{let p=f.stats.pop();p&&(s=p.count-i,o=p.voice.toVoiceMetadata(),s>=aC&&(i=p.count,u(s),s=0),p.count<20&&(i=0))});return()=>{l(),d()}}var cC=[eo(_f),xf,If,Aa],Of=async e=>{let t=await Promise.all(cC.map(n=>n(e)));return()=>{t.forEach(n=>n())}};c();a();var ro=K(nn());c();a();c();a();c();a();function Pa(){return[{site:zs,scrollElementSelector:"main > div.flex.h-full.flex-col > div.flex-1.overflow-hidden > div > div"},{site:Ys,scrollElementSelector:".qz.aiL.speechify-current-compose"},{site:Id,scrollElementSelector:".Tm.aeJ"},{site:he,scrollElementSelector:".kix-appview-editor"},{site:_d,scrollElementSelector:"#screenshot-player #speechify-screenshot-text-container"}].find(e=>e.site())?.scrollElementSelector}var xa=".kix-canvas-tile-content:not(.kix-canvas-tile-selection)",uC="g[data-section-type]",Rf=".kix-rotatingtilemanager-content";var lC=116,Lf=13,dC=".kix-canvas-tile-content:not(.kix-canvas-tile-content-selection) > svg",Ff=()=>document.querySelector(".kix-page-paginated")===null,to=()=>Array.from(document.querySelectorAll(Rf)).find(n=>n.parentElement?.parentElement?.style?.display!=="none"),Fe=()=>{let e=to();if(!e)throw Et(new Error("Tile container not found")),new Error("Tile container not found");return Array.from(e.children).filter(t=>t.id!=="speechify-paragraph-hover-button-container")};var at=e=>e.style.zIndex?parseInt(e.style.zIndex):0;var Ct=e=>{let t=Array.from(e.querySelectorAll(uC));return Ff()?t.filter(n=>{let r=n.getBoundingClientRect().y??0,i=n.getBoundingClientRect().height??0,o=e.getBoundingClientRect().y??0;return i&&r>=o}):t.filter(n=>n.getBoundingClientRect().height!==0)},no=e=>e.closest(dC),kf=async e=>{let n=Fe()[0].clientHeight,r=e*(Lf+n)+lC,i=document.querySelector(Pa()??"");if(!i)return ee(new Error("Could not find scroll container"));Xi({top:r,behavior:"auto"},{element:i});let o=await new Promise(s=>{i.addEventListener("scrollend",()=>s(),{once:!0})});return ae(o)},ct=()=>{let e=to().querySelector(xa)?.clientHeight??0,t=document.querySelector(Pa());return Ff()?Math.round(t.scrollHeight/e):Math.round(t.scrollHeight/(e+Lf))};var Na=()=>{let e=U.getBundleState().cursor?.getParentElement()?.ref?.value?.chunkIndex;return isNaN(e)?null:e},Mf=async(e,t)=>new Promise(n=>{let r=ne.registerHook("PLAYBACK_STATE_CHANGED",async()=>{Na()===e-1&&(r(),n())});t.addEventListener("abort",()=>{r(),n()},{once:!0})}),Uf=async(e,t,n=0)=>{let r=null;return Promise.race([new Promise(i=>{r=new MutationObserver(s=>{let l=s.filter(d=>d.attributeName==="style").find(d=>Number(d.target.style.zIndex)===e);t.addEventListener("abort",()=>{r?.disconnect(),i()},{once:!0}),l&&(r?.disconnect(),i())}),Array.from(document.querySelectorAll(xa)).forEach(s=>r?.observe(s,{attributes:!0}))}),n>0?(async()=>{await Bt(n),r?.disconnect()})():null].filter(Boolean))},Bf=e=>e.closest(xa)??e.closest(`${Rf} > div`);c();a();var mn=K(nn());var Hf=(e,t)=>{let n=Bf(t);if(!n)return;let r=at(n);Hd({type:"PLAY_FROM_CONTENT",chunk:r}),e.playFromContent(i=>{let o=Ct(n),s=o.findIndex(d=>d?.isSameNode(t)),u=o.slice(0,s).map(d=>i.ParagraphPartsWithImplicitWhitespace(pr(d,r))),l=o.slice(s).map(d=>i.ParagraphPartsWithImplicitWhitespace(pr(d,r)));return new mn.MidContentStartInfo(i.ChunkPart(l),i.ChunkPart(u))},r,r,ct()-r-1,!1)},pr=(e,t,n)=>{let r=document.querySelector(n?.selectors?.scrollElement??".kix-appview-editor");return Array.from(e.getElementsByTagName(n?.selectors?.rect??"rect")).map(i=>new mn.TextWithRef(i.ariaLabel,new mn.ObjectRef({ref:i,chunkIndex:t,highlightInfo:{startOffset:0,scrollElement:r}})))};var Gf=async(e,t)=>{let{MidContentStartInfo:n}=await M(),{cursor:r,state:i}=U.getBundleState(),o=r?.getParentElement().ref.value?.ref??null,s=o?no(o):Fe()[0],u=i==="playing"?t.playFromContent:t.seekFromContent,l=s?at(s):0,d=s?Ct(s):[];u.bind(t)(f=>{let p=o?d.findIndex(S=>S?.isSameNode(o)):0,h=d.slice(0,p).map(S=>f.ParagraphParts(pr(S,l))),g=d.slice(p).map(S=>f.ParagraphParts(pr(S,l)));return new n(f.ChunkPart(g),f.ChunkPart(h))},l,l,Math.max(0,ct()-l-1),!0)};var Vf=e=>{let t=async()=>{let{cursor:i,bundle:o,state:s}=U.getBundleState(),{TextWithRef:u,MidContentStartInfo:l}=await M();if(!o)return Gt(e,!0);let d=i?.getParentElement().ref.value?.ref??null;if(he())await Gf(e,o);else{let h=await pf(e),g=Math.max(h.findIndex(T=>T===d),0),S=h.slice(0,g),C=h.slice(g);(Zi(s)?o.playFromContent:o.seekFromContent).bind(o)(T=>new l(T.ChunkPart(C.map(y=>{let{text:v,ref:I}=e.converter(y);return T.ParagraphParts([new u(v,I)])})),T.ChunkPart(S.map(y=>{let{text:v,ref:I}=e.converter(y);return T.ParagraphParts([new u(v,I)])}))),0,0,0,!0)}let f=0;if(i instanceof ro.ContentTextPosition){let h=e.converter(d).text,g=Math.max(h.lastIndexOf(" ",i.characterIndex),0),S=i.characterIndex-g,C=h.indexOf(" ",i.characterIndex);f=(C>-1?C:h.length)-i.characterIndex<S?C:g}let p=ne.registerHook("PROGRESSED",async({cursor:h})=>{if(h&&f!==0){let g=ro.CursorQueryBuilder.fromCursor(h).scanCharsForward(f);ne.seekToCursor(g)}p()});hr.triggerHooks("PLAYABLE_CONTENT_UPDATED",{queue:Vt,changed:e})},n=new AbortController;return(async()=>{if(!e.options?.experimentalEdits)return;let i=e.options?.experimentalEdits?.(n.signal);for await(let o of i){if(n.signal.aborted)return;o.length!==0&&t()}})(),()=>{n.abort()}};c();a();var YG=Yr("Playback","lime");var Wf=()=>{let e=[],t=[],n=yt(()=>({currentContent:null,currentProgress:0,state:"paused",bundle:null,time:{isLoading:!0},cursor:null}));return{updateCurrentContent:l=>{t.forEach(d=>d()),t.length=0,n.setState({currentContent:l}),l&&t.push(Vf(l))},updateBundle:async l=>{n.setState({bundle:l,time:{isLoading:!0}}),Of(n).then(d=>e.push(d))},getState:()=>n.getState(),resetState:()=>{let l=n.getState().bundle;l&&l.destroy(),e.forEach(d=>d()),t.forEach(d=>d()),e.length=0,n.setState({currentContent:null,currentProgress:0,state:"stopped",bundle:null})},getZustandState:()=>n}};var fC=gt(1),B=Wf(),pC=async e=>{let{TextWithRef:t}=await M();if(e.length===0)return B.updateCurrentContent(null),ae(void 0);let{bundle:n,currentContent:r}=B.getState();if(n)if(r){if(r.id!==e[0].id){let i=new AbortController;Bt(5e3).then(()=>i.abort()),B.updateCurrentContent(e[0]);let o=await e[0].getContent({index:0,abortSignal:i.signal}),s=e[0].options?.autoplay??!1,u=s?n.playFromContent.bind(n):n.seekFromContent.bind(n);s&&ke.triggerHooks("BEFORE_PLAY",U.getBundleState()),u(l=>new _t.MidContentStartInfo(l.ChunkPart(o.content.map(d=>{let f=e[0].converter(d);return l.ParagraphParts([new t(f.text,f.ref)])})),l.ChunkPart([])),0,o.chunksBefore,o.chunksAfter,!0),s&&ke.triggerHooks("AFTER_PLAY",U.getBundleState())}}else return B.resetState(),ae(void 0);else{B.updateCurrentContent(e[0]);let i=nu(await hC(),o=>new Yi("BundleCreationFailed","Couldn't create bundle",o));if(xt(i))B.updateBundle(i.value),(e[0].options?.autoplay??!1)&&ne.play();else return Et(i.error),i}return ae(void 0)},qf=e=>fC(pC,e),hC=async()=>{let e=await(await sr()).client.createBundlerFactory(await ki(),i=>i).createEmbeddedReadingBundler(),t=await Gd(B.getZustandState()),n=new _t.EmbeddedBundleMetadata("website",_t.ContentType.HTML,window.location.href);return await Hn(e.createBundleForDynamicStandardView.bind(e))(t,n)},Yf=(l=>(l.AFTER_PLAY="AFTER_PLAY",l.AFTER_STOP="AFTER_STOP",l.BEFORE_PAUSE="BEFORE_PAUSE",l.BEFORE_PLAY="BEFORE_PLAY",l.BEFORE_SEEK="BEFORE_SEEK",l.BEFORE_STOP="BEFORE_STOP",l.PLAYBACK_STATE_CHANGED="PLAYBACK_STATE",l.PROGRESSED="PROGRESSED",l))(Yf||{}),ke=Mi(Yf),ne={play:()=>{let e=B.getState();ke.triggerHooks("BEFORE_PLAY",e),e.bundle&&(e.bundle.playbackControls.state.uiPlaybackProgressFraction===1&&e.bundle.playbackControls.state.playPauseButton===_t.PlayPauseButton.ShowBuffering?e.bundle.playbackControls.restart():e.bundle.playbackControls.pressPlayPause(),ur.toggleFeatureOnDomain("pill-player",!0),ke.triggerHooks("AFTER_PLAY",e))},stop:()=>{let e=B.getState();ke.triggerHooks("BEFORE_STOP",e),e.bundle&&(e.bundle.playbackControls.pressPlayPause(),ke.triggerHooks("AFTER_STOP",e))},pause:()=>{let e=B.getState();e.bundle&&(ke.triggerHooks("BEFORE_PAUSE",e),e.bundle.playbackControls.pause())},seekNext:()=>{let{bundle:e}=B.getState();e&&e.playbackControls.skipForwards()},seekPrevious:()=>{let{bundle:e}=B.getState();e&&e.playbackControls.skipBackwards()},seekTo:async e=>{let t=B.getState(),{bundle:n}=t;if(!n)return;let r=n.listeningBundle.contentBundle.contentIndex,i=await Hn(r.getCursorFromProgress.bind(r))(e);if(xt(i)){let o=i.value;ke.triggerHooks("BEFORE_SEEK",t),n.listeningBundle.audioController.seekToCursor(o)}},seekToCursor:e=>{let{bundle:t}=B.getState();t&&t.listeningBundle.audioController.seek(e)},registerHook:(e,t)=>ke.registerHook(e,t),resetState:()=>{B.resetState()}},U={getPlayingState:()=>B.getState().state,getBundleState:()=>B.getState(),usePlayingState:()=>B.getZustandState()(e=>e.state),useProgress:()=>B.getZustandState()(e=>e.currentProgress),useTime:()=>B.getZustandState()(e=>e.time),useBundleInfo:()=>B.getZustandState()(e=>({bundle:e.bundle,currentContent:e.currentContent})),useCurrentCursor:()=>B.getZustandState()(e=>e.cursor)};B.getZustandState().subscribe((e,t)=>{t.state!==e.state&&ke.triggerHooks("PLAYBACK_STATE_CHANGED",e)});B.getZustandState().subscribe((e,t)=>{t.currentProgress!==e.currentProgress&&ke.triggerHooks("PROGRESSED",e)});window.addEventListener("beforeunload",e=>{ne.pause(),B.resetState()},{once:!0});var mC=()=>{let e=new Array;return new Proxy(e,{get:(t,n,r)=>Reflect.get(t,n,r),set:(t,n,r,i)=>{if(n==="length")return Reflect.set(t,n,r,i);let o={id:Symbol("contentId"),...r};return n==="0"&&r&&qf([o,...t]).then(s=>{xt(s)&&hr.triggerHooks("PLAYABLE_CONTENT_UPDATED",{queue:[...Vt],changed:o})}),Reflect.set(t,n,o,i)}})},zf=(r=>(r.CONTENT_ADDED="CONTENT_ADDED",r.PLAYABLE_CONTENT_UPDATED="PLAYABLE_CONTENT_UPDATED",r.SKIP_REQUESTED="SKIP_REQUESTED",r))(zf||{}),Vt=mC(),hr=Mi(zf),Gt=(e,t=!1)=>{t&&(Vt.length=0);let n=Vt.push(e)-1,r=Vt[n];return hr.triggerHooks("CONTENT_ADDED",{queue:[...Vt],changed:r}),r};var b2=async e=>{let t=new Map,n=gt(1),r=async function(i){if(t.has(i.index)&&!i.invalidateCache)return t.get(i.index);let o=await e(i);return t.set(i.index,o),o};return i=>n(()=>r(i))},vf=async(e,t)=>hr.registerHook(e,t);c();a();var Kf=oe(async()=>{let{userAgent:e,brave:t}=navigator,n=e.toLowerCase(),r=/chrome|crios/.test(n)&&!/edge|edg\/|opr\//.test(n);return r&&t?.isBrave&&await t.isBrave()?"brave":r&&globalThis.chrome?"chrome":n.includes("edg/")?"microsoft edge":n.includes("opr/")&&globalThis.opr?"opera":"other"});var $2=oe(()=>b("/analytics/get-user-device-id")),de=async(e,t={})=>(t.hostname=Cd(),t.webpage=window.location.href,t.browser=await Kf(),t.installationSource="chrome",b("/analytics/log",{eventName:e,properties:t})),j2=(e,t)=>{de("extension_widget_clicked",{item:e,value:t})},X2=(e,t)=>(de("extension_widget_settings_clicked",{item:e}),t()),$f=(e,t={})=>{};async function jf({timeBeforeSave:e=0,triggeredFrom:t="Heading Player",href:n=window.location.href}){return de("extension_save_to_mobile",{triggeredFrom:t,playing:String(U.getPlayingState()),time_before_save:e,href:n})}var J2=()=>de("extension_usage_widget_click_navigated_to_sentence"),Q2=async({triggeredFrom:e="Heading Player",isSelection:t=!1,isParsedSelection:n=!1})=>{let{focusMode:r,voice:i}=await J(),o=!!i?.personal;de("extension_usage_widget_relistened_to_page",{triggeredFrom:e,focusMode:r,isSelection:t,isParsedSelection:n,isClonedVoice:o})},Z2=async({triggeredFrom:e="Heading Player",isSelection:t=!1,isParsedSelection:n=!1})=>{let{focusMode:r,voice:i}=await J(),o=!!i?.personal;de("extension_usage_widget_listened_to_page",{triggeredFrom:e,focusMode:r,isSelection:t,isParsedSelection:n,isClonedVoice:o})};var mr=X("analytics",{"log-segment-event":e=>$f(e.eventName,e.properties)});c();a();var gr=X("auth",{"switch-to-free":()=>!Ae()&&import("./switch-to-free-C2BI7QUT.js").then(e=>e.switchToFree()),"update-user":({user:e})=>Oa(e),"update-subscription":({subscription:e})=>Ra(e)});c();a();var Er=X("keyboard-shortcuts",{command:({command:e})=>import("./keyboard-shortcuts-ETB7X7BJ.js").then(t=>t.handleCommand(e)),"update-command-list":({commands:e})=>import("./keyboard-shortcuts-ETB7X7BJ.js").then(t=>t.updateCommandList(e))});c();a();c();a();c();a();c();a();var GC=K(np());c();a();c();a();c();a();var Ze=64,qt=e=>{if(e=+e,isNaN(e)||e===0)return 0;if(e===1/0||e===-1/0)return e;let t=Math.floor(Math.abs(e));return t===0?0:e<0?-t:t},ip=e=>{let t=qt(e);return t<=0?0:Math.min(t,2**53-1)},op=e=>new Uint32Array(1).fill(e)[0],io=(e,t="g")=>new RegExp(String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),t),ce=(e,t)=>{if(typeof e!="object"||!(Va in e))throw new TypeError(`${t} must be called on an instance of StringTracker`)};function sp(e,t){if(t===e)return t.length;for(let n=t.length;n>0;n--)if(e[e.length-n]===t[0]&&e.endsWith(t.slice(0,n)))return n;return 0}function CC(e,t){let n=0;for(;n<Math.min(e.length,t.length)&&e[n]===t[n];n++);return n}function _C(e,t){let n=0;for(;n<Math.min(e.length,t.length);n++){let r=e.length-n-1;if(e[r]!==t[r])break}return n}var Ua=(e,t)=>t.length>=2&&t[0]>=0&&t[1]>=0&&t[0]<e.length&&t[1]<=q(e[t[0]]).length,gn=e=>e[0]===0&&e[1]===0,En=(e,t)=>t[0]===e.length-1&&t[1]===q(e[e.length-1]).length,oo=(e,t)=>{if(!Ua(e,t))throw new Error("Position is invalid for the given chunks");if(gn(t))throw new Error("Position is already pointing to the first chunk and change");return t[1]>0?[t[0],t[1]-1]:[t[0]-1,q(e[t[0]-1]).length-1]},yn=(e,t)=>{if(!Ua(e,t))throw new Error("Position is invalid for the given chunks");if(En(e,t))throw new Error("Position is already pointing to the last chunk and change");return t[0]===e.length-1||t[1]<q(e[t[0]]).length-1?[t[0],t[1]+1]:[t[0]+1,0]},vC=(e,t,n)=>{if(!Ua(e,t))throw new Error("Position is invalid for the given chunks");for(;n<0&&!gn(t);)n++,t=oo(e,t);for(;n>0&&!En(e,t);)n--,t=yn(e,t);return t};var Yt=(e,t)=>q(e[t[0]])[t[1]],Ba=e=>({addToPosition:vC.bind(void 0,e),getPrevPos:oo.bind(void 0,e),getNextPos:yn.bind(void 0,e),getChange:Yt.bind(void 0,e)}),ap=e=>e[0],cp=e=>e[1],Tn=e=>e[2],Me=e=>typeof e!="string"&&e?.[0]===Ce.Add,Q=e=>typeof e!="string"&&e?.[0]===Ce.Remove,up=e=>typeof e=="string"||e instanceof String,rp=e=>Me(e)?"add":Q(e)?"remove":"string",ie=e=>typeof e=="string"?e:e[1],lp=(e,t)=>e.reduce((n,r)=>n+(t(r)?"":ie(r)),""),dp=e=>lp(e,Q),fp=e=>lp(e,Me),De=e=>ie(e).length;var pp=(e,t=Q)=>e.reduce((n,r)=>n+(t(r)?0:De(r)),0),Ha=e=>pp(e,Q),IC=e=>pp(e,Me),so=e=>[Ha(e),IC(e),e.length===0?[""]:e],wC=e=>new Array(Math.ceil(e.length/Ze)).fill(0).map((t,n)=>e.slice(n*Ze,n*Ze+Ze)).map(so);var q=e=>e[2],bC=e=>q(e).length>Ze*2,hp=e=>{let t=q(e);if(bC(e)){let n=Math.floor(t.length/Ze);return[...new Array(n-1).fill(0).map((i,o)=>t.slice(o*Ze,o*Ze+Ze)),t.slice((n-1)*Ze)].map(so)}return[e]},AC=(e,t)=>{let n=e.slice();for(let r of t){if(De(r)===0)continue;n.push(r);let i=n.length-1;for(;i<n.length;){let o=n[i],s=n[i-1];if(s===void 0){i++;continue}if(Q(s)&&Me(o)){n.splice(i-1,2,o,s),i--;continue}if(Me(s)&&Q(o)){let u=CC(ie(s),ie(o)),l=_C(ie(s),ie(o));if(u>0||l>0){let d=Math.min(De(s),De(o)),f=h=>h.slice(u,l>0?-l:1/0),p=[ie(o).slice(0,u),Wt(s,f(ie(s))),Wt(o,f(ie(o)))];l>0&&d!==u&&p.push(ie(o).slice(-Math.min(l,d-u))),n.splice(i-1,2,...p.filter(De)),i--;continue}}if(rp(s)===rp(o)){n.splice(i-1,2,Wt(o,ie(s)+ie(o))),i--;continue}i++}}return n},Sn=(e,t,n,r)=>{let i=Math.max(t[0]-1,0),o=Math.min(n[0]+1,e.length-1),s=e.slice(i,t[0]).flatMap(q).concat(q(e[t[0]]).slice(0,t[1])),u=q(e[n[0]]).slice(n[1]).concat(e.slice(n[0]+1,o+1).flatMap(q)),l=AC(s,r.concat(u));e.splice(i,o+1-i,...wC(l)),e.length===0&&e.push([0,0,[""]]),e.length===1&&!q(e[0]).some(d=>!Q(d))&&(e[0]=[e[0][0],e[0][1],["",...q(e[0])]])},mp=(e,t,n)=>Sn(e,t,yn(e,t),[n]),Ga=(e,t,n)=>Sn(e,t,t,[n]);var Wt=(e,t)=>up(e)?t:[e[0],t],Dn=(e,t=0,n=De(e))=>up(e)?e.slice(t,n):[e[0],e[1].slice(t,n)];c();a();var gp=/(\$\$)|(\$\d{1,2})|(\$')|(\$`)|(\$&)/;function PC(e,t){let n=e.split(gp).filter(Boolean);return(r,...i)=>n.reduce((o,s)=>{if(!s.startsWith("$"))return o+s;let u=i.slice(-2)[0],l=i.slice(-1)[0];if(s==="$$")return o+"$";if(s==="$&")return o+r;if(s==="$`")return o+l.slice(0,u);if(s==="$'")return o+l.slice(u+r.length);if(t&&!isNaN(+s.slice(1))){let d=Number(s.slice(1))-1,f=i.slice(0,-2)[d];if(f===void 0&&d>9){let p=+s[1]-1;i.slice(0,-2)[p]!==void 0&&(f=i.slice(0,-2)[p]+s[2])}return o+(f??s)}return o+s},"")}function Wa(e,t){let n=this.slice();ce(n,"replace"),typeof e!="string"&&!(e instanceof RegExp)&&(e=String(e)),typeof t!="string"&&typeof t!="function"&&(t=String(t));let r=typeof t=="string"&&!gp.test(t),i=n.get(),o=typeof t=="function"?t:PC(t,e instanceof RegExp),u=e instanceof RegExp&&e.flags.includes("g")&&e instanceof RegExp?[...i.matchAll(e)]:[i.match(e instanceof RegExp?e:io(e,""))].filter(Boolean);return r&&u.reverse(),u.reduce((l,d)=>{let f=d.index+l,p=f+d[0].length,h=String(o(d[0],...d.slice(1),d.index,i));return n.remove(f,p,!0),h.length>0&&n.add(f,h,!0),r?0:l-d[0].length+h.length},0),n}function qa(e,t){let n=this;if(ce(this,"replaceAll"),e instanceof RegExp||(e=io(e,"g")),!e.flags.includes("g"))throw new TypeError("replaceAll must be called with a global RegExp");return n.replace(e,t)}function Ya(e=0,t){ce(this,"slice");let n=this.length;e=qt(e),e<0&&(e=n+e),e=Math.round(Math.max(Math.min(e,n),0));let r=qt(t??this.length);r<0&&(r=n+r),r=Math.round(Math.max(Math.min(r,n),0));let i=r-e,o=e===0?[0,0,0]:this.getPositionOfChange(e),s=Tn(o),u=Yt(this.getChangeChunks(),o),l=[Dn(u,s,s+i)];if(s===0&&!gn(o)){let d=this.getChangeChunks(),f=Yt(d,oo(d,o));Q(f)&&l.unshift(f)}for(let d of this.getChangeChunks().slice(ap(o)).flatMap(q).slice(cp(o)+1)){let f=Ha(l),p=i-f;if(p<=0&&r!==this.length)break;if(Q(d)){l.push(d);continue}l.push(De(d)<=p?d:Dn(d,0,p))}return ut(fp(l),{initialModified:dp(l),initialChanges:l})}function za(...e){ce(this,"concat");let t=[this,...e],n=t.flatMap(o=>o.getChanges()),r=t.map(o=>o.get()).join(""),i=t.map(o=>o.getOriginal()).join("");return ut(i,{initialModified:r,initialChanges:n})}function Ka(){return ce(this,"trim"),this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function $a(){return ce(this,"trimStart"),this.replace(/^[\s\uFEFF\xA0]+/g,"")}function ja(){return ce(this,"trimEnd"),this.replace(/[\s\uFEFF\xA0]+$/g,"")}function Xa(e,t=" "){return ce(this,"padStart"),Ep(this.concat(),e,t,"start")}function Ja(e,t=" "){return ce(this,"padEnd"),Ep(this.concat(),e,t,"end")}function Ep(e,t,n,r){t=ip(t);let i=e.get().length;if(t<=i||(n=String(n),n.length===0))return e;let o=t-i;return e.add(r==="start"?0:i,n.repeat(Math.ceil(o/n.length)).slice(0,o))}function Qa(e){if(ce(this,"repeat"),e=qt(e),e<0)throw new RangeError("repeat count must be non-negative");if(e===1/0||e*this.length>2**28-1)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return e===0?ut(""):this.get()===""&&this.getOriginal()===""?ut(""):this.concat(...new Array(e-1).fill(this))}function Za(e,t=2**32-1){if(!(e instanceof RegExp)&&e!==null&&e!==void 0&&typeof e[Symbol.split]=="function")return e[Symbol.split](this,t);if(ce(this,"split"),t=op(t),typeof e!="string"&&!(e instanceof RegExp)&&e!==void 0&&(e=String(e)),t===0)return[];if(e===void 0)return[this.slice()];if(e===""||e instanceof RegExp&&e.source==="(?:)")return new Array(Math.min(this.length,t)).fill(0).map((s,u)=>this.slice(u,u+1));typeof e=="string"&&(e=io(e,"gd")),e.flags.includes("g")||(e=new RegExp(e,e.flags+"g")),e.flags.includes("d")||(e=new RegExp(e,e.flags+"d")),e=new RegExp(e,e.flags);let n=[],r=0,i=t,o;for(;o=e.exec(this.get());){if(o[0]===""){e.lastIndex++;continue}if(i<=0)break;i--,n.push(this.slice(r,o.index)),n.push(...o.indices.slice(1).map(s=>this.slice(...s))),r=o.index+o[0].length}return i!==0&&n.push(this.slice(r)),n}function ec(e=0,t=this.length){if(ce(this,"substring"),e=Math.max(0,qt(e)),t=Math.max(0,qt(t)),e>t){let n=e;e=t,t=n}return this.slice(e,t)}function tc(e=0,t){ce(this,"substr");let n=Math.trunc(+e);isNaN(n)&&(n=0),n<0&&(n=Math.max(this.length+e,0)),t!==void 0&&(isNaN(+t)||t<0)&&(t=0);let r=t===void 0?this.length:+t+n;return this.slice(n,r)}var xC=Symbol.for("nodejs.util.inspect.custom"),Va=Symbol.for("string-tracker"),NC=Object.fromEntries(Object.getOwnPropertyNames(String.prototype).map(e=>[e,function(){return ce(this,e),String.prototype[e](this.get())}])),OC={...NC,concat:za,length:0,slice:Ya,split:Za,substring:ec,substr:tc,repeat:Qa,replace:Wa,replaceAll:qa,trim:Ka,trimStart:$a,trimEnd:ja,padStart:Xa,padEnd:Ja,toString(){return this.get()},[Symbol.iterator]:function*(){for(let e of this.get())yield e}},Ce;(function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"})(Ce||(Ce={}));function ut(e,{initialModified:t=e,initialChangeChunks:n=[[e.length,e.length,[e]]],initialChanges:r}={}){let i=t,o=r?hp(so(r)):n,s=()=>i,u=()=>e,l=()=>o.flatMap(q),d=()=>o,f=(T,y=Q)=>{let v=q(o[o.length-1]),I=0,_=0,P=y===Q?0:1;for(;_<o.length;_++){if(o[_][P]+I<T){I+=o[_][P];continue}v=q(o[_]);break}_=Math.min(_,o.length-1);for(let Y=0;Y<v.length;Y++){let z=v[Y];if(y(z))continue;let W=De(z);if(I+W>T)return[_,Y,T-I];I+=W}let N=v.length-1;for(;N>0&&y(v[N]);N--);let j=v[N];return[_,N,De(j)]},p=(T,y)=>{let v=0,I=o.slice(0,T[0]),_=q(o[T[0]]).slice(0,T[1]);for(let P of I)v+=q(P).reduce((N,j)=>y(j)?N:N+De(j),0);return v+=_.reduce((P,N)=>y(N)?P:P+De(N),0),v},h=T=>{if(T>i.length||T<0)throw new RangeError("targetIndex must be a positive number less than or equal to the length");if(T===i.length)return e.length;let y=f(T,Q),v=Yt(o,y),I=p(y,Me);return En(o,yn(o,y))&&Me(v)?e.length:Math.min(Math.max(I+(Me(v)?0:Tn(y)),0),e.length-1)},g=T=>{if(T>e.length||T<0)throw new RangeError("targetIndex must be a positive number less than or equal to the original length");if(T===e.length)return i.length;let y=f(T,Me),v=Yt(o,y),I=p(y,Q);return En(o,yn(o,y))&&Q(v)?i.length:Math.min(Math.max(I+(Q(v)?0:Tn(y)),0),i.length-1)},S=(T,y,v=!1)=>{typeof y!="string"&&(y=String(y));let I=f(T),_=v?o:o.slice(),{getChange:P,getNextPos:N,getPrevPos:j}=Ba(_),Y=gn(I)?void 0:P(j(I)),z=P(I),W=I[2];if(Y&&W===0){let ge=ie(Y);if(Q(Y)){let D=sp(ge,y);Sn(_,j(I),I,[Dn(Y,0,ge.length-D),ge.slice(ge.length-D),[Ce.Add,y.slice(D)]])}else Ga(_,I,[Ce.Add,y])}else if(W<=De(z))if(typeof z=="string")Sn(_,I,N(I),[z.slice(0,W),[Ce.Add,y],z.slice(W)]);else{let ge=ie(z);mp(_,I,Wt(P(I),ge.slice(0,W)+y+ge.slice(W)))}else Ga(_,[_.length-1,q(_[_.length-1]).length-1],[Ce.Add,y]);let He=i.slice(0,T)+y+i.slice(T);if(v){i=He;return}return ut(e,{initialModified:He,initialChangeChunks:_})},C=(T,y=i.length,v=!1)=>{if(T>y)throw new RangeError("startIndex must be less than or equal to endIndex");if(y>i.length)throw new RangeError("endIndex must be less than or equal to the length of the modified string");let I=i.slice(0,T)+i.slice(y),_=f(T),P=Tn(_),N=_.slice(0,2),j=v?o:o.slice(),Y=N,{addToPosition:z,getChange:W,getNextPos:He}=Ba(j),ge=W(N),D=ie(ge),L=1,O=[Wt(W(N),D.slice(0,P))];if(typeof ge=="string"&&O.push([Ce.Remove,D.slice(P,P+y-T)]),D.length>P+(y-T)&&O.push(Dn(ge,P+y-T)),T+=D.length-P,!En(j,N))for(N=He(N);T<y;N=He(N)){let F=W(N);if(!F)break;if(L++,Q(F)){O.push(F);continue}let G=ie(F);typeof F=="string"&&O.push([Ce.Remove,G.slice(0,y-T)]),O.push(Wt(W(N),G.slice(y-T))),T+=G.length}let k=Y,V=z(Y,L);if(Sn(j,k,V,O),v){i=I;return}return ut(e,{initialModified:I,initialChangeChunks:j})};return new Proxy({get:s,getOriginal:u,getChanges:l,getChangeChunks:d,getIndexOnModified:g,getIndexOnOriginal:h,getPositionOfChange:f,add:S,remove:C,concat:za,slice:Ya,split:Za,substring:ec,substr:tc,repeat:Qa,replace:Wa,replaceAll:qa,trim:Ka,trimStart:$a,trimEnd:ja,padStart:Xa,padEnd:Ja,toString(){return this.get()},[Symbol.iterator]:function*(){for(let T of this.get())yield T},[Va]:!0,[xC]:(T,y)=>y.stylize('"',"string")+l().map(v=>y.stylize(ie(v),Me(v)?"boolean":Q(v)?"regexp":"string")).join("")+y.stylize('"',"string")},{get(T,y){if(y==="__proto__")return OC;if(y==="length")return T.get().length;if(y in T)return T[y];if(typeof y!="symbol"&&!isNaN(+y))return T.get()[+y];if(y in String.prototype){let v=String.prototype[y];return typeof v=="string"?T.get()[+y]:v.bind(T.get())}return T[y]},set(){return!1},deleteProperty(){return!1}})}c();a();function lt(){}lt.prototype={diff:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var o=this;function s(C){return i?(setTimeout(function(){i(void 0,C)},0),!0):C}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var u=n.length,l=t.length,d=1,f=u+l;r.maxEditLength&&(f=Math.min(f,r.maxEditLength));var p=[{newPos:-1,components:[]}],h=this.extractCommon(p[0],n,t,0);if(p[0].newPos+1>=u&&h+1>=l)return s([{value:this.join(n),count:n.length}]);function g(){for(var C=-1*d;C<=d;C+=2){var w=void 0,T=p[C-1],y=p[C+1],v=(y?y.newPos:0)-C;T&&(p[C-1]=void 0);var I=T&&T.newPos+1<u,_=y&&0<=v&&v<l;if(!I&&!_){p[C]=void 0;continue}if(!I||_&&T.newPos<y.newPos?(w=LC(y),o.pushComponent(w.components,void 0,!0)):(w=T,w.newPos++,o.pushComponent(w.components,!0,void 0)),v=o.extractCommon(w,n,t,C),w.newPos+1>=u&&v+1>=l)return s(RC(o,w.components,n,t,o.useLongestToken));p[C]=w}d++}if(i)(function C(){setTimeout(function(){if(d>f)return i();g()||C()},0)})();else for(;d<=f;){var S=g();if(S)return S}},pushComponent:function(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function(t,n,r,i){for(var o=n.length,s=r.length,u=t.newPos,l=u-i,d=0;u+1<o&&l+1<s&&this.equals(n[u+1],r[l+1]);)u++,l++,d++;return d&&t.components.push({count:d}),t.newPos=u,l},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function RC(e,t,n,r,i){for(var o=0,s=t.length,u=0,l=0;o<s;o++){var d=t[o];if(d.removed){if(d.value=e.join(r.slice(l,l+d.count)),l+=d.count,o&&t[o-1].added){var p=t[o-1];t[o-1]=t[o],t[o]=p}}else{if(!d.added&&i){var f=n.slice(u,u+d.count);f=f.map(function(g,S){var C=r[l+S];return C.length>g.length?C:g}),d.value=e.join(f)}else d.value=e.join(n.slice(u,u+d.count));u+=d.count,d.added||(l+=d.count)}}var h=t[s-1];return s>1&&typeof h.value=="string"&&(h.added||h.removed)&&e.equals("",h.value)&&(t[s-2].value+=h.value,t.pop()),t}function LC(e){return{newPos:e.newPos,components:e.components.slice(0)}}var YV=new lt;var yp=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Tp=/\S/,Sp=new lt;Sp.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Tp.test(e)&&!Tp.test(t)};Sp.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&yp.test(t[n])&&yp.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var Dp=new lt;Dp.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var FC=new lt;FC.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var kC=new lt;kC.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function ao(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ao=function(t){return typeof t}:ao=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}var MC=Object.prototype.toString,Tr=new lt;Tr.useLongestToken=!0;Tr.tokenize=Dp.tokenize;Tr.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(o,s){return typeof s>"u"?n:s}:r;return typeof e=="string"?e:JSON.stringify(nc(e,null,null,i),i,"  ")};Tr.equals=function(e,t){return lt.prototype.equals.call(Tr,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function nc(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return n[o];var s;if(MC.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),o=0;o<e.length;o+=1)s[o]=nc(e[o],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),ao(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var u=[],l;for(l in e)e.hasOwnProperty(l)&&u.push(l);for(u.sort(),o=0;o<u.length;o+=1)l=u[o],s[l]=nc(e[l],t,n,r,l);t.pop(),n.pop()}else s=e;return s}var rc=new lt;rc.tokenize=function(e){return e.slice()};rc.join=rc.removeEmpty=function(e){return e};c();a();var ic=e=>typeof e=="string",UC=e=>!ic(e)&&e[0]===Ce.Remove,BC=e=>!ic(e)&&e[0]===Ce.Add,HC=e=>ic(e)?e:e[1],Cp=e=>t=>t.reduce((n,r)=>e(r)?n:n+HC(r),""),aW=Cp(BC),cW=Cp(UC);var _p="\\p{L}\\p{N}\\p{Sc}",DW=new RegExp(`([${_p}\\d&'’\\-;~()]+)`,"u"),VC=new RegExp(`[${_p}]`,"u"),WC=e=>VC.test(e),qC=e=>/[\d]/.test(e),oc=e=>WC(e)||qC(e);var YC=["IMG","NOSCRIPT","PATH","MATH","SCRIPT","STYLE","SVG","AMP-TWITTER","AMP-VIDEO","AMP-IFRAME","FIGCAPTION",".num-comment",".fa-comment-count",'[role="navigation"]','[role="dialog"]'];function CW(e,t=!0){let n=t?e.cloneNode(!0):e;return n instanceof Element&&n.querySelectorAll(YC.join(",")).forEach(r=>r.remove()),n}c();a();c();a();c();a();c();a();c();a();c();a();function zC(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var vp=zC;var KC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$C=vp(function(e){return KC.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Ip=$C;c();a();function jC(e){return`${e.join(";")};`}function XC(e,t){return typeof e=="string"?e:t}function wp(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}function dt(e){return t=>{let n=[];for(let r of e){if(Array.isArray(r)&&!t[r[0]]||typeof r=="string"&&!t[r])continue;if(!Array.isArray(r)){t[r]&&n.push(`${wp(r)}: ${t[r]}`);continue}let i=typeof r[1]=="function",o=typeof r[1]=="object";if(!(i||o))throw new TypeError(`Invalid options provided at key: ${r[0]}`);if(i&&n.push(r[1](t)),o){let s=r[1],u=s.property||wp(r[0]);s.default&&(t[r[0]]=XC(t[r[0]],s.default)),typeof s.handler=="function"?n.push(s.handler(t)):n.push(`${u}: ${t[r[0]]}`)}}return jC(n)}}var JC=dt([["relative",()=>"position: relative"],"margin","padding","width","height"]),ft=$("div",{shouldForwardProp:e=>Ip(e)&&!["wrap"].includes(String(e))})`
  ${JC}
`;c();a();var bp="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",QC=({column:e,separation:t})=>{let n=typeof t=="string",r=Array.isArray(t);if(!n&&!r)throw new Error("separation must be a string or string array");let i=(s,u)=>`
      > ${s} ${bp} {
        ${e?`margin-top: ${u}`:`margin-left: ${u}`};
        ${bp}
      }
    `,o=r?t:t.split(" ").filter(Boolean);if(o.length>1||r){let s=p=>p.startsWith("..."),u=o.filter(s);if(u.length>1)throw new Error("separation can only contain one rest operator");let l=o.findIndex(p=>s(p)),d=o.slice(0,l===-1?o.length:l),f=o.slice(l===-1?o.length:l+1);return[...u.map(p=>i("* + *",p.slice(3))),...f.map((p,h)=>i(`*:nth-last-child(${f.length-h})`,p)),...d.map((p,h)=>i(`*:first-child ${new Array(h+1).fill("+ *").join(" ")}`,p))].join(`
`)}return i("* + *",t)},Ap=(e,t)=>n=>t({...e,...n}),sc=dt([["column",()=>"flex-direction: column"],["reverse",{handler:({column:e})=>`flex-direction: ${e?"column":"row"}-reverse`}],["align",{default:"center",handler:({align:e})=>`align-items: ${e}; justify-content: ${e}`}],["xAlign",{default:"center",handler:({column:e,xAlign:t})=>e?`align-items: ${t}`:`justify-content: ${t}`}],["yAlign",{default:"center",handler:({column:e,yAlign:t})=>e?`justify-content: ${t}`:`align-items: ${t}`}],["separation",QC],["wrap",{default:"wrap",property:"flex-wrap"}]]),ZC=Ap({column:!1},sc),e_=Ap({column:!0},sc),vt=$(ft)`
  display: flex;
  ${sc}
`,t_=$(ft)`
  display: flex;
  ${ZC}
`,n_=$(ft)`
  display: flex;
  ${e_}
`;c();a();var r_=dt([["columns",{property:"grid-template-columns"}],["rows",{property:"grid-template-rows"}],["autoColumns",{property:"grid-auto-columns"}],["autoRows",{property:"grid-auto-rows"}],["columnGap",{property:"grid-column-gap"}],["rowGap",{property:"grid-row-gap"}],["gap",{property:"grid-gap"}],["xAlign",{property:"justify-items",default:"center"}],["yAlign",{property:"align-items",default:"center"}],["align",{property:"place-items",default:"center center"}]]),i_=$(ft)`
  display: grid;
  ${r_}
`;c();a();var o_=()=>Eu`
 0% {
   background: ${re.bgPrimInvBW};
 }
 33% {
  background: ${re.sfActElectricBlue};
 }
 66% {
  background: ${re.sfActElectricBlue};
 }
 100% {
  background: ${re.bgPrimInvBW};
 }
`,s_=dt([["color",{property:"color"}],["fontSize",{property:"font-size"}],["bold",()=>"font-weight: 700"],["semiBold",()=>"font-weight: 600"],["medium",()=>"font-weight: 500"],["regular",()=>"font-weight: 400"],["lineHeight",{property:"line-height"}],["fixedWidthNumbers",()=>"font-variant-numeric: tabular-nums"],["align",{property:"text-align",default:"center"}],["lowerCase",()=>"text-transform: lowercase"],["upperCase",()=>"text-transform: uppercase"],["capitalize",()=>"text-transform: capitalize"],["lineClamp",({lineClamp:e})=>`-webkit-line-clamp: ${e};
      display: -webkit-box;
      -webkit-box-orient: vertical;
      overflow: hidden;`],["letterSpacing",({letterSpacing:e})=>`letter-spacing: ${e}`]]),Ue=$(ft)`
  font-family: ${({fontFamily:e})=>e??"ABCDiatype"};
  color: ${({color:e})=>e??re.icnTxtPrim};
  ${s_}
`.withComponent("span"),pq=$(Ue)`
  color: ${()=>re.icnTxtPrim};
`,hq=$(Ue)`
  color: ${({color:e})=>e??re.icnTxtSec};
`,mq=$(Ue)`
  color: #6a6a6a;
`,gq=$(Ue)`
  color: ${({color:e})=>e??"#4c4c4c"};
`,Eq=e=>preactH(Ue,{fontSize:"1.2em",bold:!0,...e}),yq=Ue.withComponent("h1"),Tq=$(Ue)`
  cursor: pointer;
  color: ${({color:e})=>e??re.icnTxtPrim};
  text-decoration: none;
`.withComponent("a"),ac=$.span`
  width: 6px;
  height: 6px;
  border-radius: 100%;

  background: ${re.sfActElectricBlue};
  animation: ${o_} 1.2s infinite;

  &:nth-of-type(2) {
    animation-delay: -0.8s;
  }

  &:nth-of-type(3) {
    animation-delay: -1.6s;
  }
`,Sq=({duration:e,...t})=>e.isLoading===!0?preactH(vt,{separation:"6px",padding:"6px"},preactH(ac,null),preactH(ac,null),preactH(ac,null)):preactH(Ue,{...t},tu("short")(e.duration));c();a();var hy=K(xp()),my=K(uy());c();a();var yo=(A=>(A.APPLY_TO_SPEECHIFY="apply-to-speechify",A.AUDIO_VISUAL_CTA="audio-visual-cta",A.CANVAS_NOTIFICATION="canvas-notification",A.CHECKLIST="checklist",A.CHECKLIST_REMINDER="checklist-reminder",A.CLICK_TO_LISTEN="click-to-listen",A.CLICK_TO_LISTEN_HINTS="click-to-listen-hints",A.CONTINUE_FREE="continue-free",A.DESKTOP_FEEDBACK_CSAT="desktop-feedback-csat",A.EXTENSION_PIN_REMINDER="remind-users-to-pin-the-extension",A.FEEDBACK_CSAT="feedback-csat",A.FEEDBACK_FORM="feedback-form",A.FOCUS_MODE_BLOCKED="focus-mode-blocked",A.FORCE_LOGIN="force-login",A.GDOCS_HIGHLIGHTING="gdocs-highlight-unsupported",A.GDOCS_SCROLL_RECOMMEND="recommend-scroll",A.GDOCS_SCROLL_TO_SHARE="gdocs-scroll-to-share",A.GET_MOBILE_APP="get-mobile-app-notification",A.HOVER_PLAYER="hover-player",A.HOVER_PLAYER_HINTS="hover-player-hints",A.HTTP_HIGHLIGHTING="http-highlight-unsupported",A.INDIVIDUAL_POST_BUTTON_HINT="individual-post-button-hint",A.INTRODUCE_AI_AUTOPLAY="introduce-ai-autoplay",A.INTRODUCE_AI_BUTTON="introduce-ai-button",A.LISTEN_HISTORY_INFO="listen-history-info",A.LISTEN_HISTORY_SHOW_ITEM="listen-history-item",A.NO_CLIENT_VOICES="no-client-voices",A.ONE_CLICK_UPSELL="one-click-upsell",A.PLAY_SELECTION_MOBILE="play-selection-mobile",A.PLAYER_ERROR="player-error",A.PLAYER_MESSAGE="player-message",A.PILL_PLAYER_ERROR="pill_player-error",A.PILL_PLAYER_OCR_RECOMMENDATION="pill_player-ocr-recommendation",A.REACHED_PREMIUM_WORDS_LIMIT="reached-premium-words-limit",A.SALIENCE="salience",A.SALIENCE_CSAT="salience-csat",A.SAVED_TO_LIBRARY="saved-to-library",A.SCREENSHOT_RECOMMENDATION="screenshot-recommendation",A.SHARE_PROMPT="share-prompt",A.STILL_LISTENING="still-listening",A.SUBSCRIPTION_EXPIRED="subscription-expired",A.SUMMARIZATION_FEEDBACK_CSAT="summarization-feedback-csat",A.SUMMARIZATION_RECOMMENDATION="summarization-recommendation",A.SWITCH_TO_FREE_FAIL="switch-to-free-failure",A.TRIAL_END="trial-end",A.TRIAL_REFRESH="trial-refresh",A.TRIAL_START="trial-start",A.TRIAL_START_COMBINED="trial-start-combined",A.TRIAL_UPGRADE="trial-upgrade",A))(yo||{}),Rx=["feedback-csat","saved-to-library","play-selection-mobile"],Lx=["apply-to-speechify","canvas-notification","continue-free","desktop-feedback-csat","feedback-form","focus-mode-blocked","gdocs-highlight-unsupported","get-mobile-app-notification","http-highlight-unsupported","individual-post-button-hint","introduce-ai-autoplay","no-client-voices","one-click-upsell","player-message","reached-premium-words-limit","saved-to-library","screenshot-recommendation","summarization-feedback-csat","summarization-recommendation","switch-to-free-failure","trial-end","trial-refresh","trial-start","trial-upgrade"];function ly(e){return t=>e.includes(t)}var g$=ly(Rx),E$=ly(Lx);var gy=(s=>(s[s.PRIVILEGED=151]="PRIVILEGED",s[s.ERROR=150]="ERROR",s[s.HINT=101]="HINT",s[s.HIGH=100]="HIGH",s[s.MEDIUM=50]="MEDIUM",s[s.LOW=0]="LOW",s))(gy||{}),To=ye({events:["dispatched","cleared","queued"]}),{on:b$,off:A$}=To;var So=Zc("notif-analytics",{getInitialState:async()=>({})}),$t=new hy.Store({queue:new Array,current:null,timeout:null},"NotifStore"),dy=e=>{let t=Math.max(...e.map(n=>n.priority??0));return e.filter(n=>n.priority===t).shift()},Ey=()=>{$t.set(({current:e,lastDisplayedNotifId:t})=>({current:null,timeout:null,lastDisplayedNotifId:e?.id??t}),"end-notification"),Do()},Fx=e=>{$t.replace(t=>({...t,queue:t.queue.filter(n=>n.id!==e)}),"cancel-notification")},kx=async e=>{await So.set(e,t=>({...t,displayCount:(t?.displayCount??0)+1,lastDisplayedAt:Date.now()}))},Mx=async e=>{await So.set(e,t=>({...t,queuedCount:(t?.queuedCount??0)+1}))},P$=async e=>{await So.set(e,t=>({...t,dismissedByUser:!0}))},Lc=(e,t=!1)=>b("/notification/schedule-next-notification-check",{afterMilliseconds:e,unset:t}),fy=async e=>{e&&($t.replace(t=>({...t,queue:t.queue.filter(n=>n.id!==e.id),current:e,timeout:e.duration?Lc(e.duration,!0):null}),"display-notification"),To.emit("dispatched",e),await kx(e.id))},py=36e5,Ux=6e4,Bx=100,Do=async(e=!1)=>{let{current:t,lastDisplayedNotifId:n,queue:r}=$t.get();if(e){Ey();return}if(t)return;let[i,o]=(0,my.default)(r,["timeSensitive",!0]),s=dy(i)??dy(o);if(!s)return;if(s.priority===151||s.priority===150||s.priority===101){fy(s);return}if(n){let{lastDisplayedAt:l}=await Gx(n),d=Date.now()-(l??0);if(d<py){let f=py-d;Lc(f);return}}await bl("session")>Bx||s.id==="screenshot-recommendation"?fy(s):Lc(Ux)},Nn=async e=>{let{current:t}=$t.get();e&&t&&t.id!==e?Fx(e):Ey(),To.emit("cleared",t)},yy=async e=>{let t={component:e.component??!1,duration:e.duration??3e3,global:e.global??!1,priority:e.priority??0,...e};$t.set(r=>({queue:[...r.queue,t]}),"queue-notification"),To.emit("queued",t),await Mx(t.id);let{isDisplaying:n}=Hx();n||queueMicrotask(Do)},Hx=()=>$t.get(),Gx=async e=>await So.get(e)??{displayCount:0,queuedCount:0,dismissedByUser:!1,lastDisplayedAt:0};c();a();c();a();c();a();var Fc=(E=>(E.ACCESSIBILITY_SETTINGS="ACCESSIBILITY_SETTINGS",E.AI_SUMMARY="AI_SUMMARY",E.AUTOMATIC_PLAYBACK_SPEED_RAMPUP_SWITCH="AUTOMATIC_PLAYBACK_SPEED_RAMPUP_SWITCH",E.AUTOMATIC_PLAYBACK_SPEED_UP_SWITCH="AUTOMATIC_PLAYBACK_SPEED_UP_SWITCH",E.BASIC_PLAN_CURRENT_PLAN="BASIC_PLAN_CURRENT_PLAN",E.CANCEL_TURNOFF="CANCEL_TURNOFF",E.CLOSE_SETTINGS_WINDOW="CLOSE_SETTINGS_WINDOW",E.CURRENT_TIME="CURRENT_TIME",E.REMAIN_TIME="REMAIN_TIME",E.DISABLED_WEBSITES_LIST="DISABLED_WEBSITES_LIST",E.DURATION="DURATION",E.DURATION_HOURS="DURATION IN HOURS",E.DURATION_MINS="DURATION IN MINS",E.DURATION_SECS="DURATION IN SECS",E.EDIT_PROFILE="EDIT_PROFILE",E.EMBED_PLAYER_PLAY_BUTTON="EMBED_PLAYER_PLAY_BUTTON",E.FORWARD="FORWARD",E.GENERAL_SETTINGS="GENERAL_SETTINGS",E.GLOBAL_SETTING_AUTO_SCROLL_TAB="GLOBAL_SETTING_AUTO_SCROLL_TAB",E.GLOBAL_SETTING_CLICK_TO_LISTEN_TAB="GLOBAL_SETTING_CLICK_TO_LISTEN_TAB",E.GLOBAL_SETTING_HOVER_TO_LISTEN_TAB="GLOBAL_SETTING_HOVER_TO_LISTEN_TAB",E.GLOBAL_SETTING_PLAY_BUTTONS="GLOBAL_SETTING_PLAY_BUTTONS",E.GLOBAL_SETTING_TEXT_HIGHLIGHTING_TAB="GLOBAL_SETTING_TEXT_HIGHLIGHTING_TAB",E.GLOBAL_SETTINGS_KEYBOARD_SHORTCUTS_TAB="GLOBAL_SETTINGS_KEYBOARD_SHORTCUTS_TAB",E.GLOBAL_SETTINGS_ACCESSIBILITY_TAB="GLOBAL_SETTINGS_ACCESSIBILITY_TAB",E.GO_TO_SETTINGS="GO_TO_SETTINGS",E.HIDE_FEATURE_BANNER_BUTTON="HIDE_FEATURE_BANNER_BUTTON",E.HIDE_LISTENING_BAR="HIDE_LISTENING_BAR",E.HIDE_PLAYER="HIDE_PLAYER",E.HOST_SETTINGS_TAB_HEADING="HOST_SETTINGS_TAB_HEADING",E.HOST_WEBSITE="HOST_WEBSITE",E.HOVER_PLAYER="HOVER_PLAYER",E.HOVER_PLAYER_BUTTON="HOVER_PLAYER_BUTTON",E.INSERT_AUDIO_BUTTON="INSERT_AUDIO_BUTTON",E.INSTRUCTIONS_TO_TURN_ON_SPEECHIFY="INSTRUCTIONS_TO_TURN_ON_SPEECHIFY",E.KEYBOARD_SHORTCUTS="KEYBOARD_SHORTCUTS",E.LISTENING_BAR_MORE="LISTENING_BAR_MORE",E.LISTENING_BAR_SUMMARIZE="LISTENING_BAR_SUMMARIZE",E.LISTENING_BAR_SAVE_TO_LIBRARY="LISTENING_BAR_SAVE_TO_LIBRARY",E.LISTENING_NUDGE_DISMISS="LISTENING_NUDGE_DISMISS",E.LOGO="LOGO",E.MAXIMIZER_MENU_BUTTON="MAXIMIZER_MENU_BUTTON",E.MINIMIZER_MENU_BUTTON="MINIMIZER_MENU_BUTTON",E.NOTIFICATION_TO_DISABLE_ALL_SPEECHIFY_FEATURES="NOTIFICATION_TO_DISABLE_ALL_SPEECHIFY_FEATURES",E.OCR_ICON="OCR_ICON",E.OPEN_WEBAPP="OPEN_WEBAPP",E.PAUSE_BUTTON="PAUSE_BUTTON",E.PAYWALL_BUTTON="PAYWALL_BUTTON",E.PILL_PLAYER="PILL_PLAYER",E.PILL_PLAYER_PAUSE_BUTTON="PILL_PLAYER_PAUSE_BUTTON",E.PILL_PLAYER_PLAY_BUTTON="PILL_PLAYER_PLAY_BUTTON",E.PILL_PLAYER_REPEAT_ICON="PILL_PLAYER_REPEAT_ICON",E.PILL_PLAYER_SETTINGS="PILL_PLAYER_SETTINGS",E.PILL_PLAYER_TURN_OFF_SPEECHIFY_BUTTON="PILL_PLAYER_TURN_OFF_SPEECHIFY_BUTTON",E.PILL_PLAYER_UPGRADE_TO_PREMIUM_BUTTON="PILL_PLAYER_UPGRADE_TO_PREMIUM_BUTTON",E.PLAY_BUTTON="PLAY_BUTTON",E.REPLAY_BUTTON="REPLAY_BUTTON",E.PLAYBACK_SPEED_MENU_BUTTON="PLAYBACK_SPEED_MENU_BUTTON",E.PLAYBACK_SPEED_SEEKLINE="PLAYBACK_SPEED_SEEKLINE",E.PLAYER_LOADING="PLAYER_LOADING",E.POWER_OFF="POWER_OFF",E.PREMIUM_PLAN_CURRENT_PLAN="PREMIUM_PLAN_CURRENT_PLAN",E.PREMIUM_PLAN_DETAILS="PREMIUM_PLAN_DETAILS",E.PROFILE_SECTION="PROFILE_SECTION",E.REENABLE_AUTOSCROLL_BUTTON="REENABLE_AUTOSCROLL_BUTTON",E.REPORT_A_PROBLEM="REPORT_A_PROBLEM",E.REWIND="REWIND",E.SAVE_TO_LIBRARY="SAVE_TO_LIBRARY",E.SEEKBAR="SEEKBAR",E.SELECTED_VOICE_BUTTON="SELECTED_VOICE_BUTTON",E.SIDEBAR_UPGRADE_TO_PREMIUM_BUTTON="SIDEBAR_UPGRADE_TO_PREMIUM_BUTTON",E.SIGN_OUT="SIGN_OUT",E.SKIP_SENTENCE_BACKWARD="SKIP_SENTENCE_BACKWARD",E.SKIP_SENTENCE_FORWARD="SKIP_SENTENCE_FORWARD",E.SPEECHIFY_TURNED_OFF_NOTIFICATION="SPEECHIFY_TURNED_OFF_NOTIFICATION",E.SUBSCRIPTION_SECTION="SUBSCRIPTION_SECTION",E.TEXT_HIGHLIGHTING_BANNER_DESCRIPTION="TEXT_HIGHLIGHTING_BANNER_DESCRIPTION",E.TEXT_HIGHLIGHTING_TOGGLE_OFF="TEXT_HIGHLIGHTING_TOGGLE_OFF",E.TEXT_HIGHLIGHTING_TOGGLE_ON="TEXT_HIGHLIGHTING_TOGGLE_ON",E.TEXT_HIGHLIGHTING_TOGGLE_SWITCH="TEXT_HIGHLIGHTING_TOGGLE_SWITCH",E.TURN_OFF_ACKNOWLEDGE_AND_CLOSE="TURN_OFF_ACKNOWLEDGE_AND_CLOSE",E.TURN_ON_SPEECHIFY_GIF="TURN_ON_SPEECHIFY_GIF",E.TURNOFF_SPEECHIFY_GIF="TURNOFF_SPEECHIFY_GIF",E.TURNOFF_SPEECHIFY_WINDOW_CLOSE_BUTTON="TURNOFF_SPEECHIFY_WINDOW_CLOSE_BUTTON",E.UPLOAD_DOCUMENT="UPLOAD_DOCUMENT",E.UPLOAD_DOCUMENT_AND_VIEW_LIBRARY="UPLOAD_DOCUMENT_AND_VIEW_LIBRARY",E.VIEW_LIBRARY="VIEW_LIBRARY",E.GLOBAL_SETTINGS_PLAYER_VISIBILITY_TAB="GLOBAL_SETTINGS_PLAYER_VISIBILITY_TAB",E.VOICE_MENU_BUTTON="VOICE_MENU_BUTTON",E.VOICE_SEARCH_INPUT="VOICE_SEARCH_INPUT",E.VOICE_SELECT_BUTTON="VOICE_SELECT_BUTTON",E.WHAT_IS_TEXT_HIGHLIGHTING="WHAT_IS_TEXT_HIGHLIGHTING",E.KINDLE_LISTEN_NUDGE="KINDLE_LISTEN_NUDGE",E.KINDLE_POWER_BUTTON="KINDLE_POWER_BUTTON",E.KINDLE_LISTEN_TEXT="KINDLE_LISTEN_TEXT",E.KINDLE_PLAY_BUTTON="KINDLE_PLAY_BUTTON",E.KINDLE_PAUSE_BUTTON="KINDLE_PAUSE_BUTTON",E.KINDLE_LOADING_BUTTON="KINDLE_LOADING_BUTTON",E))(Fc||{}),Vx={ACCESSIBILITY_SETTINGS:"Accessibility tab , Select to Change font and font size",AI_SUMMARY:"AI Summary",AUTOMATIC_PLAYBACK_SPEED_RAMPUP_SWITCH:"Speechify automatic playback speed rampup switch",AUTOMATIC_PLAYBACK_SPEED_UP_SWITCH:"Speechify automatic playback speed up switch",BASIC_PLAN_CURRENT_PLAN:"Basic plan, current plan",CANCEL_TURNOFF:"Cancel Turning Off",CLOSE_SETTINGS_WINDOW:"Close Settings window",CURRENT_TIME:"Speechify current time",DISABLED_WEBSITES_LIST:"List of websites where Speechify is disabled","DURATION IN HOURS":"Speechify duration in hours","DURATION IN MINS":"Speechify duration in mins","DURATION IN SECS":"Speechify duration in secs",DURATION:"Speechify duration",EDIT_PROFILE:"Edit profile",EMBED_PLAYER_PLAY_BUTTON:"Speechify Listening Bar Play button",FORWARD:"Speechify go forward",GENERAL_SETTINGS:"Speechify General settings",GLOBAL_SETTING_AUTO_SCROLL_TAB:"Global Setting Auto Scroll. Select to open Auto Scroll global settings window",GLOBAL_SETTING_CLICK_TO_LISTEN_TAB:"Global Setting Click to Listen. Select to open Click to Listen global settings window",GLOBAL_SETTING_HOVER_TO_LISTEN_TAB:"Global Setting Hover to Listen. Select to open Hover to Listen global settings window",GLOBAL_SETTING_PLAY_BUTTONS:"Global Setting :Play Buttons. Select to Customize Play Buttons Configurations for websites",GLOBAL_SETTING_TEXT_HIGHLIGHTING_TAB:"Global Setting Text Highlighting. Select to open Text Highlighting global settings window",GLOBAL_SETTINGS_KEYBOARD_SHORTCUTS_TAB:"Keyboard Shortcuts. Select to enable-disable shortcuts for speechify extension",GLOBAL_SETTINGS_ACCESSIBILITY_TAB:"Accessibility tab , Select to Change font and font size",GO_TO_SETTINGS:"Go to Settings",HIDE_FEATURE_BANNER_BUTTON:"Hide feature Banner Button",HIDE_LISTENING_BAR:"Hide Listening Bar Button",HIDE_PLAYER:"Hide Player Button. Select to Hide the Player from the current website",HOST_SETTINGS_TAB_HEADING:"Settings window for",HOST_WEBSITE:"Open local settings for",HOVER_PLAYER_BUTTON:"Speechify Inline player play button",HOVER_PLAYER:"Speechify Inline player",INSERT_AUDIO_BUTTON:"Speechify insert audio link",INSTRUCTIONS_TO_TURN_ON_SPEECHIFY:"Instructions: To turn Speechify back on, click the extension icon in your browser's toolbar",KEYBOARD_SHORTCUTS:"Keyboard Shortcuts. Select to enable-disable shortcuts for speechify extension",LISTENING_BAR_MORE:"Speechify Listening Bar More button",LISTENING_BAR_SUMMARIZE:"Speechify Listening Bar Summarize button",LISTENING_BAR_SAVE_TO_LIBRARY:"Speechify Listening Bar Save to Library button",LISTENING_NUDGE_DISMISS:"Speechify nudge dismiss",LOGO:"Speechify logo",MAXIMIZER_MENU_BUTTON:"Speechify maximizer",MINIMIZER_MENU_BUTTON:"Speechify minimizer",NOTIFICATION_TO_DISABLE_ALL_SPEECHIFY_FEATURES:"You are about to disable all Speechify features for this site. To turn off specific features, please use the Settings",OCR_ICON:"Capture Screenshot button , shortcut Alt + R",OPEN_WEBAPP:"Speechify open web app",PAUSE_BUTTON:"Speechify pause button",PAYWALL_BUTTON:"Try Speechify for free button",PILL_PLAYER_PAUSE_BUTTON:"Speechify Side Player Pause button",PILL_PLAYER_PLAY_BUTTON:"Speechify Side Player Play button",PILL_PLAYER_REPEAT_ICON:"Speechify Side Player Repeat Audio button",PILL_PLAYER_SETTINGS:"Speechify Side Player Settings",PILL_PLAYER_TURN_OFF_SPEECHIFY_BUTTON:"Turn Off Speechify button",PILL_PLAYER_UPGRADE_TO_PREMIUM_BUTTON:"Upgrade to Premium button",PILL_PLAYER:"Speechify Side Player",PLAY_BUTTON:"Speechify play button",PLAYBACK_SPEED_MENU_BUTTON:"Speechify playback speed menu",PLAYBACK_SPEED_SEEKLINE:"Speechify playback speed seekline",PLAYER_LOADING:"Speechify Player Loading",POWER_OFF:"Speechify power off",PREMIUM_PLAN_CURRENT_PLAN:"Premium plan, current plan",PREMIUM_PLAN_DETAILS:"Premium plan details",PROFILE_SECTION:"Profile section",REENABLE_AUTOSCROLL_BUTTON:"Re-enable auto scroll button",REPORT_A_PROBLEM:"Report a Problem with Speechify App",REWIND:"Speechify go backwards",SAVE_TO_LIBRARY:"Save to library button, shortcut Alt + S",SEEKBAR:"Speechify seek",SELECTED_VOICE_BUTTON:"Speechify selected voice",SIDEBAR_UPGRADE_TO_PREMIUM_BUTTON:"Sidebar Upgrade to Premium button",SIGN_OUT:"Sign out",SKIP_SENTENCE_BACKWARD:"Skip the sentence backward",SKIP_SENTENCE_FORWARD:"Skip the sentence forward",SPEECHIFY_TURNED_OFF_NOTIFICATION:"Notification: Speechify has been turned off for <website name>",SUBSCRIPTION_SECTION:"Subscription section",TEXT_HIGHLIGHTING_BANNER_DESCRIPTION:"It Highlights text as you listen, allows you to focus on spoken text, improves your comprehension and helps you read more without distraction",TEXT_HIGHLIGHTING_TOGGLE_OFF:"Text highlighting Switch Toggled off",TEXT_HIGHLIGHTING_TOGGLE_ON:"Text highlighting Switch Toggled on",TEXT_HIGHLIGHTING_TOGGLE_SWITCH:"Toggle switch for Text Highlighting",TURN_OFF_ACKNOWLEDGE_AND_CLOSE:"Acknowledge and close notification for Turning on Speechify extension",TURN_ON_SPEECHIFY_GIF:"Gif Animation showing how to turn Speechify extension back on",TURNOFF_SPEECHIFY_GIF:"Gif Animation showing how to turn Speechify extension off",TURNOFF_SPEECHIFY_WINDOW_CLOSE_BUTTON:"TurnOff Speechify window Close button",UPLOAD_DOCUMENT_AND_VIEW_LIBRARY:"Upload document and View library",UPLOAD_DOCUMENT:"Upload document to Library",VIEW_LIBRARY:"View Library",GLOBAL_SETTINGS_PLAYER_VISIBILITY_TAB:"Player Visibility settings tab , Select to toggle Side Player and Listening Bar Visibility",VOICE_MENU_BUTTON:"Speechify voice menu",VOICE_SEARCH_INPUT:"Speechify voice search input",VOICE_SELECT_BUTTON:(e="")=>`Speechify${e?` ${e}`:""} voice select button`,WHAT_IS_TEXT_HIGHLIGHTING:"What is Text Highlighting",REMAIN_TIME:"Remain time",REPLAY_BUTTON:"Replay button",KINDLE_LISTEN_NUDGE:"Kindle listen nudge button",KINDLE_POWER_BUTTON:"Kindle power off icon",KINDLE_LISTEN_TEXT:"Kindle Listen label",KINDLE_PLAY_BUTTON:"Kindle Play button",KINDLE_PAUSE_BUTTON:"Kindle Pause button",KINDLE_LOADING_BUTTON:"Kindle Loading button"},Ty=e=>Vx[e];c();a();var Sy={LISTENING_BAR_MORE_BUTTON:"Listening Bar More Button",LISTENING_BAR_HIDE_BUTTON:"Listening Bar Hide button",AUTOMATIC_PLAYBACK_SPEED_RAMPUP_SWITCH:"Speechify automatic playback speed rampup switch",CURRENT_TIME:"Speechify current time",REMAIN_TIME:"Speechify remain time",DURATION:"Speechify duration",DURATION_HOURS:"Speechify duration in hours",DURATION_MINS:"Speechify duration in mins",DURATION_SECS:"Speechify duration in secs",FORWARD:"Speechify go forward",INSERT_AUDIO_BUTTON:"Speechify insert audio link",LISTENING_BAR_SUMMARIZE:"Speechify Listening Bar Summarize",LISTENING_BAR_SAVE_TO_LIBRARY:"Speechify Listening Bar Save to Library",LISTENING_NUDGE_DISMISS:"Speechify nudge dismiss",LOGO:"Speechify logo",MAXIMIZER_MENU_BUTTON:"Speechify maximizer",MINIMIZER_MENU_BUTTON:"Speechify minimizer",OPEN_WEBAPP:"Speechify open web app",PAUSE_BUTTON:"Speechify pause button",PLAY_BUTTON:"Speechify play button",REPLAY_BUTTON:"Speechify replay button",PLAYBACK_SPEED_MENU_BUTTON:"Speechify playback speed menu",PLAYBACK_SPEED_PANEL_SPEED_VALUE:"[Speed Panel] : Playback Speed",PLAYBACK_SPEED_SEEKLINE:"Speechify playback speed seekline",POWER_OFF:"Speechify power off",REWIND:"Speechify go backwards",SEEKBAR:"Speechify seek",SELECTED_VOICE_BUTTON:"Speechify selected voice",AUTOMATIC_PLAYBACK_SPEED_UP_SWITCH:"Speechify automatic playback speed up switch",VOICE_MENU_BUTTON:"Speechify voice menu",VOICE_SEARCH_INPUT:"Speechify voice search input",VOICE_SELECT_BUTTON:(e="")=>`Speechify${e?` ${e}`:""} voice select button`,EMBED_PLAYER_PLAY_BUTTON:"Speechify Embedded Player Play button",HOVER_PLAYER_BUTTON:"Speechify Hover player play button",HOVER_PLAYER:"Speechify Hover player",PILL_PLAYER:"Speechify Pill Player",PILL_PLAYER_PLAY_BUTTON:"Speechify Pill Player Play button",PILL_PLAYER_PAUSE_BUTTON:"Speechify Pill Player Pause button",PILL_PLAYER_REPEAT_ICON:"Speechify Pill Player Repeat button",PLAYER_LOADING:"Speechify Player Loading",SKIP_SENTENCE_BACKWARD:"Skip the sentence backward",SKIP_SENTENCE_FORWARD:"Skip the sentence forward",OCR_ICON:"Capture Screenshot button , shortcut Alt + R",SAVE_TO_LIBRARY:"Save to library button, shortcut Alt + S",REPORT_A_PROBLEM:"Report a Problem with Speechify App",UPLOAD_DOCUMENT_AND_VIEW_LIBRARY:"Upload document and View library",UPLOAD_DOCUMENT:"Upload document to Library",VIEW_LIBRARY:"View Library",PILL_PLAYER_SETTINGS:"Speechify Pill Player Settings",PILL_PLAYER_TURN_OFF_SPEECHIFY_BUTTON:"Pill player Turn Off Speechify button",GMAIL_PLAY_BUTTON:"Gmail Compose small play button",GMAIL_PAUSE_BUTTON:"Gmail Compose small pause button",REENABLE_AUTOSCROLL_BUTTON:"Re-enable auto scroll button",GENERAL_SETTINGS:"Speechify General settings",HOST_WEBSITE_SETTINGS:"Open local settings for",HOST_SETTINGS_TAB_HEADING:"Settings window for",CLOSE_SETTINGS_WINDOW:"Close Settings window",PROFILE_SECTION:"Profile section",EDIT_PROFILE:"Edit profile",SUBSCRIPTION_SECTION:"Subscription section",PREMIUM_PLAN_CURRENT_PLAN:"Premium plan, current plan",BASIC_PLAN_CURRENT_PLAN:"Basic plan, current plan",PREMIUM_PLAN_DETAILS:"Premium plan details",PILL_PLAYER_UPGRADE_TO_PREMIUM_BUTTON:"Upgrade to Premium button",SIDEBAR_UPGRADE_TO_PREMIUM_BUTTON:"Sidebar Upgrade to Premium button",GLOBAL_SETTINGS_PLAYER_VISIBILITY_TAB:"Global Settings : Player Visibility",DISABLED_WEBSITES_LIST:"List of websites where Speechify is disabled",DELETE_BUTTON:"Delete button to enable website",SIGN_OUT:"Sign out",LOGIN_SIGNIN_PROMPT:"SigninPrompt-Login",SIGNUP_SIGNIN_PROMPT:"SigninPrompt-SignUpButton",GLOBAL_SETTING_PLAY_BUTTONS:"Global Setting : Play Buttons",GLOBAL_SETTINGS_KEYBOARD_SHORTCUTS_TAB:"Global Setting : Keyboard Shortcuts",GLOBAL_SETTINGS_ACCESSIBILITY_TAB:"Global Setting : Accessibility tab",TURNOFF_SPEECHIFY_WINDOW_CLOSE_BUTTON:"TurnOff Speechify window Close button",NOTIFICATION_TO_DISABLE_ALL_SPEECHIFY_FEATURES:"Notification:Disable all Speechify features",TURNOFF_SPEECHIFY_GIF:"Gif Animation showing how to turn Speechify extension off",GO_TO_SETTINGS:"Go to Settings",CANCEL_TURNOFF:"Cancel Turning Off",HIDE_PLAYER:"Turn Off Speechify",GOT_IT:"Got it. Player Hidden Confirmation",SPEECHIFY_TURNED_OFF_NOTIFICATION:"Notification: Speechify has been turned off for <website name>",INSTRUCTIONS_TO_TURN_ON_SPEECHIFY:"Instructions: To turn Speechify back on, click the extension icon in your browser's toolbar",TURN_ON_SPEECHIFY_GIF:"Gif Animation showing how to turn Speechify extension back on",TURN_OFF_ACKNOWLEDGE_AND_CLOSE:"Acknowledge and close notification for Turning on Speechify extension",GLOBAL_SETTING_TEXT_HIGHLIGHTING_TAB:"Global Setting : Text Highlighting",GLOBAL_SETTING_CLICK_TO_LISTEN_TAB:"Global Setting : Click to Listen",GLOBAL_SETTING_HOVER_TO_LISTEN_TAB:"Global Setting : Hover to Listen",GLOBAL_SETTING_AUTO_SCROLL_TAB:"Global Setting : Auto Scroll",WHAT_IS_TEXT_HIGHLIGHTING:"What is Text Highlighting",TEXT_HIGHLIGHTING_BANNER_DESCRIPTION:"It Highlights text as you listen, allows you to focus on spoken text, improves your comprehension and helps you read more without distraction",TEXT_HIGHLIGHTING_TOGGLE_SWITCH:"Toggle switch for Text Highlighting",TEXT_HIGHLIGHTING_TOGGLE_ON:"Text highlighting Switch Toggled on",TEXT_HIGHLIGHTING_TOGGLE_OFF:"Text highlighting Switch Toggled off",HIDE_FEATURE_BANNER_BUTTON:"Hide feature Banner Button",TOGGLE_GLOBAL_FEATURE_SWITCH:"Toggle Global Feature Switch",FEATURE_SWITCH:"Feature Switch",KINDLE_LISTEN_NUDGE:"Listen button on Kindle",KINDLE_POWER_BUTTON:"Kindle power off icon",KINDLE_LISTEN_TEXT:"Kindle Listen label",KINDLE_PLAY_BUTTON:"Kindle play button",KINDLE_PAUSE_BUTTON:"Kindle pause button",KINDLE_LOADING_BUTTON:"Kindle loading button",GOOGLE_ABOUT_PLAY_BUTTON:"Google About Play Button",AI_SUMMARY:"AI Summary"};var Dy=e=>preactH("svg",{"aria-label":Ty(Fc.CLOSE_WINDOW),"data-testid":Sy.CLOSE_WINDOW,width:"16",height:"16",viewBox:"0 0 16 16",fill:re.bgPrimInvBW,...e},preactH("path",{d:"M2.82191 11.9313C2.61879 12.1344 2.61098 12.4782 2.82191 12.6813C3.02504 12.8923 3.36879 12.8844 3.57191 12.6813L7.7516 8.50163L11.9313 12.6813C12.1344 12.8844 12.4782 12.8923 12.6813 12.6813C12.8922 12.4782 12.8844 12.1344 12.6813 11.9313L8.5016 7.75163L12.6813 3.56413C12.8844 3.36101 12.8922 3.02507 12.6813 2.82194C12.4782 2.61101 12.1344 2.61882 11.9313 2.82194L7.7516 7.00163L3.57191 2.82194C3.36879 2.61882 3.02504 2.61101 2.82191 2.82194C2.61098 3.02507 2.61879 3.36101 2.82191 3.56413L7.0016 7.75163L2.82191 11.9313Z"}));var Cy=({removeNotification:e,children:t})=>preactH(Wx,null,t,preactH(qx,{onClick:e})),Wx=$(vt)``,qx=$(Dy)`
  position: absolute;
  top: 8px;
  right: 8px;
  cursor: pointer;
`;var Yx=$(vt)`
  display: flex;
  justify-content: center;
  gap: 8px;
  filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));
  background: ${re.sfPrimCta};
  color: ${re.icnTxtPrimInv};
  padding: 8px 16px;
  font-size: 14px;
  border: none;
  outline: none;
  border-radius: 4px;
  cursor: pointer;
`.withComponent("button"),zx=({onClick:e,removeNotification:t,content:n,buttonText:r})=>preactH(Cy,{removeNotification:t},preactH(vt,{column:!0,separation:"16px"},preactH(Ue,{fontSize:"14px"},n),preactH(Yx,{onClick:e,xAlign:"center"},preactH(Ue,{fontSize:"14px"},r)))),_y=({onClick:e,content:t,buttonText:n})=>{Nn("recommend-scroll"),yy({id:"recommend-scroll",priority:151,timeSensitive:!0,showOnMobile:!1,duration:0,render:({dismiss:r})=>preactH(zx,{content:t,buttonText:n,removeNotification:r,onClick:()=>{r(),e()}})})};var xy=K(Qt());c();a();c();a();var Kx=(e,t,n)=>{let r=e.querySelector(t);if(!r)return()=>{};let i=new MutationObserver(o=>{n(e,o)});return i.observe(r,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["aria-label"]}),()=>{i.disconnect()}},vy=(e,t)=>{let n=to(),r=[],i=()=>{r.forEach(u=>u()),r=Fe().map(u=>Kx(u,e,t))},o=new MutationObserver(i);return o.observe(n,{childList:!0}),i(),()=>{o.disconnect()}};var Iy=K(nn()),wy=K(Qt());var Be=new Map,g4=()=>Be.clear(),by=async(e,t=0)=>{let{getParagraphContent:n,combineParagraphsContent:r}=Co(e),i=document.querySelector(e?.selectors?.scrollElement);return{getContent:async({index:o,abortSignal:s})=>{let u=ct();Py(Be);let l=kc(o);if(!l){if(Be.get(o))return Be.get(o);if(!l&&o<u&&!s.aborted){let h=Na();h&&h<o&&await Mf(o,s),await Ay(o,t,s),l=kc(o),!l&&!s.aborted&&(l=Fe().at(-1))}}if(s.aborted)return{content:[],chunksAfter:0,chunksBefore:0};if(Be.get(o)){let{content:h}=Be.get(o);if(h.every(S=>S.isConnected))return Be.get(o)}let d=l?Ct(l):[],f={content:d,chunksAfter:Math.max(0,u-o-1),chunksBefore:o};return r(d).length>0?Be.set(o,f):Be.delete(o),f},converter:(o,s)=>({text:n(o),ref:new Iy.ObjectRef({ref:o,chunkIndex:s,highlightInfo:{startOffset:0,scrollElement:i}})}),options:{sideEffects:!0,autoplay:!1,experimentalEdits:async function*(o){let s=()=>new Promise(u=>{let l=()=>{f(),u([])},d=(0,wy.debounce)((p,h)=>{let g=at(p),S=Be.get(g)?.content??[],C=U.getBundleState().cursor?.getParentElement().ref.value?.ref,w=C?no(C):null;if(S.length>0&&Be.delete(g),!(!w&&g!==0)){if(!C){f(),u(h);return}w&&at(w)===g&&(f(),u(h))}},500),f=vy(e.selectors.pageEditableElement,d);o.addEventListener("abort",l)});for(;!o.aborted;)yield await s()}},metadata:{source:"GDocsNudge"}}};var Ay=async(e,t,n)=>{await new Promise(async r=>{_y({content:e<t?"Google Docs needs to start reading from the first page. Start playback by clicking below.":"Google Docs needs the current reading page in view. Resume playback by clicking below.",buttonText:e<t?"Scroll To Top":"Scroll To Page",onClick:async()=>{await kf(e)}}),n.addEventListener("abort",()=>{Nn("recommend-scroll"),r()}),await Uf(e,n).then(()=>{Nn("pill_player-ocr-recommendation"),Nn("recommend-scroll"),r()})})},$x=e=>{let t=ct(),n=[];e.forEach((r,i)=>{i>=t&&n.push(i)}),n.forEach(r=>e.delete(r))},Py=e=>{let t=ct();$x(e),e.forEach((n,r)=>{e.set(r,{...n,chunksAfter:Math.max(0,t-r-1)})})},kc=e=>Fe().find(t=>at(t)===e),Co=e=>{let t=r=>r instanceof Node?Array.from(r.querySelectorAll(e?.selectors?.rect)).map(i=>i.ariaLabel).join(" "):"";return{getParagraphContent:t,combineParagraphsContent:r=>r.map(t).join(" ")}},b4=(0,xy.debounce)(async e=>{let t=await by(e);Gt(t,!0),ne.resetState()},50);var Ry=(e=Array.from(document.querySelectorAll('g[data-section-type="body"]')),t=!0)=>{let n="",r="",i=Array.from(e);for(let o of i){let s=Array.from(o.querySelectorAll("g rect"));if(s.length>0)if(s.length>=2&&!oc(s[0].getAttribute("aria-label")??"")&&parseFloat(s[0].getAttribute("width")??"")<10){r||(r="<ul>"),r+="<li>";for(let l of Oy(s))r+=`<span${t?Ny(l.font):""}>${l.text} </span>`;r+="</li>"}else{r&&(r+="</ul>"),n+=r,r="";let l=parseFloat(s[0].getAttribute("x")??"");n+=l&&t?`<p style="padding-left: ${l}px">`:"<p>";for(let d of Oy(s))n+=`<span${t?Ny(d.font):""}>${d.text} </span>`;n+="</p>"}}return n},Ny=e=>{if(e){let t=e.split(" ");if(t.length===3){let n=parseFloat(t[1]);return` style="font-weight: ${t[0]};${n<22?"":` font-size: ${Math.min(n,28)}px;`}"`}}return""},Oy=e=>e.map(n=>({font:n.getAttribute("data-font-css"),text:n.getAttribute("aria-label")})).filter(n=>oc(n.text??"")),M4=e=>new Promise(t=>{let n=setInterval(()=>{let r=on(e);r&&(clearInterval(n),t(r))},100)});function U4(){return window.location.hash.slice(1).split("&").reduce(function(e,t){let n=t.split("=");return e[n[0]]=n[1],e},{})}function B4(e){let{getParagraphContent:t}=Co(e),r=document.querySelector(".navigation-item.location-indicator-highlight .navigation-item-content-container")?.textContent,o=Fe().map(u=>Ct(u)).flat().find(u=>t(u)===r),{bundle:s}=U.getBundleState();if(s&&o){let u=s.listeningBundle.audioController.isPlaying;Hf(s,o),u||ne.pause()}}var It=ye({events:["change"]}),Mc=oe(e=>b("/library/get-item",{url:he()?ar():e}),{argsToKey:e=>e}),vo=oe(e=>Mc(e).then(t=>t?.isSaved).catch(()=>!1),{argsToKey:e=>e});It.on("change",({status:e})=>{e==="saving"&&(Mc.invalidateCache(),vo.invalidateCache())});var jx=new Date;function Xx(e){function t(i){if(i.nodeType===Node.TEXT_NODE)return{text:i.textContent||""};if(i.nodeType===Node.ELEMENT_NODE){let o=i,s={tagName:o.tagName,children:[],attributes:{}};for(let u of o.attributes)s.attributes[u.name]=u.value;for(let u of o.childNodes){let l=t(u);l&&s.children.push(l)}return s}return null}let r=new DOMParser().parseFromString(e,"text/html");return t(r.documentElement)}async function Jx(){let e=si();return e?e.map(t=>{let n=t.cloneNode(!0);return n.nodeType!==Node.TEXT_NODE&&as(n),n.outerHTML||""}).join(""):""}async function Qx(){return he()?Ry(void 0,!1):`<html><body>${await Jx()}</body></html>`}async function Zx(e=document){try{await It.emit("change",{status:"saving"});let t=await On();if(!t||t.isAnonymous){await It.emit("change",{status:"unsaved"}),window.open(Gn(`savetomobile/sign-in?extensionId=${browser.runtime.id}`,Oe.authUrl));return}let n=!!bd(e),r=new Date().getTime()-jx.getTime(),i=await Qx(),o=n?window.location.href.split("/")?.reverse()?.[0]??"PDF":document.title,s=he()?ar():window.location.href,u=Xx(i);return await b("/library/save",{title:o,sourceURL:s,isPDF:n,serializedHtml:u}),await It.emit("change",{status:"saved"}),{timeBeforeSave:r}}catch(t){throw await It.emit("change",{status:"failed"}),t}}var Ly=Zx;async function Fy(e){if((he()?ar():window.location.href)===e){let n=await b("/library/get-item",{url:e});It.emit("change",{status:n.isSaved?"saved":"unsaved"})}}async function ky(e){(he()?ar():window.location.href)===e&&It.emit("change",{status:"unsaved"})}var _o;It.on("change",({status:e})=>{_o=e});Dl(()=>{_o=void 0});async function Z4(){return Mc(window.location.href).then(({id:e})=>e)}async function ej(){return _o||vo(window.location.href).then(e=>e?"saved":"unsaved")}var xr=X("library",{save:async()=>{let e=await Ly();e&&jf({timeBeforeSave:e.timeBeforeSave,triggeredFrom:"Popup"})},"save-imported":({sourceURL:e})=>Fy(e),status:()=>vo(window.location.href).then(Vr("status")),remove:async({sourceURL:e})=>ky(e)});c();a();var Nr=X("location",{"url-changed":e=>Sl(e)});c();a();var Or=X("notification",{"get-next-notification":async({unset:e})=>Do(e)});c();a();var eN=ye({events:["consumed"]}),tN=ye({events:["updated"]}),Rr=X("player",{"get-status":()=>({status:U.getPlayingState()}),"notify-consumed-words":({wordsConsumed:e})=>{eN.emit("consumed",{wordsConsumed:e})},"notify-personal-voices-updated":({personalVoiceList:e=[]})=>{tN.emit("updated",{personalVoiceList:e})},"pause-playback":()=>{Zi(U.getPlayingState())&&ne.pause()}});c();a();c();a();var nN=yt(()=>({history:[]}));async function My(){let e=await b("/user-settings/get-voice-selection-history");nN.setState(t=>({...t,history:e}))}var Lr=X("user-settings",{update:async()=>{Mt.invalidateCache(),await te.emit("update",await J()),await My()},"get-client-voices":async()=>{let e=await cn();return Vr("voices")(e)},"update-web-app":async()=>{let{voice:e,playbackSpeed:t}=await J(!0),n=await b("/user-settings/get-voice-selection-history"),r={domain:"com.speechify.extension",fnName:"setVoiceSpeed",payload:{voice:e,history:n,playbackSpeed:t}},i=["https://app.speechify.com","https://dev.app.speechify.com","https://staging.app.speechify.com"],o=document.location.href;{let s=i.findIndex(u=>o.includes(u));s!==-1&&window.postMessage(r,i[s])}}});c();a();var Fr=X("tts",{"play-audio":async()=>{ur.toggleFeatureOnDomain("pill-player",!0),ne.play()},pause:async()=>{ne.pause()}});c();a();c();a();var Uy=K(Fo());Lo();var Uc=ye({events:["updateStatusChanged"]}),rN=async()=>b("/updates/get-update-status").then(e=>e.updateAvailable),Zj=async()=>b("/updates/update-extension"),e7=()=>{let[e,t]=Pt(!1),[n,r]=Pt(!0);return(0,Uy.useEffect)(()=>{rN().then(o=>{t(o)}).finally(()=>{r(!1)});let i=Uc.on("updateStatusChanged",({updateAvailable:o})=>{t(o)});return()=>{i()}},[]),{updateAvailable:e,isLoading:n}};var kr=X("updates",{"update-status-changed":async e=>{Uc.emit("updateStatusChanged",{updateAvailable:e})}});var Bc={[mr.prefix]:mr,[gr.prefix]:gr,[Er.prefix]:Er,[xr.prefix]:xr,[Nr.prefix]:Nr,[Or.prefix]:Or,[Rr.prefix]:Rr,[Lr.prefix]:Lr,[Fr.prefix]:Fr,[kr.prefix]:kr},T7={[mr.prefix]:mr.resolvers,[gr.prefix]:gr.resolvers,[Er.prefix]:Er.resolvers,[xr.prefix]:xr.resolvers,[Nr.prefix]:Nr.resolvers,[Or.prefix]:Or.resolvers,[Rr.prefix]:Rr.resolvers,[Lr.prefix]:Lr.resolvers,[Fr.prefix]:Fr.resolvers,[kr.prefix]:kr.resolvers};var Rn=K(Gy());var{handleFetch:aN,listen:F7}=(0,Rn.createHermes)({transport:{fetch:async()=>(console.error("Attempted to use unsupported fetch through hermes"),{body:{},meta:{isSuccess:!1}})}}),cN=(e={})=>({body:e,meta:{isSuccess:!0}}),Yc=(e,t)=>({body:t?{}:{message:t},meta:{isSuccess:!1,code:e}}),uN=({path:e,request:t,hash:n,isHermes:r},i,o)=>{if(!r)return;t={body:{...t?.body??{}},meta:{...t?.meta??{}}},i.tab?.id!==void 0&&(t.meta.tabId=i.tab.id);let s=qr({hash:n,label:"Listen",labelCSS:"color: #C678DD",logInfo:()=>{console.info("Tab",i),Nt(t)},path:e}),u=e.split("/").filter(Boolean),l=u[0];if(l in Bc){let d=Bc[l];if(!(u.slice(1).join("/")in d.resolvers)){s({isSuccess:!1,logInfo:()=>{console.info("Tab",i)}}),o(Yc(Rn.CodesEnum.NotFound));return}return d.handleRequest(u.slice(1).join("/"),t.body,{meta:t.meta}).then(p=>{let h=cN(p);s({isSuccess:!0,logInfo:()=>{console.info("Tab",i),Nt(h)}}),o(h)}).catch(p=>{s({isSuccess:!1,logInfo:()=>{console.info("Tab",i),p?.message?console.error(p.message):console.error(p)}}),o(Yc(p.code??Rn.CodesEnum.Unknown,p.message))}),!0}return aN(e,t).then(d=>{s({isSuccess:d.meta.isSuccess,logInfo:()=>{console.info("Tab",i),Nt(d)}}),o(d)}).catch(d=>{s({isSuccess:!1,logInfo:()=>{console.info("Tab",i),d?.message?console.error(d.message):console.error(d)}}),o(Yc(d.code??Rn.CodesEnum.Unknown,d.message))}),!0};browser.runtime.onMessage.addListener(uN);var Vy=ye({events:["userupdate","subscriptionupdate"]}),bo=ye({events:["userUpdateLoading","subscriptionUpdateLoading"]}),On=oe(()=>b("/auth/get-user").then(Ie("user")));async function Oa(e){On.invalidateCache(),Vy.emit("userupdate",e)}var un=oe(()=>b("/auth/get-cached-subscription").then(Ie("subscription")));un();var lN=oe(()=>b("/auth/get-subscription").then(Ie("subscription")));async function Ra(e){Vy.emit("subscriptionupdate",e),lN.setCache({value:e}),un.setCache({value:e})}document.addEventListener("visibilitychange",async()=>{if(document.visibilityState!=="visible")return;bo.emit("userUpdateLoading",{isLoading:!0});let e=await On();On.invalidateCache();let t=await On();e.uid!==t.uid&&(await Oa(t),bo.emit("userUpdateLoading",{isLoading:!1})),bo.emit("subscriptionUpdateLoading",{isLoading:!0}),un.invalidateCache(),await un().then(Ra).finally(()=>{bo.emit("subscriptionUpdateLoading",{isLoading:!1})})});var Ao=0;async function Nf(e,t){e!==0&&(Ao+=e,!(Ao<10)&&(e=Ao,Ao=0,await b("/auth/update-words-consumed",{wordsConsumed:e,premium:t})))}export{xp as a,b,oe as c,ye as d,Vy as e,On as f,un as g,lN as h,Ra as i,Ui as j,pM as k,st as l,Ot as m,lT as n,Hi as o,Nd as p,Gi as q,Pe as r,QM as s,ZM as t,Vi as u,ta as v,PU as w,je as x,JU as y,ur as z,QU as A,Al as B,Ke as C,St as D,cF as E,cn as F,cd as G,uF as H,tD as I,JF as J,Li as K,Fi as L,te as M,fD as N,Td as O,Mt as P,J as Q,Sd as R,Tk as S,Sk as T,Dk as U,Ck as V,_k as W,vk as X,Ik as Y,wk as Z,bk as _,Ak as $,Pk as aa,xk as ba,Nk as ca,Ok as da,Rk as ea,Lk as fa,Fk as ga,M as ha,sr as ia,Bt as ja,nB as ka,uB as la,we as ma,lr as na,dr as oa,zd as pa,ma as qa,ha as ra,FR as sa,kR as ta,MR as ua,UR as va,BR as wa,HR as xa,GR as ya,on as za,VR as Aa,Dl as Ba,YT as Ca,KR as Da,$R as Ea,us as Fa,Qi as Ga,lf as Ha,pH as Ia,hH as Ja,mH as Ka,CH as La,_H as Ma,Zi as Na,FH as Oa,$D as Pa,df as Qa,Pa as Ra,xa as Sa,Fe as Ta,at as Ua,Ct as Va,kf as Wa,Na as Xa,Bf as Ya,Hf as Za,ne as _a,U as $a,Gt as ab,b2 as bb,vf as cb,vt as db,i_ as eb,Ty as fb,Sy as gb,yo as hb,np as ib,YC as jb,CW as kb,Ue as lb,hq as mb,Eq as nb,yq as ob,Tq as pb,Sq as qb,Dy as rb,Cy as sb,vy as tb,g4 as ub,by as vb,M4 as wb,U4 as xb,B4 as yb,is as zb,si as Ab,It as Bb,Mc as Cb,Zx as Db,Z4 as Eb,ej as Fb,eN as Gb,tN as Hb,nN as Ib,My as Jb,Zj as Kb,e7 as Lb,F7 as Mb,Re as Nb,Su as Ob,KN as Pb,$N as Qb,Wo as Rb,fe as Sb,Zo as Tb,es as Ub,ts as Vb,l0 as Wb,vl as Xb,ln as Yb,Wk as Zb,he as _b,qk as $b,Yk as ac,zk as bc,vd as cc,Kk as dc,Id as ec,Ys as fc,$k as gc,jk as hc,zs as ic,Xk as jc,pD as kc,hD as lc,mD as mc,Ks as nc,gD as oc,Jo as pc,Jk as qc,Qk as rc,Zk as sc,eM as tc,tM as uc,nM as vc,rM as wc,iM as xc,oM as yc,sM as zc,de as Ac,j2 as Bc,X2 as Cc,jf as Dc,J2 as Ec,Q2 as Fc,Z2 as Gc,v0 as Hc,gs as Ic,ci as Jc,wl as Kc,I0 as Lc,w0 as Mc,bl as Nc,b0 as Oc,eS as Pc,A0 as Qc,gy as Rc,So as Sc,$t as Tc,kx as Uc,P$ as Vc,Nn as Wc,yy as Xc,Hx as Yc,Gx as Zc};
/*! Bundled license information:

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/register-5757e89e.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/web-extension-esm2017/index.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
//# sourceMappingURL=chunk-6VFX2JNU.js.map
