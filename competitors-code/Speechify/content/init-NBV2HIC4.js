import{Ga as d,Q as m}from"./chunk-6VFX2JNU.js";import{k as z}from"./chunk-LUKOAFYK.js";import"./chunk-O77QQVYU.js";import"./chunk-35EEQS33.js";import"./chunk-BGIN6QNH.js";import"./chunk-UQBFOPQH.js";import"./chunk-6HLOLWYC.js";import"./chunk-NORECDYR.js";import{g as L}from"./chunk-RQERJHUS.js";import{d as r,h as l,j as preactH,k as Fragment,l as f,n as M,o as s}from"./chunk-NUN3A7RC.js";s();l();M();s();l();var y=r(L()),p=r(z());var g=t=>{let e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},a=t=>{let e=document.body.querySelectorAll("*:not(#speechify-player)");for(let i of e){if(!g(i))continue;let o=i.getAttribute("speechify-initial-font-family"),n=i.getAttribute("speechify-initial-font-family-modified");t&&o?(i.style.fontFamily="Open-Dyslexic",i.setAttribute("speechify-initial-font-family-modified","true")):o&&n&&(i.style.fontFamily=o)}},c=t=>{let e=document.body.querySelectorAll("*:not(#speechify-player)");for(let i of e){if(!g(i))continue;let o=parseFloat(i.getAttribute("speechify-initial-font-size")),n=i.getAttribute("speechify-initial-font-size-modified");t>1?(i.setAttribute("speechify-initial-font-size-modified","true"),i.style.fontSize=`${o*t}px`):t===1&&n&&(i.style.fontSize=`${o*t}px`)}},u=(0,p.debounce)(async()=>{let{dyslexicFont:t,fontSize:e}=await m();a(t),c(e)},600);function b(){let{dyslexicFont:t,fontSize:e}=d();return(0,y.useEffect)(()=>{if(t||e&&e!==1){let i=document.body.querySelectorAll("*:not(#speechify-player)");for(let n of i)if(!n.getAttribute("speechify-initial-font-initialized")){let h=window.getComputedStyle(n,null).getPropertyValue("font-family"),E=window.getComputedStyle(n,null).getPropertyValue("font-size");n.setAttribute("speechify-initial-font-family",h),n.setAttribute("speechify-initial-font-size",E),n.setAttribute("speechify-initial-font-initialized","true")}document.addEventListener("scroll",u);let o=new MutationObserver(u);return o.observe(document.body,{characterData:!0,attributes:!0,childList:!0,subtree:!1,characterDataOldValue:!0}),a(!!t),c(e),()=>{o.disconnect()}}t||a(!1),(!e||e&&e===1)&&c(1)},[t,e]),preactH(Fragment,null)}function F(){["speechify.com","app.speechify.com","onboarding.speechify.com","calendar.google.com","sheets.google.com","youtube.com","www.google.com","mail.google.com","docs.google.com","read.amazon.in","read.amazon.com","linear.app","chat.openai.com","chatgpt.com"].includes(window.location.hostname)||f(preactH(b,null),document.body)}export{F as default};
//# sourceMappingURL=init-NBV2HIC4.js.map
